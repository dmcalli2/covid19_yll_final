<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="combine-component-models-to-estimate-years-of-life-lost">Combine component models to estimate Years of Life Lost</h1>
<p>David McAllister 17 December, 2020</p>
<h1 id="years-of-life-lost-for-men-assuming-age-and-comorbidity-are-independent-the-correlation-between-comorbidities-was-estimated-assuming-that-the-association-between-comorbidities-was-independent">Years of Life Lost for men assuming age and comorbidity are independent. The correlation between comorbidities was estimated assuming that the association between comorbidities was independent.</h1>
<p>This document combines the comorbidity, age and survival model outputs to estimate years of life lost. It can be rendered for men and women, and assuming that age and comorbidity are associated or independent. This particular report is for men and assumes that age and comorbidity are independent.</p>
<p>It also allows for sensitivity analyses on the correlation between comorbidities. This analysis is</p>
<p>one where comorbidities are assumed independent .</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<h1 id="functions">Functions</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>SurvGomp <span class="ot">&lt;-</span> <span class="cf">function</span>(t, start, ...) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is a modified version of the summary function (survival part)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># from flexsurv::summary.flexsurvreg, only difference is triple colon as </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># workhorse function undereath (written in c++) is hidden from users</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  ret <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">-</span> flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(t, ...))<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(start, ...))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  ret[t<span class="sc">&lt;</span>start] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  ret</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> <span class="co"># example of this function</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> <span class="dv">41</span><span class="sc">:</span><span class="dv">130</span>, <span class="at">start =</span> <span class="dv">50</span>, <span class="at">shape =</span> <span class="fl">0.10345</span>, <span class="at">rate =</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">11.0345</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<h1 id="inputs-to-synthesis">Inputs to synthesis</h1>
<p>Read in simulated patients from comorbidity model, age-sex distribution from the Istituto Superiore di Sanità (ISS report), the WHO global burden of disease life tables and the age distributions from the age models.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;converged&quot;</span>)   italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesConverged.Rds&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;unconverged&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesUnconverged.Rds&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;maximal&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/highest_cor_como.Rds&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/independent_como.Rds&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(italy) <span class="ot">&lt;-</span> <span class="fu">str_to_lower</span>(<span class="fu">names</span>(italy))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>italy <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(italy)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>age_sex <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/age_distribution_italian_deaths.txt&quot;</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>) {</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_coef.csv&quot;</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_0_5.Rds&quot;</span>)}</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_1.Rds&quot;</span>)}</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_male.Rds&quot;</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_men.csv&quot;</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>) {</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_coef.csv&quot;</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_0_5.Rds&quot;</span>)}</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_1.Rds&quot;</span>)}</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_female.Rds&quot;</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_women.csv&quot;</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>my_vcov <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(my_vcov)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(my_vcov) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(my_vcov)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>my_coef_vect <span class="ot">&lt;-</span> my_coef[,<span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_coef_vect) <span class="ot">&lt;-</span> my_coef[,<span class="dv">1</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>my_coef <span class="ot">&lt;-</span> my_coef_vect</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(my_coef_vect)</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/who_mortality_table.txt&quot;</span>)</span></code></pre></div>
<h1 id="who-life-tables-based-yll">WHO life tables based YLL</h1>
<p>The following uses the proportions in each age who died and the WHO GBD 2010 life tables to estimate the YLL.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>age_sex <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>age_point) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(sex, n) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">age_bands</th>
<th align="right">men</th>
<th align="right">women</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30-39</td>
<td align="right">14</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">40-49</td>
<td align="right">49</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">50-59</td>
<td align="right">190</td>
<td align="right">53</td>
</tr>
<tr class="even">
<td align="left">60-69</td>
<td align="right">607</td>
<td align="right">154</td>
</tr>
<tr class="odd">
<td align="left">70-79</td>
<td align="right">1847</td>
<td align="right">556</td>
</tr>
<tr class="even">
<td align="left">80-89</td>
<td align="right">1808</td>
<td align="right">894</td>
</tr>
<tr class="odd">
<td align="left">90+</td>
<td align="right">274</td>
<td align="right">334</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>age_sex_whole <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>age_sex_restr <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex, age_point <span class="sc">&gt;=</span><span class="dv">50</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Mean age</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>mean_age_whole <span class="ot">&lt;-</span> age_sex_whole <span class="sc">%&gt;%</span> </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>mean_age_restricted <span class="ot">&lt;-</span> age_sex_restr <span class="sc">%&gt;%</span> </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="do">## estimate yll using WHO life expectancy and age distribution alone ----</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(map2italy) <span class="sc">%&gt;%</span> </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">expected_remain =</span> <span class="fu">mean</span>(expected_remain)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_whole <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_whole <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_restricted <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_restr <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<p>The mean age for the ISS deaths was 77.4 overall and 77.9 when people who died aged &lt;50 were excluded from the calculation.</p>
<p>The estimated years of life lost obtained by applying the age distributions from the ISS report to these tables was 14.4 per person using the whole cohort and 14 after excluding those aged under 50.</p>
<h1 id="combining-samples-from-survival-models-age-models-and-comorbidity-models">Combining samples from survival models, age models and comorbidity models</h1>
<p>The following combines 10,000 samples from survival models, age models and comorbidity models to estimate the age, sex and comorbidity specific life expectancy and subsequently years of life lost.</p>
<h2 id="age-distributions">Age distributions</h2>
<p>The following shows the modelled age-distribution of the ISS data (based on the published counts of patients in each age band). The grey bars are for the simulated data and the coloured bars are the original data (assuming a uniform distribution within each age-band).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Sum conditions to Calculate comorbidity count</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>italy_count <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(italy)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>age_tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">comorbidity_count =</span> italy_count, <span class="at">age =</span> age_smpls)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="do">## spread ages along range of possible values to allow comparison</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age_bands, age_point, n) <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age_bands) <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>()</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>data, <span class="sc">~</span> <span class="fu">rep</span>(.x<span class="sc">$</span>age_point, .x<span class="sc">$</span>n))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>age, <span class="sc">~</span> .x <span class="sc">+</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">4</span>, <span class="at">length.out =</span> <span class="fu">length</span>(.x)))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> iss <span class="sc">%&gt;%</span> </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age) <span class="sc">%&gt;%</span> </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(age)) </span></code></pre></div>
<pre><code>## Adding missing grouping variables: `age_bands`</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>plot_ages1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">data =</span> iss, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> age_bands), <span class="at">alpha =</span> <span class="fl">0.9</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plot_ages1</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Here the above histogram is broken down by the comorbidity count.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plot_ages2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>))) </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plot_ages2</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="comorbidity-counts">Comorbidity counts</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>como_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> italy_count) <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">length</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Percentage =</span> <span class="fu">round</span>(<span class="dv">100</span><span class="sc">*</span> N <span class="sc">/</span><span class="fu">sum</span>(N),<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(como_tbl)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Comorbidity count</th>
<th align="right">N</th>
<th align="right">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">312</td>
<td align="right">3.12</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1670</td>
<td align="right">16.70</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">3065</td>
<td align="right">30.65</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">2722</td>
<td align="right">27.22</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1512</td>
<td align="right">15.12</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">558</td>
<td align="right">5.58</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">138</td>
<td align="right">1.38</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">20</td>
<td align="right">0.20</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">3</td>
<td align="right">0.03</td>
</tr>
</tbody>
</table>
<p>Here the above histogram is shown as small multiples having stratified by comorbidity count.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plot_ages3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> comorbidity_count) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Age (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Number of simulated patients (of 20,000)&quot;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>plot_ages3</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following is a check that the names of the comorbidities are the same in the samples from the survival models and comorbidity estimates. The comorbidity samples should have no differences (character 0) and the coefficients and variance-covariance matrix from the survival model shoudl be identical apart from the shape and rate parameters.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>name_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;copd&quot;</span>, <span class="st">&quot;demen&quot;</span>, <span class="st">&quot;diab&quot;</span>, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;h_fail&quot;</span>, <span class="st">&quot;hypert&quot;</span>, <span class="st">&quot;ihd&quot;</span>, <span class="st">&quot;renal&quot;</span>, <span class="st">&quot;liver&quot;</span>, <span class="st">&quot;stroke&quot;</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>name_cols_age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib:age&quot;</span>, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;cancer:age&quot;</span>, <span class="st">&quot;copd:age&quot;</span>, <span class="st">&quot;demen:age&quot;</span>, <span class="st">&quot;diab:age&quot;</span>, <span class="st">&quot;h_fail:age&quot;</span>, </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;hypert:age&quot;</span>, <span class="st">&quot;ihd:age&quot;</span>, <span class="st">&quot;renal:age&quot;</span>, <span class="st">&quot;liver:age&quot;</span>, <span class="st">&quot;stroke:age&quot;</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(italy), name_cols)</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">names</span>(my_coef), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(my_vcov), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<h2 id="design-matrix">Design matrix</h2>
<p>The following code multiplies the comorbidity samples, which is a prediction matrix by age to get age:comorbidity interactions</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>italy_ages <span class="ot">&lt;-</span> age_smpls <span class="sc">*</span> italy</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(italy_ages)</span></code></pre></div>
<pre><code>##      atr_fib  cancer copd   demen    diab  h_fail  hypert     ihd renal   liver stroke
## [1,] 75.1231  0.0000    0  0.0000 75.1231  0.0000 75.1231 75.1231     0 75.1231      0
## [2,]  0.0000  0.0000    0  0.0000 81.3903  0.0000 81.3903  0.0000     0  0.0000      0
## [3,]  0.0000 63.5433    0 63.5433 63.5433 63.5433 63.5433  0.0000     0  0.0000      0
## [4,]  0.0000  0.0000    0  0.0000  0.0000  0.0000 62.7283 62.7283     0  0.0000      0
## [5,]  0.0000  0.0000    0  0.0000  0.0000  0.0000 79.0432 79.0432     0  0.0000      0
## [6,]  0.0000  0.0000    0  0.0000 91.6941  0.0000 91.6941 91.6941     0  0.0000      0</code></pre>
<h2 id="sampling-from-survival-model">Sampling from survival model</h2>
<p>THe following code samples from the survival model to obtain 10,000 samples of the coefficients.</p>
<p>Check data are correctly aligned then obtain 10,000 samples.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">names</span>(my_coef) <span class="sc">==</span> <span class="fu">colnames</span>(my_vcov))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>surv_smpls <span class="ot">&lt;-</span> mvtnorm<span class="sc">::</span><span class="fu">rmvnorm</span>(<span class="dv">10000</span>, my_coef, my_vcov)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> (<span class="fu">colMeans</span>(surv_smpls) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">apply</span>(surv_smpls, <span class="dv">2</span>, sd) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">tibble</span>(<span class="st">&quot;_&quot;</span> <span class="ot">=</span> <span class="fu">names</span>(a), <span class="st">&quot;est&quot;</span> <span class="ot">=</span> a, <span class="at">se =</span> b))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">_</th>
<th align="right">est</th>
<th align="right">se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">shape</td>
<td align="right">0.097</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">rate</td>
<td align="right">-11.044</td>
<td align="right">0.048</td>
</tr>
<tr class="odd">
<td align="left">atr_fib</td>
<td align="right">-0.122</td>
<td align="right">0.100</td>
</tr>
<tr class="even">
<td align="left">cancer</td>
<td align="right">1.520</td>
<td align="right">0.077</td>
</tr>
<tr class="odd">
<td align="left">copd</td>
<td align="right">2.134</td>
<td align="right">0.079</td>
</tr>
<tr class="even">
<td align="left">demen</td>
<td align="right">1.719</td>
<td align="right">0.146</td>
</tr>
<tr class="odd">
<td align="left">diab</td>
<td align="right">0.934</td>
<td align="right">0.071</td>
</tr>
<tr class="even">
<td align="left">h_fail</td>
<td align="right">1.278</td>
<td align="right">0.109</td>
</tr>
<tr class="odd">
<td align="left">hypert</td>
<td align="right">-0.175</td>
<td align="right">0.066</td>
</tr>
<tr class="even">
<td align="left">ihd</td>
<td align="right">0.406</td>
<td align="right">0.107</td>
</tr>
<tr class="odd">
<td align="left">renal</td>
<td align="right">0.147</td>
<td align="right">0.085</td>
</tr>
<tr class="even">
<td align="left">liver</td>
<td align="right">4.059</td>
<td align="right">0.168</td>
</tr>
<tr class="odd">
<td align="left">stroke</td>
<td align="right">0.808</td>
<td align="right">0.093</td>
</tr>
<tr class="even">
<td align="left">atr_fib:age</td>
<td align="right">0.005</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">cancer:age</td>
<td align="right">-0.016</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">copd:age</td>
<td align="right">-0.020</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">demen:age</td>
<td align="right">-0.009</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">diab:age</td>
<td align="right">-0.010</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">h_fail:age</td>
<td align="right">-0.011</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">hypert:age</td>
<td align="right">0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">ihd:age</td>
<td align="right">-0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">renal:age</td>
<td align="right">0.001</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">liver:age</td>
<td align="right">-0.047</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">stroke:age</td>
<td align="right">-0.006</td>
<td align="right">0.001</td>
</tr>
</tbody>
</table>
<h2 id="estimating-the-linear-predictor-for-each-of-the-10000-iterations">Estimating the linear predictor for each of the 10,000 iterations</h2>
<p>Note that these multiplications are not matrix multiplications. They are element-wise multiplications of identically positioned elements in each matrix. Each part of the linear predictor is calculated separately, these are then summed to obtain the linear predictor based on the age and comorbidity distributions of the simulated patients.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="do">## shape parameter</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>shpe       <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;shape&quot;</span>]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Intercept (rate parameter)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>cept_lp    <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;rate&quot;</span>]</span></code></pre></div>
<p>The following shows the linear predictor for covariates without interactions by age. These are mostly positive, reflecting the fact that almost all of the comorbidites are associated with increased hazard rates for death.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="do">## This multiplies the covariate level (binary) with the simulated coefficeints</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> italy[,name_cols] <span class="sc">*</span> (surv_smpls[, name_cols])</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="do">## This adds these together to get the non-age dependent part of the linear predictor</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(non_age_lp)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(non_age_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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wKLoBgCLohsALIpuALAougHAougGAIuiGwAsim4AsCi6AcCi6AYAi6IbACyKbgCwKLqBW9ec8w5DFN3ArSOgNkU3cOsIqE3RDVyvl8d/emzOv7w+reL2jo1Ze4bm1cTdH6qTEM47p0xcBfT56z/eZ79E3lQouoHr9fJYXURtfSmY6gpymzs2qjMV13dU55pdaP3jvZO6VgG9XxXIeD2ZSVF0A9fr5fGhPg93c9Lkxd3H9o7tiN9+bO5o7pyth+ydtrsOaH0Jupynyp0ORTdwveqtxzpfVfpWX9s79kYtqtf4zdm1m5Nr74W4LZD5glFToegGrtd+QFcThwFdbXB+9R+rH883AT24cki9DXqGK5pNhaIbuF7H16D1T6ovnTVopwoBNSi6gevV5nFnG7QT0ObabWq3QefrId0qzTZo1ss1TIeiG7hemzxu9+J71qAvj9UBpL29+GpvabfK833eq8JOiqIbuF7bPG6Og/Zsg959rOM4W22N/nt7XZbda2/VAf37+3wXtJsYRTdwQ4YuCpfv8p0TpOgGbkIdweYY6NBP0U/RDUzP870OLq+26FyVdm8MATUougHAougGAIuiGwAsim4AsCi6AcCi6AYAi6IbACyKbgCwKLoBwKLoBgCLohsALIpuALAougHAougGAIuiGwAsim4AsCi6AcCi6AYAi6IbACyKbgCwKLoBwPL/VzttpYXga+EAAAAASUVORK5CYII=" /><!-- --></p>
<p>The following shows the linear predictor for covariates with interactions by age. All are negative, reflecting the fact that there is attenuation in the hazard ratios for the comorbid diseases with increasing age, as is common in chronic disease epidemiology.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Part of lp dependent on age</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ensure_matrices_match</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">paste0</span>(name_cols, <span class="st">&quot;:age&quot;</span>) <span class="sc">==</span> name_cols_age )</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Loop through the different age groups to get the part of the LP with age interactions</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>ages_lp <span class="ot">&lt;-</span>  <span class="fu">rowSums</span>(italy_ages[, name_cols]  <span class="sc">*</span> surv_smpls[, name_cols_age])</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(ages_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following sums the components of the linear predictor.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="do">## total lp</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>tot_lp <span class="ot">&lt;-</span> cept_lp <span class="sc">+</span> non_age_lp <span class="sc">+</span> ages_lp</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(tot_lp, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">12</span>, <span class="sc">-</span><span class="dv">5</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following transforms the linear predictor onto the rate scale.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>tot_rat <span class="ot">&lt;-</span> <span class="fu">exp</span>(tot_lp)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="dv">10000</span><span class="sc">*</span>tot_rat, <span class="at">breaks =</span> <span class="dv">500</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>), <span class="at">xlab =</span> <span class="st">&quot;Rate per 10,000 person-years&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="estimate-the-survival-at-each-time-point-3-monthly">Estimate the survival at each time-point (3-monthly)</h2>
<p>The following uses a function from the flexsurv package called by summary.flexsurv to obtain survival probabilities at each follow-up time. Where the time is before the patients age at baseline (in this case the age at death in the ISS data) the survival probability is by definition one.</p>
<p>In this function all notional patients have the same shape parameter, but have patient-specific rate parameters. This function is not vectorised with respect to the rate and shape parameters, but it is nonetheless very fast.</p>
<p>For one simulated patient in the “low” SD age group the rate and age variables are such that the function returns a missing value, this is the only sample that does so. Presumably there is a numerical reason in the internals of the function. Give a warning and drop from the summary function at the end. Return an error if there is more than one missing. Only occured in most recent set of simulated patients which is a fresh simulation.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>times_vect <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="fl">0.25</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>tot_surv <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>){</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> times_vect, <span class="at">start =</span> age_smpls[i], <span class="at">shape =</span> shpe[i], <span class="at">rate =</span> tot_rat[i],</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  tot_surv[i,] <span class="ot">&lt;-</span> <span class="fu">t</span>(a)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">is.na</span>(tot_surv), <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(tot_surv_na)</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">any</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">sum</span>(tot_surv_na)</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>) <span class="fu">warning</span>(<span class="fu">paste0</span>(<span class="st">&quot;The SurvGomp function returned NaN for &quot;</span>, tot_surv_na, <span class="st">&quot; simulated patients&quot;</span>))</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">5</span>) <span class="fu">stop</span>()</span></code></pre></div>
<h3 id="the-following-plots-show-the-survival-distribution-for-a-random-sample-of-3-notional-patients">The following plots show the survival distribution for a random sample of 3 notional patients.</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">1</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(times_vect, tot_surv[i,], <span class="at">xlab =</span> <span class="st">&quot;age&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;survival&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;Age &quot;</span>, age_smpls[i] <span class="sc">%&gt;%</span>  <span class="fu">round</span>(), <span class="st">&quot; years&quot;</span>))</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<h2 id="survival-distribution-for-all-patients-stratified-by-age-and-comorbidity-count">Survival distribution for all patients stratified by age and comorbidity count</h2>
<p>The following figures show this for all patients according to age, and comorbidity.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tot_surv)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(surv_all) <span class="ot">&lt;-</span> times_vect</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all[ , times_vect <span class="sc">%in%</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">120</span>, <span class="fl">2.5</span>)]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pt =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span>  surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> italy_count,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> age_smpls) <span class="sc">%&gt;%</span> </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="st">&quot;times&quot;</span>, <span class="st">&quot;survival&quot;</span>, <span class="sc">-</span>pt, <span class="sc">-</span>comorbidity_count, <span class="sc">-</span>age) <span class="sc">%&gt;%</span> </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">times =</span> <span class="fu">as.integer</span>(times),</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">comorbidity_count =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(pt, times)</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&lt;=</span> times, times <span class="sc">&lt;=</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_bands =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>))) </span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>plot_surv <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(surv_all, <span class="fu">aes</span>(<span class="at">x =</span> times, <span class="at">y =</span> survival, <span class="at">colour =</span> comorbidity_count, <span class="at">group =</span> pt)) <span class="sc">+</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_bands)</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>plot_surv</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAABVlBMVEUAAAAAADoAAGYAOpAAZrYZGT8ZGWIZP4EZYp8aGhohkIwnrYEsco4zMzM6AAA6ADo6AGY6OmY6OpA6kNs7Uos/GRk/GT8/GWI/P4E/gb1EAVRHLXtNTU1NTW5NTY5NbqtNjshdyGNiGRliGT9iGWJiP4Fin9lmAABmADpmAGZmOgBmOpBmkJBmtrZmtv9uTU1uTW5uTY5ubqtuq+SBPxmBPz+BP2KBYhmBgZ+Bn4GBvdmOTU2OTW6OTY6ObquOyP+QOgCQOjqQOmaQZgCQkDqQkGaQtpCQ29uQ2/+fYhmfYmKf2dmq3DKrbk2rbm6rbo6rjk2ryKur5P+2ZgC225C22/+2/9u2//+9gT+92dnIjk3I///Zn2LZvYHZ2Z/Z2b3Z2dnbkDrb///kq27k///r6+vy8vL95yX/tmb/yI7/25D/27b/5Kv//7b//8j//9v//+T///8meiALAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2d+eP0Rn3fvwaHxDNTm8aTA40hVZLipIchgbQptLXTNqmJN0mDmxrMYT8Qgf3E5kH//y/V55pD10q7klbanQ8832Pl/e7O6LXvzzHXU50t247t6dZvIFu2McuAZtu1ZUCz7doyoNl2bRnQbLu2DGi2XdvFgH589/Z4Ld2jZUAH7fFaukfLgA7a47V0j5YBHbTHa+keLQM6aI/X0j1aBnTQHq+le7QM6KA9Xkv3aBnQQXu8lu7RMqCD9ngt3aPtEdAfv/KbP2y+/eCVV1750nsf//QP6Ve0j779ym9852N+7Ce//8ORv3K1bdfSpFVk0PhXXvn6ti3do+0S0N/Cb9/7Onz96Ntf//gHvyWXmsd+/Js/lMd+8JUV38UmgPqWRq0KV7du6R5tv4B+9BffgW8//eP3Pv7J771HV+CX6DH+dSXbrKWtVon99I++s3FL92j7BbRxbuDjwLvBrUL7ye//Z3CG/jES2ZVss5a2W8UGyrltS/do+wX0J7/7HVDRxs9FgP4OEusfW9XzbdfSVqvI8MdtW7pH2y+gaN/7ektB8Rf/2J0A2moVX4OEaduW7tF2D2gag/5bvF/+sfsAtN0qsu9B27Zt6R5tv4CCgnz0n9776NtfSbP4RlT8Y/cRg7ZbhUY54rYt3aPtF1AoBUY1T5KW5pcvvecrhneSxaetkpaSs9+0pXu0HQOa2t/23KF7qYOmdruW7tF2CWg0dCT20V92/7u7GUlK7IYt3aPtEdCd2OO1dI+WAR20x2vpHi0DOmiP19I92sWAVo3hl2Ebv7ze1YX+9PSW7uDNXvXCy6C0jmVAB69Ob+kO3uxVL7wMSutYBnTw6vSW7uDNXvXCy6C0jmVAB69Ob+kO3uxVL7wMSutYBnTw6vSW7uDNXvXCy6C0jmVAB69Ob+kO3uxVL7wMSuvYKKCf/dmP8PuvvvvGH/yz/0Y2qwe2vZoBnfnCq9G1gI0B+ukbX0NAf/13b9c//zfyjW1WD2x7NQM684VX5OtqGwH0w6/+Iynor/7bj0BM+RtfndUD217NgM584VUJu9KmuPjP/vyf61/91+/zt+aBf9VY+K+stfSDc+nTzaLvdMfmRn+1272RO7QpgH76B0gmf+Nr4TNoyaqqKJxzlTGWP5jWuFtrwzVX605LB5/joKFOWmvwJ+mFyvfHdW9n6av3rKBgoYlaGDW2QEadIWAbVN0wovcEKNJpraPmOlM035VlMJ0d+5xmQMdtCqBnYlCl8RsSam1hCFJnrWoIlZt2o66/5mrdaenocxx8KsmHAKHONoRi09U4oRnQUZsC6K//7luUxX+rP4tX2uB3o4wIqSkMSik+0M/ovQFKhDZth1Y3n1L4cCKi8Fld/c3Ov3ovgMK/8Tpoo6DaAKJwY0wjHIbulDEqQrTD6N0Bap1vuDHQcoeEOjcuoRnQUVtgJEkDoY07JwU1SjXflAI9wTtFd62L6N0BajhbhGY3H1IkFBClfyu/2flXHwfQhs7GhTWEGh0IhXuCigpGt6iF6N0B2rSbwvDmgwqJIjj6Rjudss6NEJoBHbVFAG0I1XB/DGho2XxV6OwtKokxGI65dix6j4Aq5yUUCDWuKJpc0Sps/Kpvdv7VBwK0auhsCG1EFLx8CfeHxMTw/43pQfTuAEXfgYQaJR9PB4iqno/n0m92/tVHApQJVQpCUVOq5gaRiKKEWtRRdPKxn787QJvPpFJUBIaWa/gKLS4UxDjFEKEZ0FFbAFCFtfqG0AZQCEMNSQjmSognBWaG0gWP6N0B2hDpCVWGvQeUgxXm80OEZkBHbRlAK8jjiVClSqMsRKNQclKsoYbL+Cyibquuv+Zqt6Xjz4ECGzh5pyx7D4XZvHLKWMkT13qz868+GKBAqIY8tgG1RPVQGIpS/GlRSvA2sYi6OwRUI6ANjxY/oRoxbX6BrB4SJbdxPTgDyk30hEIQ2vy/pAIT3CEiFPUTCy94k4jQ0QHqIwKqWUKppYa9R/Mb/OQwVaLpNGu82flXHxFQrZpQVOmyuSmgoFoklD08RmUu8fNrd/01V3taOvocBtQCoeDcKWW0TVhuMU1C79ElNAM6aosAyoQqlFAi1Bk2ZbgmylVRX7QfJ/SIgBoh1PGYGsWiGnw81uzhowkiusKbnX/14QCFej2MejaQls0/JjRIaCA0ILp6119ztaelo89RJKGgnI4BRQnVVHSzTKgrMqAzbBkXHyTUNpiqEoTENS5ekYQyoUYqoi6pN63Z9ddc7Wnp6HOUZievvYQqbLWieJQb3SY0AzpqixTqRUIpiwdCmzuChBpLgKqIUK6HjhN6SEAhKUQcQUJxLC2SUCqKYkU0AzrdlgE0klD8VmL6DqPy+D8JRa2UQ9HVjRJ6QEC1Nj5P4loo1pvgK0koE5pKaAZ01C4GNDbV/K+udc0SWtalrRswEVDLLp6SeCWEWiF0idffh2mtSEKV+HT6R4BiqckU6OWLe2r2yraQgrKEQhpfaVtVOB6vNSqnEMp1axpWCoSuqg3XXO1r6dhzcKQ3SCh8MyEItTRjBgc8EwnNCjpqiwIK85YhTbIV+PjmJ5whGhEqGurn9g7m8scEVCRUJsUaHPW1flDNz0YotpjVlQH1TUwktBFRa4BQANRYP5wkcoKEukBosfQUilsCqsifs5+n2TLa8s9hNkIGdKotD6jSTZpkS5g6AvcEh6VVJKF00ySjHSL0gIBi/UIklBN5/FRqkVAOv9M2Z0BHbTFAadYd6EajmxCEWs2F6kRCewldeArFTQElCTUkoZrXJxGpKkyMdcUG82IzoF1AvYTCxHq4JRp5jCQ0eHlOlXB4uiOihwQUwhtEk308EcrTQzEsNTYQWiz5ZudffThARUKpFNqkSZYApSRWsYRKvf4coUcFFCVUJRKqeDReGcULDJI8KQM6agttYJv4eNBQ8PEw5KkNF0NlxBMzJWWslK1l8siCI9Q3ArTE6VzahDTJYZKIQ0kYjqto9YtvcQZ01BYEtPnCPh7n6jaEAqB0c2wsoZbCUCuLQGzPLLQDAopBKLkM2RuABnstpfGGglMTJNQt92bnX31IQCtaOQcSakulS/TxvIJOJDQQatwwoQcFFFe9UBTK0xHAYXAfJBJqJQzNgI7akoCihMJ9gYk9qqw8oMmYvI2KTbLvBhK62Aj17QAlH09wGuUlVBss3WOGjx9VLocioRnQUVscUEPrPrRpYjJYpaPxzvhpTYZFxFRh4ogvDi7f9ddc7W/p8HMUA8qDnIZUFLMizYDyjhYShSKhGdBRW+qUj66PNwQoLPR0pJyyQElWjsuAUh+hhwQUPQd8JDUVmTyQWllC1kQSyolSBnTUlgfUwMokmDMSAWqTWSNCaDIq3wpDDwloCWT6chN4dE1jad7HK5o1Eo15FhnQUVsUUPHxWAxtCIX5TDhA7WhEhabtKl4mTzMkeQYFE7p0119zdaClw89ROgCKMomj805hluQlVD6hwcmv35Qzl5dBaR1bHlCQUE0SijksbubQkVDOZnGSpBAaD3keFFDUTs2AYjFUY3SDXp32WokktHcMbY2mnLm8DErr2NKAkoQaklDw8iShKpbQOAytjAmERk7+wIBWMMvQ4hZVGIvLRiu0IZDsSOkXDhajEpoBHb7kN1T++Rtgb+P3rw2dkxT7eFzeqQTQWEJVUFCRUCsjngmhxwS0Eh8P21AqGlPSuEMATD+wXKsPS7POS2gGdPBKerAcnEHz4dvR5XYPRIBipan5sW4AhVujRTlCIs+1Jl4zLxPs6Y4t2fXXXB1q6eBzGFDFQWhJo/LexxtrleydSp9SdvJjEpoBHbySHOoBx8/8+u+/H11u90Di4+k2AaAUkaUSamMJlbqgT+WLqwcAbwSopg0BjAShtA0lfDxPYYRCyX5V7OSLMxKaAR28khyLBFLauHxw9HX7pDkyJd90TRIaALU41JdGoV5EJRi1XBJtbtgKzdzCdNNeVeMoBS7+KGkNMiTyVGeitvo4nNpbYKkp25ANAxofLIffP/tmrKLtj6iSb+TjUUIbDw8rHhIJ9X7d72ybLpcvrt+c8VYKGvn4CFAFE7q0fED9+gJODV17jHeVppy5vCphV9o0Bf3UHz/j49BODwQfb3jeMgKqEwn1AhLxGW/a5BOlAwKKx53gh1EApfFOTZAmEmpkQ19y8ms35czlteBawqbFoB9+Sx6dAmiFM3SVqhtCIS/QcaWJK9UeURlPCjuOFNfuHnpzQLn2q4OP15Yl1IZKKDt5NyqhGdDBK9HBcuTYQUZ//Q+Dx3F7H59IKCBIgHLyalQlhIZ6PcHqIkIPCmjZhDglrvxAQLEkjJpqZK87y6gqX74YldAM6PAlqoPiSXPk6X/+xhtf9Yl8pwdagGIqD4A2Pl7bXgmN4k8aULI+cbhqfOWmgFIRWONxJ+TjQT0jCcV1n35S0zkJzYBe+sRODwRAKyMT68XHW5JQ5/dpiiU0EOqiQc9luv6aq4MtHXoOjO5WAVAIvUVCnVZBQtUMCc2AXvrEbg/EEorTeQKgRCiHXi5aJR+ExAuKD0OX6Pprrg63dOA5EaBQCMX52t7HaysuxFp/iJSTEc9BCc2AXvrEbg90JJR9vLEeUNnVltPY2NWJhHpCF+n6a64Ot3ToOTquM8GaQVrcqU+YNUkdw7KPnyShGdBLn9jtgTagVK5nH0/bwjiR0GjE09CGDrK1rYx7XrFB+C0BLZWsj9empE0rGkBhND6S0HAOnz0noRnQS5/Y7QEVvhstQSgCamMfLxJqeCccmiLKEmpsCEOX6Pprrg63dOg5IUuCzSssAArNZ0DDKLyXUCF0WEIzoJc+sdsDEaBQCWVA4UhAq62lQgtLaESon30XJNSdldAdA1olgNKs5ZOiE/gUb5ZKWjpJQjOglz6xpwcSCZUzkzQA2lBaatoVWyRUjviiuNRLaEzoAl1/zdWRlg48R7Ik2v5HlYoCcFz4oeOJTOzjRUJHhpMyoJc+sacHWj6eGfUSij5eJRJqeS8c2XpZRpTOlZr2DWiJgJaaACVFRQkNgxUsoZInDUtoBvTSJ/b0gIp+MDyWFABVWiqBURhKc5mSiXdTJHSngMIU7ZImw8I0LltS2434+DMS2qehGdBLn9jTAwOA4gZF4ONNRRPKjQ2AgpIEJ28jQsckdLeAhrEkXHhNgFIQ6nSQUMsH1ESlJtfv5DOglz6xpwdU9BMHoU0cprHEkvj4loTKCEskoXZcQvcPKAShOGUZXEcDKLr5cKaEok3UzktoBvTSJ/b0QAIob8VYsoQGH9+RUDpnVna3nSShewY0zpKwgAY/wdp4p43M1u5IqBuS0AzopU/s64G2hCKglWEJVbJ9QUoo/Oh8PAqCWrlz1frdAlq1AYU9RSRL0kFCVVdC+/OkDOilT+zrgT5ASx7lk0JTr4TSLCc/unJWQvcMaIk7p6GfLy0u59Rhmr2XUAY0ltBeJ58BvfSJfT2goh8DoBVy6INQOy6hURg6LKF7BdSn8ZQl0a6THlClY0C9hIZKU4+Tz4Be+sS+HmgBqhlQXOgoPp62fOuV0DDHp3LjB33tHlCYvhQDWsYSqmIff0ZCM6BL/jEV/0xT7qBcTcJBgMYSmo530n3qSuiSb3B1AxZr3t4PPL3BFVnYcMVB6BkJvXUL9mZrKaj38QioYQVVbQm1UguNJDQseByU0P0qqE/jGVCLy+TpEd6WMQKUK24cdPdthJMV9NIn9vZAQqgAWtFmBpazJNmwvkdCqdKEN8z54aRjAUppPM5BQB9voiDUiISyj2ePEUlod0g+A3rpE3t7oANoc6c8oOLjhyTUTJfQXQMKm/NDGp8AikEonRollSbmc1xCM6CXPrG3B1TyC04YKUFSDC77EB/vj00KEsrTz6IwNJLQudXBGwLqsySaLsL7oUaAaj7oI5ZQmR+Dm1a4DGhiqwJKGxKWUBXlsSSVSqjsAhNtSmiiWzYooccAVMN8JjrIiwHlg/dMLKFUCo0kdIWmnLm8DErr2IqAGi7+lToJQnsk1MYSaiZI6L4B9euSPKAnxcdHadpZRUaTvJcPM0ZaPj4DeukTe3ugF1D08WE4Pkio8RPQ/DS8HgntI3THgILH0JGCKgJU034jxuhw4omPQsPoWdGW0AzopU/s7QGV/uYXx7d9vPGDfiEK9cXQtoRWhwIUsiScHqKJUIy/LQOqSEIFUGNlWuighGZAL31ifw+0JJT2aCo1bWGrBVDTJ6G8SsfyHPt0edKso2ZvCSgFoTjpLpZQKdWThPozo2TzSePHJtoSmgG99In9PdACtPISSj5e0bxyK8ddpBLaKTUNSugRAA0+3u9ASYuT/GCSjCZFq1k7A/IZ0Euf2N8DHUBxKy2SUIvnd45KKPs605LQDqF7B9TXmUIQSpve+dFO2hZchQnbkYTGPj4DeukT+3sgAbSmLMn7eJ1IqCim37ae83gvodZLaGc86SCAUgyqMQjleLzj46NNRvokNAN66RP7eyAF1CgZToI0iYPQloRakVCraLGnNecldOeAVj5LKikdlOibFhFyPghbrAxI6NJNOXN5GZTWsfUBLb2EWjp3LpVQ25FQqQ7Gm9oeCNAkjSdAfXrYmtGEPl55QL2ERj4+A3rpEwd6ICa0pj1CsVZPgMoxlrGPH5TQeDOx6jCAooRqyZJKOuFYn7yP11qCUEMb/cXrj2W3uwyot3UBxSnLGgGtcBJvyRKKGUIqoVQKnSahewc0TuOxcSEIjafVt9Mk+kAmaVIG9NInDvRAL6Ds430Q2pbQeB8ckVDDd6zqk9DdAxqyJCNZUtgowA9KmCChrVJTBlRsylGIcgZieKCeBiiOdoKXq0hCYVmSz+ONB7QroeaMhB4F0LINaFJo8hJq/CCFa6dJhwD0+WvvJt8/+cIH8OO//NPsv9R9yqSjEOloj/RsxIEe6AMUAtEKV+hoLbeoR0JpJ/Bk1p1EZUcDlNL4kgDFILTs+PgIUB7k5fYmlaZDASrWANrz6AV/qJ52DA2f3pWcjTgd0NjHa9p4IwbUxhJqg4SaroRe0PXXXK3HWzr0F2E6PaXxkiUZmman+wC1PRKaAY1sykFefAZieKDvKEQ2lfxGgDYSWsMtozXiXkJDrV4k1KpxCZ3b3tsYpfE1A0pNgxP3UEFpWD5kScHHBwmlAflbN6OuX7zz9PRy+P78tb959enp9efNl7fCg1/+X09f+L+v/fXT0xd/hnx9/ubTS38NLh7/4/fh+c9eHv6T7+IX+q/fgj/9eutNTDkKkc9AjM9GHNaVSEJr2r3B+3gP6BkJ9XlSRRJKeVKcJu1ZQVt1JjqNGzZxQD5xTmgqocbGU2VaPv6GCvrinZcb3N7C7/Dv+asNg88AxGdf+CA8CJw1V/CX1979/M3XmydhDAr0gZa+eOetwT8pgL5Kf/VCBUX78O30gaEeSACtmE1KkygIxS2IW8OdUyV0dtdfc/VKQLUHVDGgLR/PE2XaEiprP4oFm3Lmcj8AUcpDec+rbwGLb+GV3gfl8WceUKDx+Zc/GPyTHlD/B6YDmoacDaCTYtA2oEqdaAIvB6E9Pj5IqOVhlSqR0J6NcPYPqOIgFIsYsDzecJpEgNqwqFWNSugNAaVIsvneqJunR76kDwKCDYvNL8/w8S8LoODeIw8/9CeT71MBDUch8hmI0dmIcwAVH++DUC+hKpFQ05ZQesQfQRdL6O4BVZwllSihMaDc+FhC/RxYv5w1SOjRAX3+5f8XPPyygEZHIfIZiFPqoL2AioQSoDLrzPv4fgm1IqGyoOw4gFLdVyeA4plmaSU0TZO8hCZzmvbg4l96N/HHBGjfg7HrZ9pevPMfgocf/JOXATpuQz3Qr6AeUPDxlbi5REIZ0DgK9YmTlTTJzez6a65eCmhFdaYqBKElBqFlCqiEnRGgPRJ64yQp/pewmD4YJ0kvS5IE8Wfj459eHv6TkFK9eOclDyg9ZV1AI0IZ0BMAijsSagpCTdvHD0ioGZTQnQOqY0AVZ0mm1EkQGo3HWzwCOZJQ5xcn3bIOOlAToi/pg3/tf/Flpnfr9/GxV98a/pM1FJb+45+E6OH9GOctAKU0njYsYB9v6bRubZI83pi2hEYj8gKpl9BdAlrKr5LG05JW2vKmUc3Yx/PiY9uVUJtK6CEK9WMW5fAX2RaAjvl44yWUAHUsoXUUhbp4szs3q+uvuXq2pa3npIAqllBsNXxEFVacBFBrQprUllAXSejhAX3WrrzPtM0ARR+PgJKE2lYe3yOh7Sg0zKw/AKA6BfREgWkIQplGnyWJhHofTxJ6cECxAo+OHOyl2WOfmwBaso8vKfDUkY9XkYSaVEL9vgYShcYrkHcJqCeUN7eD77xurtSnxr8HQJUfRDPKA6rkEIlQCi2KgwN6vS0PaCCUAdVQZzK6ar4RoCUSmvj4pBTaktDKyvlzXkL3Daik8dBIyZJOHR+fSKhKJNQFCc2AXvrE4R5IAIXTu3COhCZOURY1H9dNWdKghNpIQsOcJjgK4xCAwhBvKVkSARp8vAr7MEY+XiRUnHzRe/rcMg3NgNLlBtCKJJR8PO8TykuTVCShYd4yH4scS6iLJNTtHlAIQisJQnHs/YQT6RNAWUK9j08WEnCaNHRK9wINfVxAPaEEqPfxGg78SHw8pu5eQu1ECT0aoHh0Am0fxgOgFIwjndYkPj7eOG2ChGZAh22kB7qAwo0CCa1QLEBCOz6+LaFRmuSqKE1CQg8CKAahAGipTiZIKPWIVTKzsMfHT5TQVQH9Rb9dCsyFtgGglTrR5q1wgDr5eJJQ8vFBQgVQZWMfzxKabOKwT0CjNJ7m1FOWJIDi8iQ+hU6JhPpCUyShNpHQtRr6wIAKoR5QOiyp4kIT3ACUUM37gbfSJJFQf6tIQm0soVO7/pqrU1qaPifKkir28ZpWJwGguOxD+5FemqqsuNAUSWgYTeo79mOxhmZA6bKW/W8aH09BqE+TjC80pfs0WZ9BoI+vRELDCuT9A1oGQEvcvCL4eMtBKEeh8sn0lSY7XUIzoMM21gMxoIjkqWQfXxlOk5Su+dSkWEL9CnmlQikUJTQKzc5L6F4AxRNpIAhtYhvv440fjUcgZdayG5TQlRp674COWrx0zqhaeUDRnWn08YYDMSV5kh2S0OaRGkGtg5Nf5W1fa6X8gEFo861OsqRS0iQ+FFFZqWOIj/eb9yYSeqPWHBzQ0Y+oij6iUKmHYmCFPt5IKRTulE4lFBeSxRIaRaEhTepuJbaosFyjoEmWpMTHM6Awo6kUH0+DncHHK5RQ1ZnTdCYIzQo6bKM9EAOqeY87CkJxNZJGH0+FJjUkocmAvKE0qRrYL3TB+7YYoBoLTQSoIkBLw2yyj1dhhHdQQkcJzYAO23gPqHBZw0bL7ONhK60qGk0Kg0kMqA4SygPVl0jozQGVNF5VIY3XqY8nJD2hqYS2poys0tAMqFxmH69oZhOdcxH7+CChaS2UfLyXUNyMcZqE7gVQ8PG0xV0DKH8ioyDUSyh6Ci+hpiWhOwX08zdhifzqtgGg6OMBUA5CUUK9j++RUOslNIpCKztdQvcAKGzQhICWlMbjug+SUDwbUXV9fL+EjlWabggobMfwrL0+YwXbDlCtOAjVHR8vA542klDrl+byeCf5+CChF9+ZLQFtPpUEKC9QIkBlLElFa5NEQqM06byE3hDQz//0g6uXc0yxlQBFQuUyzrgrSULoUAE8T8HwXYok1CQSSj4+Gu80Lp4zcumdWRHQkCURoJXmLAk3uQsS2vbxiiWU1wx2otA1GjoB0KJrHtDnv/2z+vM/uWCK/EzbAlDv400FPr7yEgqDSZVIKO/AGEmojSQ0bDByDEB1WVGhiXYJxU3u6PyEGFBl/OK5SELVZAm9oYLC3gt3Bmjk4zUdSUNBaCShNkhoKIXGZ1oGJ79vQGEUSXw8uHYCFHdjxD2aaDTeA+qjUEt7ibUkdI+AHl1BgdAY0MoDKhJqORIbkVAT57Rh3vJZCd0DoKpiH4/rj0uOPMvSCKDKH/rMk+6UnzJiEgmthgnNMeiwneuBGFAgtDwJoHQoNcCpo71swzKyIKE2klBIkyIJHU2TdgEoJEcMKGy0rE/o48thH88Sav2C+fMSetMs/vUjZ/EJoKmPr1hCNd2pIKGyDzjkVD0SGq2eOyeh+wCUfTyn8eZEO0y3JFQUNEio+HiTBKH9hOY66LCd7QE1ACj7eCU+fqqENuDyisfOdqFL3rfrAI3TeAFUEaBwXueQj+cNHIxIqJkooXkkadjO9kAMKPr4igEFCcVKE42qsISGfZpEQi0d8RUkFOctSzY/RuhOACUfHwEqPp62maYPp5HBJJZQ9BtqooRmQIftbA90AD0Bjbg1tuEZJMbE24GnEmp6otCpEroDQCGNBzBDlgQLX0hCFa3TChLK8+pZQnmWU7QCeTBNyoAO2/keUOEyDG+WfJQqTKvHtXSWR1X6JdT2S6gJBdHhmfW7ADQOQmnKMlaaTCKh8fZ+XkLtZAnNgA7b+R6IAYUpTSEIlTRJUSk0SKjstUES2twav1uoSKjkSaM+fi+Aso/HwyCVSKiKAPUSyiNpPIW7JaFuUEIfG9CwofJn34BjaOTAObLzPdACFHx8pXh5PK0EIR8fZoX2SWgVDXjC0g8/7W5kcdINAW0Hocrv0IQSyj6etqZKfbxIqJPFdNHipGpAQh8a0HCwHBztAUfR0IFzbBN6IGwjptHHUxAaJNTy7MgzEmpFQpuvVdioyQ6v79wHoBX7+BjQ4ONhs1AdFZp45YdR0eK5loR2CX1oQMOhHp8Cph++zQfOsU3ogQhQ4BEBpR1GNEoo3KMhCa19Im/nS+huAAUfz4DCwk5cE2/Ex5uWjxcJtV5CJQpFQPvmjDw0oOmxSM1PfOBcPXrSXGzR0jncJJOGT+iIajyFDn28SKhqSSj5eOfzJBqPr2t/LrDsMrIvk7KhUcMAACAASURBVIVzkBjV4ONr3CMU3Qb5eMOA2tTHy+I59vEtCa1pM8Ytbe+AJgfLwRE0fOAcX57yEe3z8V5Ca0NrG+GUL3TgQ7VQm0yt95vWjyyR34OC0qR6CUJxUj1nSYaCUJJQ8fGmT0JtJKG9eVJWUAb0V9/9Fj/q49ApPTDs4xUBij4+klCj/FHqmgGFiSYmklBXmUhC+wndDaDex+OUelj2AR1QTpTQZBuc3ij0oQGNDpb77Bs+PboWUPTqAKgiH68HJVSK9a4tofFujP150i0BDUFoxYWmmrMkWBuf+HhlQinUSyhF5GaahD40oOFgOeaTD5zjy1N6IDozCX08AikSCod1+1Vk/lwv5be6YwlVfq87VpUJEroXQMnHC6CxhJKP50XIYV49Lbzm4c5k4jLlSW1CHxrQcNIc1D8hPeID58gm9UBXQqEUyhJKp3x5CRUfH+0Wao3kScl+tp3dGOfdma0ABQnVDaM1bn+DOzQFH69906nJlufBWimFhjxJKmo9EvrYgI7bpB7o9fE+CqU8XiTUymahoqG8bK61XSgPyRsbETrvzmwEqPfxNWdJqKDQfvHxXkKlFup4f6oBCe0SeltAt5ivvCWgFQHqJRRLoR0Jtb7UpEVCTUtC090YewjdCaAhj2dAdROEYgkDfDx+PK32s5ZjCbWRhNrYye8J0E+evnBHgJKEKgSUJJR8PEpoxRLKAtrZqMn1SKgbkdCbAtrx8QxoJKExoFFmKBLKa5PMeQm9JaDvv/Q3x1fQjo8HQPsl1KdJ1lcGRUJVspVYZXGzOymH9hG6D0BDHu9dvCZAS/TxsYRKLTRIKDn5MxK6MqCua3fm4vt9PE8ZQQnFacueUJJQFUmoOHne3aDi8aQgoX27OOwF0KhWT4Od6sT7K0eAKp/H0/YUkYTygKcU1bqE5hh02Kb1QAwoSOiJtnxDCRUf7yVU8wHdPk+ystLTbzNixcnHq5M6EroTQKvg47nOVOJYEvn4mFCaaycLWhVttzxBQjOgwzaxBzyh2u8GHiS0SiVUNgS3UgzVXQlFJx+i0P6NcHYDqKZCk2wFjqOdhnx8ANSYMxIq4xJdQjOgwzaxB1o+XuEiiJaE2iQKDXmS9dXraKemqiOh3anLOwKUfLz2W4FHPp4J9XvgWIo/WUIlTxqV0AzosE3sgdTHg6CIhMKhSZUskFf+TIVKdSXUegltrhGhoxJ6W0DbPr4uFW/CSGm8aft4ExYg0yZpNCchTLsblNAM6LBN7IFuEKoI1URCjU4l1GfyNmwlJhIq40l2eC+x/QCqEVCthVAIQk3JeTzOZzIqpElc8xUJNR0JbS9BziNJwza1BzpBaJBQjYCGUhOmSXT2rAAKZX0u3Mt+oVwMrUJ225HQPQFalXVJO9WLhELczecimnA4t5I8yXEFGKfPnJHQDOiwTe2Blo8HQCMJrbyTl+NlKZEPxdCKx1m8hEqtaWSrpt0A6vN4D6hIKM65Ewk18WeSJdR6J08S6vokNAM6bFN7oKfQ5CUUfbwOeZLBrcEpAhMJ9U5eNntVJkiod/KphN4Y0J48nly8+HiF29wZ25FQazoSKhvjeEJjCc2ADtvUHmgDqvHoC5bQBlB28oaPnvOr51RMqNRCk+0Y/SL5zjYO+wGURpMQUJZQqISidy+1aUWh7ORxMgIeEslOnsBNotDi+oZmQPlyHISCjz95J08SWuEIkpfQ4OQ5a6AwNJLQ5i7WJKF4v6L8Ydqd2RZQL6FwME2joSFNUjSc5AGNztvjeQhSrk+dfCShGdBhm9wDnSA0SCimSezkRUI9oUoITRbJR/uM8E44LkioS174svu2DqAqkVCYlIASinmS5iE0YxIJpc+tl1BPaCyhGdAlzC/uhMMBDaxybB6Cn1FGmqu49NgaroXWlrazlY2HjTaRhIZ9RiysDA3CsqslnmX4sWls8xtLKAx44u4AACutTQoSyp9JDrPjTF6FCbDwdaMVngcHdPpHtO3j6QA2WKoDIlIFJw+AViaRUBURKis8o51wklXyzmvorRW0z8fDyXPAJxysS5WmEs4/RglVYRZCSOQlDKVDZ7vjScWVDb13BZ3RA61SaEVOvq5YQqsqzK2PnTxKqOJqKEuoJ9QGQn0Y6gndGaCwxQhudscSWpKE4tGdvKMaew3TkVDFEmqjMJQnhhYZ0DGb0wNCKJ3LwhJaSxTKYShLKBNa+7RWwlAeZ5ElnlwMhVTe+XIoE3pzQNsSSrsxEqGaAS1DqYk2wonnGcZOnqr1EaHOE5oBHbY5PRABWtGZc5In4Yi8OHmWUJN6PLg32nCeFFbJK1o4Hu3jICK6P0BFQml55wn2YlSl1pLJo4SGUz9QQl0glMeTuIGe0AzouM3qgURCIXOHhR/KSygSShKaEKp4eJMINSmhVggNm9oKobsClCQUJizDh7PBEgDFShMRqlhCdezkFRPqJdQnSr6ihonSFQ3NgMaXmVCUUCA0klA8DZlOo1N08AcuoEOvjoRSooSznOCmOVm6ExHKTt5JLn/FfVsG0G6axI4eBpGwVl/iWs8goUYIpdIaaWjk5OkMuvAxHNqRcXJDM6DJ5ZhQcvK1UjScxITKgKek8pQneUJlKJAJNS1CgwMc2pNx4n1bHtCaJZS+BAnVmsv1fLBXsjxJIaHs5JX4i3mErgvo81efnt66lJ7pdgNAkVB9qklCKy2JkhIN1d7Jw4QK67zbC4QannHn49CI0KVOk5/e0imAspOHLEmjhEIUigcoGRqO14ZSeZ67zN/FyUeE2qmErgoonDL3/LUDnzTXvkyEavoKy3RqzOeNJxQHjDTP50VCLRGqPKESkTKhNLu+RWj/Svnp920FQKuYUBDRU0mEUoBDTp4IDZtTJYSaiwhdFdBP4BCv99eX0M0ATQiFsb9TxYQqIVRpmV8faajxhMoq5IhQvwDERANK5wjdBNCIUAGUM3mRUCKU8yTaaESGKJhQFRNKZbZoQGlk6/pJDZ0AqO1aEoMe+qzOzuWWhBKhULmHMgzIJ28uwhEZbc7Ibt5xxYk3wSFCfTm0TeiZ4+S3B9QTKk7+hAvooD06cvIRoba90wiLaNisyfptbS9s6PVJEpyGuLptBygRygraEFo3hELsqXVCKG5XRIRa8nmeUGuk8ISE0sQmP/curoaOEnoDQCmHh2YDoRVKKNeaFBLKB55ow26DWURCeRVyL6GjGroyoJ+/uQGfWwLaJrQCQvHn5kaUVFbSLKJIqKZZoOjmiVCf58pwYM8E+7OEbgNoIBQBbQgtsdm4uQpIKESjignl7RhjQk1CKM28U/MIXTuL3yCH3xZQxFHL/asVnadekZtnQglRT6iIqK+/8JgSEcoVQ+UJ9Yj273o35b6tAyhvz0SVUCw1wex6IZQWKLUJpcWsRCgh6j+UbUIvOcnzSkA34nNbQIlQyZMqCEO1oseEUKNot2xcqdvcNkbU3zRCVAaVBFF081UVBfPODRZENwK0KsvoqqY9GD2hJ4ULQIRQ+DTifyGESms9oYSotDhd53nROXRXAvrsCeyesng0EkxEtMaTWSqPKGfsEaIootr6bN7ITQtzz/mGiYgmiA7V7LcCVBClqxoB5PFOIJT2rdd0RCScn0SIwjnlodzEjbQeUdU+rZsIveAUpTyS1HuZc3mNV4FQQZRElO9Dw65lESVHH6bYRzMmbaSifrl8FWnLdfsvT2/p8FVAVK7Kyjlc/OFXyjcfx1LTeTyIaFQQjZfKC6KRiJ5F9N4BDUch8k/hgfpiQCucGgJ3q8b7p5BRnMZMImqkREgJPTFqbernjQgq3B+ZAGSZ0eD+xNFftnPT9JaOXS3LcJWp1BGiCGJJx5mZgKjtIiplfFkpf97R3zmg4ShE/ik8ADarB1JTiiST7h9tZ6Ap7OR7onguU2PCqJF75iENN5AVJf7FpvfukkXJ01s6frVMpzZ5SiNEGVhqj2Abmmvlsxe6hd1/1E6BdOrbOjyg4Rga/ik6l6a+ClAwzoPoBhKkyT0JlIolmhOkNGS8NiE1Ajbi9Py7Xh7QGgv03nTXENHSyyrpaAtT4tJSxE2/tpsYfRxBTYvJc0n6AdgZoJ+/+SRGW4+Hg7z4p/DAxKMQz1qgrhyidHNbol09VibWA+l5U6NmZ9u5t7wzQDsWjkLkn5KzEa9V0DWvLvSn68kt3cGbveqF+wHYO6AjCgo2qwe2vZoBnfnC/QDsEFCYg+pd/Lox6AHueT25pTt4s1e9cD8a+wP0xTuvv3jnrc/fpOGBcBQi/xQeAJvVA9tezYDOfOF+NPYHKKD5/uv1J1/8Gf7qj0JctA66wdUM6MwX7kdjn4A+e7n+ZNIBYrN6YNurGdCZL9x/h/cHaP0+0vmMFXTcZvXAtlczoDNfuP8O7xBQmCL9/tNL68/jz3YA2yGg2bIFOwPoJ0/7Pkw2273bOKBwBs2zl9d/F2mStMUik2wHsfMufouDkhIFfbbJHOlsx7Bf/KJnqkIC6NYKCvb+U06SsqGdU9Dnr25BSk8M+v4WsW+23dt5F3+LjRve3yY3y7Z/m1Bm2nrrmzn+/eO7t8draWrjgMKA+NYKKtNEJtmtO3V9e7yWpnZGQZ9tk61cXAe9daeub4/X0tQmuPgNLFry8Zas+pgUhN66U9e3x2tpajsDdK7dulPXt8draWoZ0J3b47U0tf0BOmuo89adur49XktT2x+gs4Y6b92p69vjtTS1HQJazyiFrthfP37lN3/48cc/eAXs6x//9A/xV7Kf/M4rX3rvY37sJ7//w7E/c62t3lJqZ9omsp/83nv+Gz7+0bebnljN+u/wPgGtpw51rtddH//4t/xPcGu+/vEP5IGf/tF3Pv5BeOwHX1nxXWwAKDar1Sa8gMTSN3n8exlQtMlDnet1VwAU7t1P//g9EZSPUTObB+Qx+L6erd5SamerTY197zf+C/xA3+TxDGi9m6FODygoB96/BlQ0Vhv/2Jp3bWMFTdoZuXh5PAO6n6FOARTvV+Plw43jQM0/tqqPX72l3M5Wm8AiQOXxDCismdsXoHBvUgX9ye9+5+Mff+k9/9g9ANpuEz6WFVRszwr6PcAviUFZTvxj9wBou01gEaA5Bo1s2op4svW6SwD96C9ATz769ldCFs9q4x+7hxi03SZ8LAAqj2dAwxahOykzscPjmifdsh+/8spvfMfXDO8ii0/bRO3s1EF3CeiskPBS2+NYfKiDRva3PSzeRR20ZX3tBNshoM92fRz3et0lIyyJffSX3f/uTkaSEutrJzy8w5Gk5//6320M6F5c/E7s8Vqa2i9+0bPTeAD0xV/979u4+IkLTW7dqevb47U0tTMK+uz1W8Wgn0zK5W/dqevb47U0tXFAn//2z24GaHbxaI/X0tTGAaWzOtffK6lvNlPeH5R+mtzSHbzZq164/w7vr8zESdK0+SKzemDbqxnQmS/cf4f3B+gsm9UD217NgM584f47fBbQTSwDOnh1ekt38GaveuH+O7xDQGlt/LQJy7N6YNurGdCZL9x/h3cI6Psv18++8MG0XR9n9cC2VzOgM1+4/w7vD9BGQF+8Ex9DI+fK5XOSdv9mr3rhfjR2CSgsjfeAfvrG1xDQpc+LX/tqBnTmC/ejsT9AX7zz+icvvQuOHu3Dr/4jKWg+q3P/b/aqF+5HY3+AwmGyL8d1esZxtfPiY3Ppr2dPM79XK9Jfb9gtOwS0bQzomufFF/KrcclVe8VfPrSCpt3Q7gezygv33/3jALrmefFOCCVA/e2xrvuMqX/50ICq9NdxQBf6GPff/eMAumYMWgihBgl1wqUZ7fs7BtQWya8tIsd/bcH9MICueV68sUyoRUC9o7cPBuiQ68iAjl0EQFc+L94JocrArTEioWbUx98zoCl0rdDcpAyO83r/gI7ZrB4YvuqctQila3x8ATpKgvpogBbS3AJdh298K9Rp/1qN/ZoBXQRQZwsgVIGWNjeAwVSPCyh8Qg8A6LOpq9eus1sD2nBJhGp09saykzejEnp/gFohlAH1sXjL4+8H0A0O8QK7OaCmIdQ1hGoDhAKX6OQfFlCDP9ghQNNf21cveGH8qdfGAX3xV9sc6XprQI1CBS2ctgyoQUIfDlBbcPDdB6gnT40DmqZQVwOqu+YBxeUXDzCj3hqQ0Ma5W0USaq0HdJjQ+wPUiIQazJLcAKBuU0DHFPT5a+9uoqK3BtQBmBb+hxJqDBNqfbo0/y8fEVBruUJvMQj1n84WoPSrD0Td7QBF2/ow2Tk2qweGrzayaZhQC/8I0EZQR338fQKK7bUGfL2zHlCKyCv5FRjMgE6wWT0wfLWBkwkFQElCCwF0kNA7BNSwhFoMQiNAcYBNQDS7ARS293jxP+6/zGSQUKjWa4tfQEIbQh8OUMtpEinpIKAKGRRCzQ0VdO+nHc/qgeGriiXUGAHUoZe3o0Ho/QHqxMdbDEK52CYu3gZAkc0BQFs50/oufgO7NaCNz2JCNdwjhWWm5lYZlNBi9LlXvfD5q9NbuoiCGpJQUlIrElogdFYK9M3HuYrK9e1JtBnQYLN6YPiqAgm1UF9CHw+04tiSGvXx9wioFecOgCoB1DCgjN44oCoDGmxWDwxfbQBFQllCjUIubWEon7/oLx8WUFcQoA4VlIZ80cdb0UZjM6ATbVYPDF811kuoVgAoSygDOuDj7xJQQ2hiGs/jaYhmBvSW1qSlACWEoRq+K8vjSQazJHf+L9yHWZbQmtJ5SBMdPW4MfqXlcg6/G/6tbj7L8R9Rpl7QDg7orI/o8NWm5zkMRQUFCaU8ibKkAQm9SwUVNOGrkSyJFFRJltR0jsKv9FyTFkKzgkY2qwdGbgz4eJZQ5VhCwcmzj++PQu8TUIxpTACUqk6GAlNir0BAfVJPyZOvfmZAI5vVA8NXG21QQUIN+3iQUCvD8rP/8hEBNaKgCKiTSV1YfsKvHlA7Bqjq/uUJ76v/DmdAsU8THw83RmGW5CQI7ZXQuwUUpnXhF/HxhgFlJgus1EeAwn+TAe2zWT0wdmMAUCYUAEUJdTQub4ck9P4AtezjOQg1AqhDH98CtPmZCM2ADtusHhi+iiGoBxSwhGITZPJ+ZtPsv3xIQMXH4zAvA1rEgGI/FFipNyKhih4VLDOgkc3qgeGrhiQUqvVN96JqKvJvdkRC7w9QZcVMUFAXAcozQRFQGBSmZ2VAB21WDwxfBZX0EupwVr3CsfkHA9R4OLHRBU6Y6QKqRgGtMqDBZvXA8FUtPh4kEyXUKMsSioi6PkLvFVDbAtTBvgHs4tGrA6CqcgMuflNAX7zzENPtEFArI/IIKPp4H4T2Suj9AYpTZWhRAQHKQSiO+nKVFP4z6CactoSE3hLQ99+aeCbhdXZ7QNHHG/LxCov0itIj7+O7hN4hoMHHI5kShBKg9HDlAZU0njx+C1CX/uUJ76v/Do8D+vmfrj+bHuzWgCrv45u+1pGEopZwLfRxAOVEvnHrHIQioFi9xyCUALWSxisa61wL0LJr0Vmd//MhXHwZ+XhlefYyAeo8oB1C7w9QEwgtoiC0iAG1SKSylZUsydLKwlso6PNX34IDZS/FZ7LtAlDtfTwt8lTW+mUfvWnSPQKqxMebFqCNnHJ636CIlXqXAmqFULMloA2cE09uv8puD6iK0iTDa+jOSej9AWqDgiKghmbcOZwbW+D8Q0iICFAzCqgndN0Y9N8/BqBKJBQANUFCA6DuUQAVQoFNI0EoTd52EoRCFESAYpZkVQvQKpbQ1bP4R3DxJgLUygJPyJJgZr14vM545x0CSkGoGQJUkY+3OJQEmwf0AqrMdoBOPjTzOhsB1G+o/PM3wN7G719beI/60gMKtXoIRpsvlCbhnDvbK6H3B6iRIFRjlgTbV7CPR0CZXgKUC8QVAAp+H+eI4h/ZEtCNbBjQ9GA5OIPmw7ejy7N6YPiqgiBUkYTSvg0ioXBzyMd3Z9bfH6A4yAv+QsNkBJRQ9h0RoM4D6jKgdXKoBxw/8+u//350eVYPjNyYKAiF3AAkFADF7XDYx7uOj79PQBFCBNT1AQrufBzQ6qEATY5FAiltXD44+nrRk+aUBKEaSvYIKBNq0zRpodfbqykdAKUgVPJ4ENbCLyMMLh5OncMPcm1srfivGPhhob7aO6DxwXL4/bNvxio66yM6fFUzoPA/oxz4e6MZUMdBKN6novvcq174/NV6ckuXUFCrqXahLQehBCjM3m4SJsmScMoXsQpZEgJalT5LelgF/dQfP+Pj0Fk9MHxVcxBqNaw/JgnFLIlmKyufJt07oOLjdRqE4vICmH0YA2okjS9sH6BC6J0DGsegH35LHl0eUFUq9vEIqDJotMOIkTl3reWd9weoSQHFglsRAQrQNr2gSEEljce1S1UpQah6KECjg+XIsYOM/vofli4zaU0+XntARUI5AnM9Pv7+AGUFVQyoCUEobbMCWCoEtFAhSyJAjQfUPBKgXAfFk+bI0//8jTe+6hP5WT0wcmMQUCg0UfiJxyiQhFqWUNud0nR/gDYheBOEGlbQJAh1XGuzuES7AVQRoBWURdUDAzpus3pg+CoCivPtJAht+XiS0McA1DCgFGzyLCYGlIIdhWNsTgB1KaAmAxpsVg8MX1WUJVkBFO+ShnEVIxGY66ZJ9wuoCoA6CUJhdihnSSSeuMFaAihlSRnQyGb1wMhVLaX6QUB7fPz9AXrSGN4YUVDDgDoBFFN7WpNNlxlQkwIazxbJgC4DKAWhmoNQy1Goo1I9TGHu+vj7A7RpvYbwhgBVOL0OxuNpJ6BCsiQBlDL+iobcGiytV9AMKNusHhi5ykEojCThwvhIQnEhjmIJLeJC010CShmibgehjlZpEaCG5nlJncm2AJVDFtz0F8afei0DisaAWgAUxuMbCS1xXqj4eBl8jiX0LgHViY+3UgnF0XgT1Znwo0tZkrJUnjLbAwqHHW9xFuIeAMUglAENPp4ABQl1nSD0/gH1Pp4ALRBLw4VQPNGUFs+RggqgalsFfYRlx1CpbwDVBrMkBJQXHnsfzxOXi0cAVBnlAcXAhutMhcTkAVBzc0C3WPFxc0A1wAn/DAMKPl6ZCFDDNcAiktD7A9TAUcIQ1hCgVgDVNs6SZCjJ+An4PYC6xQA9dS0G9NnLl8Izw24OKA12YvqKWVKQUAKUo9DUx98poLBvBXgS7+NptzuHh59gEOoVlNJ4xTtSc5ZEWfxygI4r6CYCug9Acb6IFh+Pw0kIKKVJinYSu29AgcsWoEYWfsAIUiFZUgxopeBAKcihbgHoFhHoDgDVEoQSoAoAJQmVLAkllILQInnuVS98/ur0li4FKLTbsIuXQhMrKAWhSuMiZMVLChFQTCkFUJjO5CuhKwP6/uuXsjPHdgQop/FG0ypGXARCg9F8klKQ0LsFFDxICEJdnMYX0B0CKGdJLUCrLQF98VdbePj9AWpZQnkzxghQ8PHFlL98REDRg2g8VNcDis0v6FCegmbYDQFqtgd0mxB0D4CWAVAYTkl8vKGVdG0ff3+AKp8lAacJoOjjaRMc2ivA0Zm7OAGvD1C3jYvfxm590pzWdakNzGiCQiBOVtaWtrHFINSPJiGgrrjx213NYEKsB9S2fXwKaAGA8k4kBdeZajx7DgCtlVtm3dzBAZ31ER2+qnHCMkio5lJ98PGwzpMO/AhBaDHhLx9SQRW5eOUB5UlNAdAiFEKVjMb7sU7OknA79aygYLN6YPiq7gShMKOppPFOxTvfGKyrFKFWf5+AGgRUpYDqgnx6QTs0CaBuGFCYE5oBXQlQjDsB0LaPx7tTiITeH6AapdNQlhQAdZQlQQ8UfM6EB5SCUEUrECJAqwwo2KweGLlKgMJ8EQIUdnLAJAD6Xk7s5CDU3T2gKgaU9kjlND4EoeDrQ5YkS2RSQJFQO/ayGdDpgCoElDZvYB9vaPyENtSgE+RhdZL4+DsG9MRBKG/PwJuIURCaAIpZkrgZI4fMZkDFJnf9mauYHTGgOLUeMiYaYZbO56VJzT/x8fcI6InSeAbUWNkRIGRJNDUBCqERoFJnqmwGNLHJXX/mKgahsHuDlk1GxMfDHFHn0yRKEVhC7w9QrLJREKpTH99kSc5xougIUBPSeADUBUCrDKjY5K4/c5UBxYXxHITCYCed9qFkUo/jXe5YQu8SUAlC46GkRj51kiXFgDophEqWlAGNbHLXn7mKgJYeUAxCS83rwnDXTBv5eFfcKaBlAqgJPp4B9UEoevuQxrcAxQmhUgjNgC7CCWdJOI4EE+8kCMXJyyShCaBA6P0Dqvxgkg5pPMegcRrvATUIKK6MVyYDuiigVKH3STxtGcpBKE074yAUs6T7BDRK43Gn1CQIJUBNANSGwc6CK/UIqE0ANeOEZkBnAVoiomkQituEioQCoOLj7xJQSONhqUvTDSKfHIQanyVRyakw1mdJsFUT+/jKBEArlwFdBNASANWSJTX/P8GcZQxCcaORfh9/f4A2bYcCk8VNfIOPxw0ZC5pvCHNCHRVCU0BNC1DJkupVAX3+6q1P+Ri3yV0/frVM0vgSAcVCk/E+niaKUKLAhN4toFGW5H18HIS6ThpfmDagahNAYTroswdYdlzKaLwAqlQUhOKqRcOD0t7Hh6UfV7zw+avTW7oEoOV5QK0EoXDcHG6CYxhQmFNvOoCu6uLxKMQNTjy+NaCRj+fF8aAOmgFVIqG8XTsMrLjizgFVEaCAqHaFB9RxnQkWeOIH2CuopYCdADXLAPrLrj2cgqaAas0+3mgLw0mKJZQGkpwNadL1L3z26vSWLgGo9mk8AqqChGpVGMNZUhEAlRl3BCifjLIsoKMx6OdvPm2xrHMfgFYRoEoApf1aFS/44CMrfaXp6hc+e3V6SxcClLKkJo1PAXUIqJJKqAdUtQClofitAH3+2rv1JxtkSVOOQpQzEMMD9RoKWtLCsSQIVdqyj/dB6AQff2BADaTxwKn38RCEGj67FPcL7QHUrkxUwwAAF/lJREFUeUDxsFmuM60KKKyKv+1px9FRiHS0R3o24uSuP3M1pPGl5lp9CEIdAUoZfDhPoXuA/AUvfPbq9JYuAiil8YbqTCYB1KKPjwB1BTt0AtRxGr8loLdX0HAMDZ/elZyNuCigSgqhptRhlzvaXkQrI3u2xhJ6/QufvVpPbukigJYxoMHHQ5ZEgPLsUAWdUPCEUQTUSZbEXmcTQOtPnp5euunmYeEgLz4DMTyw4FGIdV1ClUmypLIVhKKPp31geCoPSWhxb8s7yyiNh1AnyZIcKWgPoJDGdwCtlalhYaexV72lM4BuZFOOQuQzEOOzERcc6kQ8kVDMktjH82gnrI9nH4+AsoSe8fEHVFAIdE5GBUCDgFr06OjjoTwPPFqsM1Eaz4DyrqpYm+Msad2RpI1s4mGyEIemD0zv+jNXOUvidUkMqPLD8SShHITSgJI75+MPCCjUlk4Qe5fmhIAmpXpbUJGN9+23cZ2pCGl8G9BxH390QNOQswF0nRi0D1A6sJM2ZOc0SXy8SOjdAmoEUIkxoQIfZUkEKBKqBFD3kICGoxD5DMTobMR6YUAVA2ohCD1R9ZODUKP8PozWegkdLzQdE1AlgDqs2kc+HgFVjhcpURpvFafxuGDeyY7L5nEAjY5C5DMQV6mD+jReI6DtIJQk1EoQyuPxZ4LQAwJaJnWmeEooBqGYHHEa73jLphhQg1uxJIBWcNDpvJamtntAx21y15+9Sml8C9Dg47WUpI34eHvOxx8RUErjW1kS7yIGWzQ5BBRPMLUhCOXhtVUA3YfdGtAySuNp2YOCWCwAGny8SSR0zMcfEVDVSuOVBKG8ZBBWb1KWhIC6gg/t9oA63pTZVBAhVRnQqV1/5sbEdSYKQrE2T4B6CQ1BqBB6l4BGabwKabxfXuzrTASootqoUSyhEaDOZECndv2ZGyNBKO1xJz7ewnA8DyZ5H58AOubjDwgofkwjQLtBKJaV6LAkAdRYv7EFbumvaGJoBhRsetefuTEeUJUGoQQonPmhVBSE8rz6BwA0roRSQR4BbbIkODTRA6o8oDYDGtn0rj9zYwDQkrcXgZ1BYfWYD0ITH89B6Hkff1BAoc6kEFCFgKoWoIZOTAJALU0X8XkTgdoCtHYZ0OvvWylpvAdUtwDFTTO7QeiIhB4S0FJXEaDRYBLMFkmzJAAUfHwCqPOAVlAEyYBO7vozN0ayJFp7zD6esiTNuy1rFQehFJTdHaANmgioBkBjH49hJ9TWOmk8zyDROD7vHI15ekAbH58Bvf6+MaA8lqTQx9PKJATUxIBGPv4eAfVBaBNiprs3kI+HbzGgRgmgvIOqB9SqymRAFwZUtYNQzJIoTTJplkRz7oaD0OMDivuBBwm1BZ9E4wHlWfXhUHkD8z8xKCoCoKNZUgZ02n2TNF7RYR8hCCVARUINzeehNN6M+/gjAippPASh4DwSQDUOwRc05A6fVK0CoHyEOZ3XjYBW4HEyoEsCGqXxOmRJlCbh0g+RUCMSeo+AqgBo6uM1+XgEtIizJDqyR0udCf9XmAxovSiglMYToCeQ0BPuISZBaJ+PpyB0iNBjAhqn8YZ8fAhCycdbPlbXZ0kCqJJCKAShjY+fUgjNgM4DlFZ2qigI1XGliQ+oJgl1ZnQ4/piAKgYU0ngtQajiVR8IZSFZkomyJAHUH6igMqBgM7r+zI3xabySLMn4IDTy8VEQ6n38AKEHBLTELOlEgc0J0vgQhCKgBQBqAqAGAeWIlHokypIQ0PqhAV3MSlgxFqXxEIWGLEl8vPISmvj4W7/5xaysI0CxzoT+wwehiiTU0cIXTONd4QKg4FNqAdTAcYimBkBv3a6r7fYKCuIhgOo4CEVvFyTUkhfjNIkLTf0SekgFrWgxAQahAqgEocYq8fGQJTnwMhSEYhrv8NSJoKAGdgE3D66gk7v+7FUJQqvg4wVQo1NAvY+nLGHIxx8QUPqYoufgQmg7CC0CoD4I5SzJ0f4rXGeqMI1HQEcr9RnQmYDy9iLg40802sknHytFE8ajNMn7+F5CDwpo6etMcP5OksbL/PqC03gjC+ciQI0AikFoBnRy15+7mqbx4OMJUNzKwfZIqGEFHUyTDgooBqElOndFPl4ZD2hPEOoB9XUmEwC1GdBFAfV7MGKtvjydeoPQSEIRz3sH1MSAWvHxIUsiQDmNjwDFaD0DuhCgPkvCg5LYxwugWGnCXWwJUGWTPL6f0GMDqlA6xcer2MeDhNLC6zOAVgholQFd5L4hoLK3nQcUljBwEGp4k1CRUCeADkjoEQFtQtDKAxqCUB0HobSeNcqSHAPKaTzNXKgkjW8AHUvjM6DTAY2CUPLxJ8hnDW7XRAfH2xjQKAjtJfSYgIY6E42up0Eon98pgGKqRGk8nEuTAe3YjK4/dzUGlJL55kY1Pt7gFDSb+Hg/ID8moUcFVHGdCc6MNy4BVHx8FIRa9vGWsyRL53mZCgjNgM7o+nNXE0BVAFSxjzdWfHw0II/btg9Umg4NKGdJqi8IdRSEKj8bIQShjnoJ5BQBVRnQRQHlZR9Gex+PgCoa8RMfnwx32kEJvUdArQ5BKAFq+wA1GVC2GV1/9moZACUf77MkTpPQuTtZBU6E+k2auoQeEtCmD3waD7tXBB9vgo93HlCZcUfdU0RpfEFBKAI6lsZnQOcAqmmDJgpCm1tEgJZUq2fvNVlCjwpoFQOqnFRCTeLjoc6kQpaEJ5dbowOgtqA6U2UyoBO7/txVH4Qq8fExoOzjjQ4SKoAOSOjhATWxj+cKKBwcRUGoSYJQ1FUClI/lbgCFxfG4LCkDusR9i7Ik7+NNAJS5bLBUuKGY9/FDEnpQQCHQOfkVH8q4dhCKoxTtIFQApdkKsHeTD0IzoBO7/tzVFqC6xGnl4LCIUNp+HQ5hY1Q9oP3zlg8NqMLWt328oY9mHIR6QHFJSAa0ZXO6/tzVKI3H8wDZx+sgoRKEioTy6s4BCT0moJglYRqP32zw8SZIKAWhRsmMQwKUj+l5MEDDhsqffQOOoZED58hmdf25qygeeNqajoJQ3fbxZqKEHhbQSgCFGXdKu3TlHAKKq+MjH0/73XERjgqhkCXJ9jd3DGg4WA6O9oCjaOjAObZZXX/uakk7DKOCso8/YRAa+3htTCqhPktqL0C+E0DDmXOcx3O8mQShMLgJ/p4mLUSAOlVDGj+npXu0Kad8fAqYfvg2HzjHNqvrz12N0vhSfDwDasTHYxkF9yYyXLUflNA7AJR8PJ4c5QHFOaF4hoRsfEeA4mUpF9M+YwHQYQk9OqDpsUjNT3zgXL3wSXNgpRw4h5V5D2jLx0eJvEkl9D5Wz5V1WTaBDTQZ1rWihNJu9T4IxdonBqHO72MrQSiPZ0DGpOoCAYUZobdu1ZU25aS5ms6k4QPn+PIsbTh31WdJik5NZx+vO3k8b4IdpUm2ZyOxoyoo15lwtOI0zcf3ZkkgoY+loL/67rf4UR+Hzur6s1fDYKf4eA9o8PGaF8jT6R80/Ndbqz8ooE0fcJ2p9D5eADXs4wOghic0KbpKwAZAmyzpzgGNDpb77Bs+PVoT0L4gVKGedCXUbwfOx3rdF6CioOTjrZdQDyieTU6FJhUENgUUtri7Z0DDwXLMJx84x5fndf25q60sCQIxDkLTPF4k1JoxCT0uoD5LojWuEaAyXcRSi9s+PgJUsqR7BzScNAf1T0iP+MA5snldf+5qshG4wTOTeMxPJT4+kVAzJKGHBpS2twMJ1T4I9fOZuj6ezksi/y6AKg/oWJ3p8ICO27yuP3c1ZElpEEp5vEgoLQIHCSVAg4SmpdADAwpcYovJx+NWtiZIaOrjDft4hhW7xcCZnbaoyPVnQBe6b2Gwk0KwQR9veDhJfHyvhB4VUAhCBVDy8TSYhB7DqygDqq0PQhUvCLGy8hUBhZJcBnSp++Z9/EkpPjdJTgYM4/EgoWpAQu8FUKozNV4E54Rq8PHaTxfhKFQKTeTjIdv3i+dDEAqAQhA6o6V7tJ0Biod46RP5eOtr9XyAOkmodf7UJPneGkw6OKBQZ1IchGoOQlWPj8ft6TEIJR9vJAjlQqi1GdDF7hsDKvvcoYRaWpPEEkqAkoQaNSqhxwYUw5vmMxkHoTLCyz4eJZQLTQgo/miCj8+ArqagcFcqD6hRAVCshA5K6L0Aqk5Yv5B1HxiEQiFJBQdPPl7xCJMTQIsQhDaEIqBwktIgoRnQuYD6DXAkCKV9wI2KfbxO0iTXK6GHBbQKaTwsoJPph4mEhiiUfTwBaiQIpd3AYbYIAmoyoIvct7KKDvSiW5NKKO2aESTU0qzyXgk9NKCUJSmctWwY0JaE0qcSDv+gqXbexxOgOJaEdSZVZUCXum+Jjz/x6fFUaSI90bgXeFdCTVdCDwwoBqElnibhC03an2Qcre804uMFUNJXFaXxGdA1AEVCRUF5d5HYx7OEUnokeZIAWlzwwoNXp7d0UUAVzWfCJkPrUURBQsvg40VC6Zg5OJkbOqIwxgMKQWjzVUEuNbmle7S9AUo+/qRptFNFEmpMkFDchoijz0RCi/kvPHh1ektXABQlNPh4wxKapEns463P4xlQktAM6CKA/tLfmqqSKcsqSKjmShNJqCJCUwl1XkLd8QGF0U7KkrSENVRoahAkCfWzlw0eOEcfTpZQKxgToJzGVwOEZkBnAeo3WoZTvBDQE/h4L6Hk43sk1HYl9MiA+iwJ4SQfr82QhNKHE308T6pXcN4xAFplQBdx8bGENj6+0hKEgo8vLe2Gg/vV015N1tAcXpJQcvKxhBZTX/js1ektXRZQhVkSSagEoQRo6QnF4+MVSyick6houNMQoBCcoteHh6sBQjOglwDKEnoqJU1SIqE4bVmpIKFKCA0S6o4P6EmC0KbVJfl4CkJ7JVTTMfKSJnEaX9EGOA6D0GpIQu8c0KXsl/IDL5yrNQWg5ONJQml2PQJqYgn1Tt5L6OHXzzWA1gIobdGPnUHldz760PK+InISYgOoQ2cuQWiNPl65GgCtbV27Wzfrcru5gsYSyoPxNEmCfDwkBwIoHrUCBZdIQjmT9xKKGnpgBQUJ1ScElE6NMlp8vOpIqPh4JxJqef1rhbk9KagZktA7V9D5XT9wte3jq+DjMQqlCU7s4y06eRr8YwmVpJYnNaGGLvC2bgho03iqrKmSxzoxAE8klFfJweeSj59TLkwaBR9P+4oRoL2EZkAn3jchFAHFTD7y8aohFHN4L6FQrvcSyuNJlm6VZPKHB1SJjy/Rx+PhxxRgBgl1JKEybRmneMniT8ySKpr2ZKoBCc2AzgQUMtgKJfQkPh6iUGNLARTrLRCGioQqCUNZQgd3rb/gbd0O0Ar3YAyb+WIFgxL5UpkokYdj5/DTqUlCw6zQCrIkjlSrAQnNgF4AqJdQAhQJVZYlVNLZyMkrWe3IEjqF0H0DCoRClmTYx9NWjA6dfCqhtGODcT4KJR9veAmIB3RIQjOgU+9b8PGwrLHCtbcnJYBqFUmo0rzyAwFlQqMlyGMneM59W9NbujigFIErpXmvUDyfG6dpK5FQmbjMv6CEMqCGKqIFqSys7eyV0AzoXEDRx+OA56nsk1BKF2Inr2gnQsMzJ6YRunNAK66EGvbxvAzG0U6MIUvyZGIlGPIkxUdJcYE4ArRXQjOglwDaklDtCeU0CRMlw/Nym3voxMn71RBnnfzeASUfrzlLwhQenIcQqlSSJxWyjZpIqBAKPp6m5Q1IaAZ08n2LfDzlST6PbyQU1JSdfBiYZicfCHW88NH1b2l7ydua3tIVAP1l6c88EULpxBnaV8U7eZZQItRHoVTAZwk1RGgG9PL7Fhea0MlDPfSUEMoSiiktEUpFQV6FLGtyjR3at37+25re0mUBrQBQItRLqKEw1EuoiZw87pIK0WjhKAp1WCxuAMVdRKH+VJkeCc2ATr9vHULxvpQ8u/5UlhGhlMorHGLi7cSEUDOJ0N0D2iRJJ5JOllAY6WRCLfZENKBEibyjWU0ioTjghhLadEelKtUnoRnQiwDFMLSkLRwiCQUetYoIlYOBrBDqB+dl6t21b2t6SxcGlCSUnbuRRB4IJSePVSTZZBmlsqC96xtCuVhPK5NQQp1BQrsSmgG9DFAiVCQURuGJUNUhlJfpIKFUDAxT8EYIPQSgFRMqEkob+wZCTSDUNnkSEuoISaoykYTCysKq+aWP0AzojPuWEMqJkkznUVhsQgnVOiVUmbBpKM5wcgNbOVzytqa3dAVAmVCOQimowTO6cYkcxZhKJLTAY7qBUNgIh0Ys8CpJaFUZOvMjJTQDeimgMKucFsnL3KaT6iEU9iwiESVCVZjHPHhI4py3Nb2lSwNaNXxKGEoD8hoPn0NCUUJNTCjOXnZEaOEDVLxIhKKI4sHHrveFl0FpHdsZoJgjhTCUhuSFUBBMfxodEqppgi5UmxxN1iURhcK1G0L0CICChJ7Ej/j2ekJpAo3xXp5zpAJn0ssEGlrc2fyryM23JTQDOue+RWuTMJWvtWwyrDFfOkEqz4jSHYMbhIgaRtTXmXi7kSFEDwFoWXlClSx2Ndhuh8c/k5sPcSiuKygKWYgtRTfKkyCD7xJ6eEDDSXP8U3igXhFQ2scVik28oa2iTRl5njkiamTjenL0IqJOJvrEItpB9ACAAqFQbDrhXqm8PEkIxUnKSUFUEAVCKSQlRCF3LHw9CmcyR4QeHdBw0hz/FB4Au7Trh67GhMLycDqc+iSHyIOIalg1rmUJstbMaECUmOS5vPBYL6OHAPSEiAKoSkZ9aekHtZt8BSWJAVHDiJoI0SL8FzgPr3Ky4d3RAQ2nfPBP0bEf9QqA/rIXUR3pKB6SCJvDhF8lGLXs6Y1QKdWWOBqduSi5ntzS5QGtkFEIRU/SYOV3rtLCKAljtAgE4Ywfbj622G7/Xxn08wjp0QEN5yTxT+GBxU+aI/tlaiVbBGmv6djMtbZCuy63Exn1Q7upntEL7daNm2ZTTprjn5Kj5xZX0AWvLvSn68kt3cGbveqFV2bsKrtIQcFm9cC2VzOgM194Zcaust3EoAtezYDOfOGVGbvKppw0xz+FB8Bm9cC2VzOgM194VcKutCknzW1RB13yagZ05guvi9h1tpeRpCWvZkBnvvAyKK1jGdDBq9NbuoM3e9ULL4PSOpYBHbw6vaU7eLNXvfAyKK1ja+5ud00x/6qBgK1f+FBvdpknb2YZ0AWee6g3u8yTN7MM6ALPPdSbXebJm1kGdIHnHurNLvPkzezmOyxnyzZmGdBsu7YMaLZdWwY0264tA5pt17YOoL/+uze++v3W7JKp9tk33vjajy57Lk4G7JvZMvW5zWu/8fac517T0Ctaek1DL2zprWwdQD98G6bhp6vsJhpMif75Zc/9FO537wq/ic+F1/7sm9+f8dwrGnpFS69p6KUtvZWtAihMba7jKc8zDOft/7cfXfDcD7/6jzA1sG929cTnfgr36sO3pz/3moZe3tJrGnppS29mqwD62Z//H/B86RqRica6ctFzoa9716dMfC6//vTnXtPQa1p6TUMva+nNbB1Av/E29F+6ym6qUVh00XOh63tX+E18bk2rB6Y/96qGXtHSaxp6WUtvZisp6IUfbnjuN79ff/q1H91IQX/13W/VMwTxmoZe09IFFHRmS29m68Sg/x3bfVGEwx/qy+LXy0MzyW2bzHZGSHlNQ69p6TUNvaylN7PVsvjmw5musptorCuXPffPftS/wm/ic+muzXnuFQ29pqXXNPTClt7K1gG0ia4urWXWn75xcWnx2jroz98Ae3vGc69p6BUtvboOOr+lt7I8kpRt15YBzbZry4Bm27VlQLPt2jKg2XZtGdBsu7YMaGz/8k/189fevfW7yBZZBjSyDOf+LAMaWQZ0f5YBDfb81aen1xtIn7/2N/hT8+Wtun7xztPTFz6gq/B7tk0tAxoZKCgA+uoXf1Y/e4IvX/jgxTsv1/WzL/4M1fX5q5nQjS0DGpkH9C1msfnlE1DPz9986/mXP7j123tIy4BGJoCiWPKXZ09or9fvPz29fOs3+ICWAY2sF9DG07N9/iYGo9m2tAxoZH2AfvJSlNk3rv527+4xLQMaGfDXBvTFO42ENpRiLJrrUJtbBjS2959ebgOKZSZQ0U+e6Hu2TS0Dmm3XlgHNtmvLgGbbtWVAs+3aMqDZdm0Z0Gy7tgxotl1bBjTbri0Dmm3XlgHNtmv7//N9xpYwL7W+AAAAAElFTkSuQmCC" /><!-- --></p>
<h2 id="calculate-life-expectancy-mean-survival-for-each-patient">Calculate life expectancy (mean survival) for each patient</h2>
<p>The following sums over the distribution of survival on time to obtain the mean survival, which is the life expectancy.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x <span class="sc">*</span> times_vect)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>le_check <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(le_check <span class="sc">==</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(le,  <span class="fu">paste0</span>(<span class="st">&quot;Data/&quot;</span>, params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation_como, <span class="st">&quot;_le_pre_offset.Rds&quot;</span>))</span></code></pre></div>
<h2 id="offset-life-expectancy-to-allow-for-the-fact-that-the-le-in-wales-is-lower-than-the-who-levels">Offset life expectancy to allow for the fact that the LE in Wales is lower than the WHO levels</h2>
<p>The following corrects for the fact that the intercept-only life expectancy from the models in Wales are slightly lower than those in the WHO GBD life-expectancy tables. The Wales life expectancies are multiplied by between 1.07 and 1.02 depending on the age.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>who <span class="ot">&lt;-</span> who <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">who_ratio =</span> who_remain<span class="sc">/</span>expect_remain_years,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">who_le_ratio =</span> (who_remain<span class="sc">+</span>age)<span class="sc">/</span>(expect_remain_years <span class="sc">+</span> age))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(who<span class="sc">$</span>who_le_ratio)</span></code></pre></div>
<pre><code>## [1] 1.050812</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>){</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.07</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.06</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>){</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.03</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.01</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> le <span class="sc">*</span> who_offset</span></code></pre></div>
<h2 id="years-of-life-lost">Years of life lost</h2>
<p>The following calculates the years of life lost from the age, sex and comorbidity defined survival and the age and comorbidities at death from the ISS data.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>yll <span class="ot">&lt;-</span> le <span class="sc">-</span> age_smpls</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(age_smpls, yll, <span class="at">xlab =</span> <span class="st">&quot;Age (years)&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(yll, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlab =</span> <span class="st">&quot;Years of life lost&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Number of simulated patients&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="compare-yll-using-who-tables-and-comorbidity-based-assesment">Compare YLL using WHO tables and comorbidity-based assesment</h2>
<p>Among those over 50 for which both methods were used, the WHO tables based estimates of YLL, and our estimates which additionally accomodate comorbidity, yielded similar per capita YLL; the values were 14 and 11.48 respectively.</p>
<h2 id="yll-by-age-and-comorbidity">YLL by age and comorbidity</h2>
<p>The following shows the distribution of YLL by age, sex and comorbidity by age categories.</p>
<h3 id="table-yll-per-capita-by-comorbidity-count-and-age">Table YLL per capita by comorbidity count, and age</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>yll_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">yll =</span> yll) <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> <span class="fu">factor</span>(italy_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> <span class="fu">round</span>(age_smpls),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">age_cat =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>)))</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>yll_smry <span class="ot">&lt;-</span> yll_df <span class="sc">%&gt;%</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(comorbidity_count, age_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">yll =</span> <span class="fu">mean</span>(yll) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> comorbidity_count) <span class="sc">%&gt;%</span> </span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(age_cat, yll)</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;comorbidity_count&#39; (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(yll_smry)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Comorbidity count</th>
<th align="right">[ 50, 60)</th>
<th align="right">[ 60, 70)</th>
<th align="right">[ 70, 80)</th>
<th align="right">[ 80,110]</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">35.50</td>
<td align="right">25.96</td>
<td align="right">17.49</td>
<td align="right">8.99</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">32.11</td>
<td align="right">23.39</td>
<td align="right">15.75</td>
<td align="right">8.04</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">26.79</td>
<td align="right">20.41</td>
<td align="right">13.75</td>
<td align="right">7.28</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">21.49</td>
<td align="right">17.10</td>
<td align="right">11.62</td>
<td align="right">6.36</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">17.57</td>
<td align="right">13.32</td>
<td align="right">9.79</td>
<td align="right">5.40</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="right">14.64</td>
<td align="right">10.28</td>
<td align="right">8.04</td>
<td align="right">4.58</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="right">9.87</td>
<td align="right">8.16</td>
<td align="right">6.57</td>
<td align="right">3.88</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="right">9.57</td>
<td align="right">9.12</td>
<td align="right">4.41</td>
<td align="right">3.70</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">4.99</td>
<td align="right">3.24</td>
</tr>
</tbody>
</table>
<h2 id="plot-distribution-of-years-of-life-lost-by-age-and-comrobidity-count">Plot distribution of years of life lost by age and comrobidity count</h2>
<p>Plot distributions of YLL overall, then stratified by age, with colour indicating the comorbidity count.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>plot1_yll <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(yll_df, <span class="fu">aes</span>(<span class="at">x =</span> yll,  <span class="at">fill =</span> comorbidity_count)) <span class="sc">+</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">&quot;Number of simulated patients&quot;</span>) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>plot1_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>plot2_yll <span class="ot">&lt;-</span> plot1_yll <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_cat) </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>plot2_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="crude-approach-to-obtain-95-credible-interval">Crude approach to obtain 95% credible interval</h2>
<p>The following approach uses empirical bootstrapping to calculate an uncertainty interval around the mean YLL. This</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, <span class="sc">~</span>  <span class="fu">mean</span>(<span class="fu">sample</span>(yll, <span class="dv">404</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(res, <span class="at">xlab =</span> <span class="st">&quot;Mean Years of Life Lost&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>est <span class="ot">&lt;-</span> <span class="fu">mean</span>(res, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>lci_uci <span class="ot">&lt;-</span> <span class="fu">quantile</span>(res, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">paste</span>(<span class="at">collapse =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>est</span></code></pre></div>
<pre><code>## [1] 11.5</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>lci_uci</span></code></pre></div>
<pre><code>## [1] &quot;10.9-12.1&quot;</code></pre>
<p>The mean and (95% credible interval) for the years of life lost using this approach was 11.5 (95% CI 10.9-12.1).</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="ot">&lt;-</span> <span class="fu">list</span>(est, lci_uci, mean_age_restricted, mean_age_whole,</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>               plot_ages1, plot_ages2, plot_ages3, plot_surv, plot1_yll, plot2_yll,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>               who, yll_df, yll_mean_who_restricted, yll_mean_who_whole, yll_smry)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mylist, <span class="fu">paste0</span>(<span class="st">&quot;Output_rmd/&quot;</span>, </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation_como, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sd_como_age,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;.Rds&quot;</span>))</span></code></pre></div>

</body>
</html>

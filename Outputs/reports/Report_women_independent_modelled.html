<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="combine-component-models-to-estimate-years-of-life-lost">Combine component models to estimate Years of Life Lost</h1>
<p>David McAllister 16 December, 2020</p>
<h1 id="years-of-life-lost-for-women-assuming-age-and-comorbidity-are-independent-">Years of Life Lost for women assuming age and comorbidity are independent .</h1>
<p>This document combines the comorbidity, age and survival model outputs to estimate years of life lost. It can be rendered for men and women, and assuming that age and comorbidity are associated or independent. This particular report is for women and assumes that age and comorbidity are independent.</p>
<p>It also allows for sensitivity analyses on the correlation between comorbidities. This analysis is the best estimate based on the data on marginal proportions and comorbidity counts</p>
<p>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<h1 id="functions">Functions</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>SurvGomp <span class="ot">&lt;-</span> <span class="cf">function</span>(t, start, ...) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is a modified version of the summary function (survival part)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># from flexsurv::summary.flexsurvreg, only difference is triple colon as </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># workhorse function undereath (written in c++) is hidden from users</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  ret <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">-</span> flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(t, ...))<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(start, ...))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  ret[t<span class="sc">&lt;</span>start] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  ret</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> <span class="co"># example of this function</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> <span class="dv">41</span><span class="sc">:</span><span class="dv">130</span>, <span class="at">start =</span> <span class="dv">50</span>, <span class="at">shape =</span> <span class="fl">0.10345</span>, <span class="at">rate =</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">11.0345</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<h1 id="inputs-to-synthesis">Inputs to synthesis</h1>
<p>Read in simulated patients from comorbidity model, age-sex distribution from the Istituto Superiore di Sanità (ISS report), the WHO global burden of disease life tables and the age distributions from the age models.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;modelled&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfiles.Rds&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;maximal&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/highest_cor_como.Rds&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/independent_como.Rds&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(italy) <span class="ot">&lt;-</span> <span class="fu">str_to_lower</span>(<span class="fu">names</span>(italy))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>italy <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(italy)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>age_sex <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/age_distribution_italian_deaths.txt&quot;</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>) {</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_coef.csv&quot;</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_0_5.Rds&quot;</span>)}</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_1.Rds&quot;</span>)}</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_male.Rds&quot;</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_men.csv&quot;</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>) {</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_coef.csv&quot;</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_0_5.Rds&quot;</span>)}</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_1.Rds&quot;</span>)}</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_female.Rds&quot;</span>)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_women.csv&quot;</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>my_vcov <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(my_vcov)</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(my_vcov) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(my_vcov)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>my_coef_vect <span class="ot">&lt;-</span> my_coef[,<span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_coef_vect) <span class="ot">&lt;-</span> my_coef[,<span class="dv">1</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>my_coef <span class="ot">&lt;-</span> my_coef_vect</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(my_coef_vect)</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/who_mortality_table.txt&quot;</span>)</span></code></pre></div>
<h1 id="who-life-tables-based-yll">WHO life tables based YLL</h1>
<p>The following uses the proportions in each age who died and the WHO GBD 2010 life tables to estimate the YLL.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>age_sex <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>age_point) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(sex, n) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">age_bands</th>
<th align="right">men</th>
<th align="right">women</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30-39</td>
<td align="right">14</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">40-49</td>
<td align="right">49</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">50-59</td>
<td align="right">190</td>
<td align="right">53</td>
</tr>
<tr class="even">
<td align="left">60-69</td>
<td align="right">607</td>
<td align="right">154</td>
</tr>
<tr class="odd">
<td align="left">70-79</td>
<td align="right">1847</td>
<td align="right">556</td>
</tr>
<tr class="even">
<td align="left">80-89</td>
<td align="right">1808</td>
<td align="right">894</td>
</tr>
<tr class="odd">
<td align="left">90+</td>
<td align="right">274</td>
<td align="right">334</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>age_sex_whole <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>age_sex_restr <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex, age_point <span class="sc">&gt;=</span><span class="dv">50</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Mean age</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>mean_age_whole <span class="ot">&lt;-</span> age_sex_whole <span class="sc">%&gt;%</span> </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>mean_age_restricted <span class="ot">&lt;-</span> age_sex_restr <span class="sc">%&gt;%</span> </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="do">## estimate yll using WHO life expectancy and age distribution alone ----</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(map2italy) <span class="sc">%&gt;%</span> </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">expected_remain =</span> <span class="fu">mean</span>(expected_remain)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_whole <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_whole <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_restricted <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_restr <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<p>The mean age for the ISS deaths was 81.1 overall and 81.5 when people who died aged &lt;50 were excluded from the calculation.</p>
<p>The estimated years of life lost obtained by applying the age distributions from the ISS report to these tables was 12.2 per person using the whole cohort and 11.8 after excluding those aged under 50.</p>
<h1 id="combining-samples-from-survival-models-age-models-and-comorbidity-models">Combining samples from survival models, age models and comorbidity models</h1>
<p>The following combines 10,000 samples from survival models, age models and comorbidity models to estimate the age, sex and comorbidity specific life expectancy and subsequently years of life lost.</p>
<h2 id="age-distributions">Age distributions</h2>
<p>The following shows the modelled age-distribution of the ISS data (based on the published counts of patients in each age band). The grey bars are for the simulated data and the coloured bars are the original data (assuming a uniform distribution within each age-band).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Sum conditions to Calculate comorbidity count</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>italy_count <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(italy)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>age_tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">comorbidity_count =</span> italy_count, <span class="at">age =</span> age_smpls)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="do">## spread ages along range of possible values to allow comparison</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age_bands, age_point, n) <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age_bands) <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>()</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>data, <span class="sc">~</span> <span class="fu">rep</span>(.x<span class="sc">$</span>age_point, .x<span class="sc">$</span>n))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>age, <span class="sc">~</span> .x <span class="sc">+</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">4</span>, <span class="at">length.out =</span> <span class="fu">length</span>(.x)))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> iss <span class="sc">%&gt;%</span> </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age) <span class="sc">%&gt;%</span> </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(age)) </span></code></pre></div>
<pre><code>## Adding missing grouping variables: `age_bands`</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>plot_ages1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">data =</span> iss, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> age_bands), <span class="at">alpha =</span> <span class="fl">0.9</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plot_ages1</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Here the above histogram is broken down by the comorbidity count.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plot_ages2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>))) </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plot_ages2</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="comorbidity-counts">Comorbidity counts</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>como_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> italy_count) <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">length</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Percentage =</span> <span class="fu">round</span>(<span class="dv">100</span><span class="sc">*</span> N <span class="sc">/</span><span class="fu">sum</span>(N),<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(como_tbl)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Comorbidity count</th>
<th align="right">N</th>
<th align="right">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">94</td>
<td align="right">0.94</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1375</td>
<td align="right">13.75</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">2228</td>
<td align="right">22.28</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">2254</td>
<td align="right">22.54</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1789</td>
<td align="right">17.89</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">1168</td>
<td align="right">11.68</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">662</td>
<td align="right">6.62</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">285</td>
<td align="right">2.85</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">117</td>
<td align="right">1.17</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">25</td>
<td align="right">0.25</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">2</td>
<td align="right">0.02</td>
</tr>
<tr class="even">
<td align="right">11</td>
<td align="right">1</td>
<td align="right">0.01</td>
</tr>
</tbody>
</table>
<p>Here the above histogram is shown as small multiples having stratified by comorbidity count.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plot_ages3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> comorbidity_count) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Age (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Number of simulated patients (of 20,000)&quot;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>plot_ages3</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAABL1BMVEUAAAAAADoAAGYAOpAAZrYZGT8ZGWIZP4EZYp8aGhozMzM6AAA6ADo6AGY6kNs/GRk/GT8/GWI/P2I/P4E/gZ8/gb1NTU1NTW5NTY5NbqtNjshZWVliGRliGT9iGWJiPxliP4Fin9lmAABmADpmAGZmZmZmkJBmtv9uTU1uTW5uTY5ubqtuq+SBPxmBPz+BP2KBYhmBn4GBvb2BvdmOTU2OTW6OTY6ObquOyP+QOgCQkDqQkGaQtpCQ27aQ2/+fYhmf2dmrbk2rbm6rbo6rjk2ryKur5P+2ZgC225C2/9u2//+9gT+92dnIjk3I///Zn2LZvYHZ2Z/Z2b3Z2dnbkDrb/7bb/9vb///kq27k///r6+v/tmb/yI7/25D/29v/5Kv//7b//8j//9v//+T///9NomZhAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2dC3sbN3aGaUe5qKntbNPQ2VWSNsq2trtx2q3TLd2LndiN1NqRLFlM17uyK9ni//8NHQyH5AwHA+AAZw4Oh9/35Iks+BjnA/ASc+EMMJpBkGKNchuAIJcAKKRaABRSLQAKqRYAhVQLgEKqFQfomT7pt5bbhk16rQFQOel1ptgaAJWTXmeKrQFQOel1ptgaAJWTXmeKrQFQOel1ptgaAJWTXmeKrQFQOel1ptgaAJWTXmeKrakA9PSL3Q9/ZqqLG9CTX/3AVRWvs5Nbu7tfM9XFbO3F7u4HXL2mAdCX978+e/4RT13cgL7g62peCk6/fHB28skDnsp4rZnPNPt45gT09Ksf+CYqXmuP3/+90hn0hSHgMdcUyvupPmM88GgA9OTTn8sJgUW81hQf4s/O+DqN39qgZtAXHwLQGL28/xlXVdydduv9B0xVaQAUM2iUTr9g41Px5K4BUMXnoIoBPbnFdg3fx20mrtNjDYCaQ5XWq3i1gLLyyXz91scpG+6DdkgroM93jXRexRfeBnUOyir91nLbsEmvNQAqJ73OFFsDoHLS60yxNQAqJ73OFFsDoHLS60yxtTRA/7xU7Y9/ZiylV9CDNa62tZz1m44Sqn88ASinCac1qXSUUP3jCUA5TTitSaWjhOofTwegF3fH48ls9vb78a//tPyhvkFZTTitSaWjhOofz25A3/7Lwezi3sHVj5PZq9/Mqh/6G5TVhNOaVDpKqP7x7Ab0tcHxaPL2D8ezi384rn7ob1BWE05rUukoofrH030OWsyiF7/7U+1HUfYXhZz/COpRe0a5TXjEatEJ6NWP385e/7oks/pR/YXiT1xWE05rLOlKQJXPoHOLCRXUnDkBffv9t8Wl0voMCkAjrbGkA6ArXdydGEpxDspkjSUdAF3jszzMv/rN4gcABaDeUiFAX42NJrgPymWNJR0ADRJvg1gqAKAAFIAmWWNJB0ABKF8FADS+WgDahwmnteR0ewsBUADKUgEAja8WgPZhwmktOR0ABaCJJpzWktMBUEi19urKbaatpS25h0U6xfuJY6mgB2tqZ1DLFBVZLWenLSd3BTMoS4NcpQDUUroJgHbYA6AANKpaABpZCkAtpQAUgCaacFpLTgdAAWiiCae15HR7LYXUAEBjG+QqBaCW0k0CdM0eAAWgUdUC0MhSAGopBaDrKl9CMk/Wf36MJ+qTrSWnA6Brem3AnB1VryZhZZFEa8npNg7Qlc9eAD26/VMxg149Kd81xludydaS0wHQdRkii0O7eXUOK4vkl4OA3NaM+rHnBfTi3oGZRbGySLK15HSuKSqyWs5OyzSDljqaYGWRZGtJ6RyjrwFQn73+AcU5aLK1pHQAtAtQc2y/enqMlUWSrSWl0wuox1n/M+ir8fj2AVYWSbeWlA6AkpTSoKBSALpWCkABKIMJp7XYdEEERLYCgEaWAtBVKQAFoBsP6BxSAApAAeh6KQClNSirCae12HQAFIAC0KBoa6lKQLdBZc/mNmEUCqhiewnVYwbtKq1mJT5rvugBz6ARXQlAfaUANKwUgNIaxGYCgIaVAlBag9hMANCwUgBKaxCLidhedVrzRacC2mG4T0DTnAHQ6JoBKL81QrU1ZwDUWgpA+a0Rqq05A6DWUgDKb41Qbc0ZALWWurpXFFASnNsHaPlE/Tbu1QlAw+rIDGi5ski1pMh2rSwCQMPqyAvofGWRrdwvHoCG1ZEX0GrhhvkL8du1ski7e9UY8UivvcgUQa8dF2Ruzcoiji5OtOaLxgxaLw0GtDWDAtBIa77ozQKU7MxijwXQbTsHBaBh1tQAWi0psjUriwDQMGtqAN22+6AANMyaCkA7FdEgWikA9brZSECbFgFoRM0ANMwaACWWAlA5QOPhbFoEoBE1e3sWgAJQABrgJoQAr18AGlmaB9CQnm0TEGrNF81GQbgzABpbqhLQDgJCrfmiAWi9NA3Q4YnUxfocydqLt0a31wB0Oip10/uviJ84eqn4DErq4jhrvmjMoPXSNqCX+wsyp6NrjwBoMAGh1nzRrBTsdVXbLN0gQC9/+2wFYOMXANrdxRRrvmgAWi9tz6AUERtEL9UN6Fo/B1rzRQPQeikAbZam9HOgNV80AK2XWgCtLpFGdwAorZ8DrfmitwXQlT0aoIfX5+edl/s7AJRCQKg1X3StkIsAbzdsEKCX+4uZ8/y6+woJgDYJCLXmiwag9WQAtFmaQECoNV80AK0nawE6O3zvjxWpOw0YX43HZgGHgT9Rn0BAqDVf9EYAyuBsZY94kXRuv0g6mpj/D3llkUQCQq35onkBDaJgswC16+pJ+a7xkN/qTOhiijVfNAC1dJof0OLQPh5PZkNeWSS+m/U56tsek7Nwa977oBf3DswsOtSVRdK6mWTN1xDMoJZOC7wPejQZ6soiDN0cas3XEH5ASw0FUOdtpqPJUM9BmboagBIV2ml+QM2x/erp8VBXFmHqagAaIeohvvs+6O2Dwa4swtDNodZ8DQGglk4LuA9qU3iDIkslAOXq5lBrYW1mcrUSH6DcznhuMwFQXzeHWgtrM5OrlQBod/PjS7cTUCZHTbEA2oszKqDb9jwoVzeHWvO3mclRU4MBdOueB+Xq5lBr/jYzOWpqKIBu3+N2XN0cas3ZECYzFgHQ7ubHlwJQNg0F0M77oIMUYzerM9SHx3zWtvQ+KGMPB1tzNoTRUKdHS1eGdpq8NQugBHkblFoKQFnV2ZUANLIUgLKqsytDOq1fa217XkCLQ/3g12bqv5vb1job0ocZn71NBjRAYRQklPYIqFA3t611NqQ3Rw57ADSmdOUWgPZsLwxQGWebAWjTbU+AZu3rzob076rLmRJAmx47ARX4Lr7dUYtSq8nQausNckYLdbHdWmdD+nfV5WyjAPV8F8/ywPLSRK3HbF9BMwPaSCvQxXZrnQ3p31XbnhtQQUdtex2Aer7qjF24oZ7biqIb0KVrbzJFgC7/4Aa0fzMOdQKa1ZVRJKAxL81xOW5U2yzxAsrkIdI5AKWr+xDv/C5+yAs3QIoV+l38UBdu4DXhtCaVjhKqfzxDbzMNdeEGXhNOa1LpKKH6xzMU0KEu3MBrwmlNKh0lVP941gA9HI3Ky6OOq/hhLtzAa8JpTSodJVT/eDYvks7NCaj9ifqBLtzAa8JpTSodJVT/eK7dZjKX8AGvfECQkNbvg757uANAIT1q3Qe93B8BUEiN6hdJ88eU3z0EoJAaYb94SLUAKKRaABRSrThAz/RJv7XcNmzSaw2AykmvM8XWWoBe7t9ZPRIKQDml15liawBUTnqdKbbWAnT5ztwo4EZ9bvcW6beW24ZNeq21Aa2/9QFAOaXXmWJrNkDDldu9Rfqt5bZhk15rdkDLw/xNAMorvc4UW7MCOjVnn5f7fkJzu7dIv7XcNmzSa80GaHUOGvC4HZuNl/e/ZqqJ19rz3d3dD37gqYuZgpf3d99/wFQXrzXTabu7TAOqBNDnXO1hBvQxly0j3k4rrL348GemythnUDZrNkDlD/Enf/U3KgF9+d0DlnrmYu2006+4JnYjbkBPv3zAVJMVUOmLpJff/bPOQ/zpF3zHKmYKTj79J62H+ELPP+KqyQ5oqJhMPP9M6TnoyScPGGdRXkBvfV1AqvQQzzeBqgC06GelgJZiOw/l7jT+AylTbYwnx5bv4n9buzRq/NIboPOrvs94KtsWQE//VjGgj5kG88w2g17uL1Zlmno3UWCzoXQGNTPBy3/UeZvpsd5DPOe1ZRvQWbm2SNhVEpsNpYCayV3rlUhxAcd2h5bbGt8pqIpzUFbpt5bbhk16rQFQOel1ptgaAJWTXmeKrQFQOel1ptgaAJWTXmeKrQFQOel1ptiaFdDyxbmQtcMUryeZ1YTTmlQ6Sqj+8WzeB90xDzRNdwAoTwUANL4CG6DFBPru4WoB24u74/FkubQyVlhOtSaVjhKqfzzXADUPg1aAmj09Lu4dVFvMxe40J96grCac1qTSUUL1j2cd0HcPb55fe2QO9EavDY5Hk2p7D+zykWxNKh0lVP94Ns5B33w82lnuOFfNotUGSdhpDsoi520ms/dMtcUcdppLtiaVjhKqfzxdL829/f7b5RZz2Gku2ZpUOkqo/vF0AHpxdzJbbjGHc9Bka1LpKKH6x9O2eNhOjc/FFnPYaS7ZmlQ6Sqj+8exePOzV2GiC+6Bc1qTSUUL1j2fcd/GKG5TVhNOaVDpKqP7xXL/NFLY+qOIGZTXhtCaVjhKqfzybN+p3QqZP3Q3KasJpTSodJVT/eMYtYKu4QVlNOK1JpaOE6h/P5gwKQNNMOK1JpaOE6h/Pxjlo8D7HihuU1YTTmlQ6Sqj+8Wwe4kM3UVDcoKwmnNak0lFC9Y8ntkKEVAv3QTlNOK1JpaOE6h/P1vqgd6a1x+0AKKM1qXSUUP3j2Xwn6b1f5m99AFCWCgBofAU2QKvdEAOu5RU3KKsJpzWpdJRQ/eMJQDlNOK1JpaOE6h/P5iYK5hAfsomC4gZlNeG0JpWOEqp/PJsXSeeBmyj00KC9QhwNYrQGQGVMWEvtgIaqhwYBUABaL9UE6N5CHA1itAZAZUxYS1uAztdlan7VWb6EZJ6s//y4zyfqAShrOkroBgFq0WsD5uyoejWpv5VFAChrOkroZgG69lbn0e2fihn06kn5rnGfb3UCUNZ0lNCNBnR+iC8O7ebVuT5XFlkCylstNAR1v3Y8mwN6ce/AzKJ9riyCGZQ1HSW0l/FkqaANqOWVj+Ux/WjS58oiAJQ1HSV0swBtqQYozkGTrUmlo4RuGKDrrx0bIs2x/erpcZ8riwBQ1nSU0M0C9N3Dm+8e3qkd6Bf3QW8f9LGyyF5LHA1iscZUAQCNr8AGqEHz8Obs3P/EMot1ANpPOkro5gE63RF73A6A9pOOErpZgJrFvws6A975YLEOQPtJRwndMECLk9DZoXezeI4GteEEoAC0XmoFNFjJ1gFof+kooQC0oxSA9peOErppgJZfdwYs0JRs3Q7oilIAylY6JECn5vo95J2kZDkA7T85tEFyPs3UqeTPFmbQ/tJRQvk7rc8ZFIBGhwLQBBPWUhugM7MRYtAhPtk6AO0vHSV0swBdvJPkX4Ex2ToA7S8dJXSzAA1XsnUA2l86SigA7SgFoP2lo4QC0I5SANpfOkooAO0oBaD9paOEAtB2qYNNANpD6ZABLZ+o596rE4AC0IDSFqCWe0zlyiLVkiJ8K4tsFKBLQynVAlCuGbT6Lr56WmS+sgj7fvEAFIAGlNoAta4sUr0Qz7eyiA/QlLrZpc7Q1skLaLWkCN/KIphBMYMGlNoAbT1uZ51BJQC1cBHaoBRr7cLmxyayWgDKBeh8CfDVA8sXuc5BAShf6aAAXZMhslpShG9lEQAKQANKgwHNch9UA6B2V3sAlN2EtdQOqMRWiD5A23MWqUEp1hoCoFImrKVWQHvfCjEUTgDKVzogQPvfaQ6AOqIBaL0UgPpKAaiUCWupDdD+t0LcFEDtbgBoPyaspVZAe98KkQKohVIAGlE6KEBDFZsZgDqiAWi91AZo+HvxESKzWaoHI4k+5R1tt0QWboiD04j+iUv51IZ4xQzKbsJa2gbUsk8SAAWgAiaspY4ZNEDEzAAUgFJLbYCGi5h5SIC2XYVa80UD0HqpFdD1fZIAKAAVMGEttQHa2idpiwBdZgOg4iaspTZAe9snCYACUGppF6C97JMEQPkBtRkZOqC97ZMEQAEotdQKqHWfpFfjsVnAIeWJ+nhAm6PQN6B0RxRrvmgAWi+1AmrV0cT8P2llEeWAptoKtOaL9vqtZQWgS109Kd81TnqrE4CyAVqltu5hPmxAu9b/Lg7t4/FklrSySBqgxGR0KbXV7bP1y4DlnUEv7h2YWTRpZZE0QGmfuIhPbaqtQGu+6PAZtMvHoGdQp44msSuLxHNpGYHtBHSZzetj6IAujvLt+6BHk9hz0Ego7SMAQN0+hg5ohek3jdtM5th+9fQ4dmWRSCjtI9ADoILWuk24qwj2sCWArn/V+Wo8vn0QtbJI2uDHUbB9gNbMKAC02SsJ1boA5fqqM23w4ygAoKHV2q1tAqCHXF91pg1+HAUDA5RmZuiAVhdJa191Zgd0hQIvoFyuQq1ZTXgKaWaGDmi4wnIwENBEAYC6zQDQvICuMWFvUHinMLkK7murCU8hzczgAWV+5YOBABcT9gaFdwqrGS2AtrtoQICGLLw4EEDZzQDQleGkCtwXSaGvHYeJiYKmVFnjMcPkc/kPenflMbw0zlFhcwbley+eiYC2fJ+4sM8nuyEFM2hHF4nNoI38a0aYzkGDV2Xy52AZe3/vtxsU1nx2V7yALhua4CikGzgAXWZzeFB4kRTfs6Ed39EgQq9yulIJaPmHngBtJvF4ZbtIClgadOMB7ccVP6Cs9rqSbRagnGszcXext6/zAmp3FgOokDVmQH35Z9a72PQZlAXQXrp41VZPg7zNF3QGQN1G6OegNyIvkhq5+fs3pJk+QBf/EIDWHSQCmmiGfojveqI+GFCuHg1tYrtBXc2XdtW25h5wAGrtNKbv4pd5uXo0tIntBnU1X8aZy5p7wAGotdPCAXU+Uc/XlRHtVAVow9nAAOU0U/6BBGi5i1f3Ib5zZREm1wltdQKa1144oAJmYgFd/uPebDX9xc2gnW919uKaJBuguT3N1QlobmPL2/cdgC6iBABdKhHQpJVFIChWDUDnh3nrRXzSyiL00vhvHrKacFqTSkcJ1T+e6+uDTq8/m+5YAI1dWUS8QVlNOK1JpaOE6h/Pta86zTPL1meakla3k2xQVhNOa1LpKKH6x7O1HfdNO6CxK4uINyirCac1qXSUUP3jufY00/m1R+ZAb1HjPigECWn9edCdkHUbIEhKcV91QpCQACikWgAUUi0ACqkWAIVUq/k0U+grH2f6pN9abhs26bUGQOWk15liay1AZ1P7PkkANFl6nSm21gaU8tpxbvcW6beW24ZNeq3ZAA1XbvcW6beW24ZNeq3ZAS0P8wHLi+R2b5F+a7lt2KTXmhXQqTn7NA80AVBO6XWm2JoN0OocNGCNu9zuLdJvLbcNm/RaA6By0utMsTUboOKH+JNbux/8wFQXrzVOZ7wUnPyq8HX6xe6HP3PUxm9t+SNRVkCFL5JOv3xw9pyno5kBPf3iaz5nrBS8MB+cl/cLex9xVMdubfkjVXZAQ8VgoNDJpz+fnX7FNFGxWiudFR8fHjE6e/z+74v5yXQa6zzFUFNlbfEjWRoA1TuDqgV0fgDls8du7azfQ7wsoHynUmd9HOLff8BSVw8UvPgQgEoAevLJg7MXXNcizNZu7f71dw946sIMGiMNgPJNBGc93GZiOzvmp0DlOagAoOFLgDMYONM8g5ZnxyyXyUbsFLy8/5nCq/j+ARV/munF7i73iR7X5L7Ld3aM+6AxsgE6m4a+Es9ggFv6reW2YZNeazZAw9eoz+3eIv3WctuwSa81G6Dhyu3eIv3WctuwSa81AConvc4UW7MDOh2N7oSciOZ2b5F+a7lt2KTXmhXQw/d+mS8RCkA5pdeZYms2QKs3jwOeB1W8nmRWE05rUukoofrHE4BymnBak0pHCdU/nmv3QX+ZL7IMQFkqAKDxFVgBnZ3XH1i+uDseT5ZLKzt3mlPUoKwmnNak0lFC9Y9n920ms6fHxb2Daou5zp3mtDUoqwmnNal0lFD949kN6GuD49Gk2t4Du3wkW5NKRwnVP56WQ3ztiZFiFq02SMJOc1AWOd/qNHvPVFvMYae5ZGtS6Sih+sfT9V782++/XW4xh53mkq1JpaOE6h9PB6AXdyez5RZzOAdNtiaVjhKqfzwbh/jz+SH+To3PxRZz2Gku2ZpUOkqo/vGsrbC8toDtq7HRBPdBuaxJpaOE6h/PuMftFDcoqwmnNal0lFD94wlAOU04rUmlo4TqH8/1vTrDXvlQ3KCsJpzWpNJRQvWPZ/O1452Q6VN3g7KacFqTSkcJ1T+eca8dK25QVhNOa1LpKKH6xzNu4QbFDcpqwmlNKh0lVP94tu+DQpAi4SKJ04TTmlQ6Sqj+8Wwe4gMWV9beoKwmnNak0lFC9Y8nLpI4TTitSaWjhOofT1wkcZpwWpNKRwnVP57Nc9AbgRdJihuU1YTTmlQ6Sqj+8YxbPExxg7KacFqTSkcJ1T+e+C6e04TTmlQ6Sqj+8QSgnCac1qTSUUL1jycO8ZwmnNak0lFC9Y9newa9/ObR4o/lOx7mweXPj/HAcrI1qXSUUP3jaTnEny/WX3xtwJwdVW9+YOGGRGtS6Sih+sfTBmh1iD+6/VMxg149KV/lxEtzydak0lFC9Y+nBdDD5Qq2hsji0G7eTMLCDVAWWS6SrjXOQS/uHZhZFAs3JFuTSkcJ1T+ezttMy2P60QQLNyRbk0pHCdU/nqGA4hw02ZpUOkqo/vHsfi++AtQc26+eHmPhhmRrUukoofrHsz2DHi5XsF3eB719gIUb0q1JpaOE6h/PdUAv91fXSN1S3KCsJpzWpNJRQvWP5xqg56Og7ToVNyirCac1qXSUUP3j2QT0cLQTgKfqBmU14bQmlY4Sqn88m0/UjwIfqVfcoKwmnNak0lFC9Y9nDdA3Hwe/day4QVlNOK1JpaOE6h/PFaDTwMO78gZlNeG0JpWOEqp/PJ33QQEopzWpdJRQ/eMZ90Q9BAkJr3xwmnBak0pHCdU/ngCU04TTmlQ6Sqj+8QSgnCac1qTSUUL1jycA5TThtCaVjhKqfzwBKKcJpzWpdJRQ/eMJQDlNOK1JpaOE6h9PAMppwmlNKh0lVP94AlBOE05rUukoofrHE4BymnBak0pHCdU/nv53krAVIpM1qXSUUP3j6QK0XFmkWlIEK4skW5NKRwnVP54OQOcri2A7bi5rUukoofrH03uIr16Ix8oiUBZ5Aa2WFMHKIsnWpNJRQvWPJ30GVd6grCac1qTSUUL1j6cXUJyDclmTSkcJ1T+eXkCrJUWwskiyNal0lFD944n7oJwmnNak0lFC9Y8nvkniNOG0JpWOEqp/PAEopwmnNal0lFD94wlAOU04rUmlo4TqH08AymnCaU0qHSVU/3gCUE4TTmtS6Sih+scTgHKacFqTSkcJ1T+eAJTThNOaVDpKqP7xxMoikGphBuU04bQmlY4Sqn88ASinCac1qXSUUP3jCUA5TTitSaWjhOofTwDKacJpTSodJVT/eAJQThNOa1LpKKH6xxOAcppwWpNKRwnVP54AlNOE05pUOkqo/vEEoJwmnNak0lFC9Y8nAOU04bQmlY4Sqn88/YC+Go/NAg54oj7VmlQ6Sqj+8fQDejQx/8fKIsnWpNJRQvWPpxfQqyflu8Z4qzPZmlQ6Sqj+8fQCWhzax+PJDCuLQFnkBfTi3oGZRbGySLI1qXSUUP3jGXYVfzTByiLJ1qTSUUL1j2cooDgHTbYmlY4Sqn88vYCaY/vV02OsLJJsTSodJVT/eAbdB719gJVF0q1JpaOE6h9PfJPEacJpTSodJVT/eAJQThNOa1LpKKH6xxOAcppwWpNKRwnVP54AlNOE05pUOkqo/vEEoJwmnNak0lFC9Y8nAOU04bQmlY4Sqn88ASinCac1qXSUUP3jiZVFINXCDMppwmlNKh0lVP94AlBOE05rUukoofrHE4BymnBak0pHCdU/ngCU04TTmlQ6Sqj+8dQA6J4RV4MYrQFQGRPWUgDqLwWgMiaspfkAXeJY/QGAMqejhALQdmkIoG1igxuUYi0+FIAmmLCW5gF0byHz615DjchlQfNvAGhE6bYAyvJEfQigjQIACkDDlLSyyF6SmlX4GpTSKQ3Dy8L2J4pYLQAVALTzrc6OCbE3LTMvf3EC2gLKimL99HiVaOZsVL2GPVlA19u0FttssyygHdb6BxQri0BZFAooVhZJtiaVjhKqfzzpM6jyBmU14bQmlY4Sqn88k89BtTUoqwmnNal0lFD94xl+FY+VRRKtSaWjhOofz7j7oD5RrqIIsRwXZz2lY7A2jE7jttbPKx/D6GsAGlMHAE0TAI0QAOWvVjgdAI2IzQcoBDEJgEKqBUAh1QKgkGoBUEi1uAG9+rG9YHiXLu6aPRYDYsvvWKsw0hcGsdaCnfFYG0an9WONG9CjiXnwqfl4c4fMsyevQmJfm3ZXYUE1p1oLdsZkbRCd1pM1ZkDNMyWz9UdLOlQ+IPWHY2/s0e2fir+uwoJqTrUW6ozJ2jA6rSdrzIBe/O6/zCGh+XBeh6pPXECsaUEVFlRzqrVwZyzWhtFpPVnjBvRuua1n8/HmLs1PPwJiTYOqsLCaU60FO2OxNpBO68ca+wwa/pE1u4C+/vxYbjIIriDcGdMMOoRO68ka9znov5b5gs5Zqg9PQOwFy+lUuLVwZyzWhtFpPVnr4Sq++FA0H2/uUPWJC4g1LajCgmpOtRbujMfaIDqtJ2vcgBbnIYF3EM3thsB7bDy39AjWgp3xWBtGp/VjDd8kQaoFQCHVAqCQagFQSLUAKKRaABRSLQDKoOnoZuffvXt4J6SKy28esdkZlABout49/Lvrz7r+croTVsn5e39ksjMsAdB0nV//74+7psngmTFwpt06AdB0Hb73vw93ip+X+6Nr/3HjWcHaaLSYUqfFxHho/rKYSRflbz4ejYqTgjc3/q34tfzFsIkp1CoAmqzL/ZuzaQGe+Xm5f/3ZO0PrdI7bu4c3zQxroL2zKL/cL3icGjSL39/85SND7J3qT9C6AGiyDH8GMfPTgFf+LCmsfpj/vbmxLP8/g26B4xzLG4uz1+pfQE0B0GQd7piZcmc+aRbATUelygv7OXXF4d38tyw/L35cezSfMg9Ho52ymnKyhdYFQFNVnHkaXX+2BLR2MjkH9M2N/ykugRbll/vXHpUzaHVMLyowcysAtQqApmpaXg8Vx+vyEF787/za6mRyDui7h39fHMkX5eXV0Pm1R3MD340AAAC2SURBVKuTzuWJANQSAE1UeelT/lhdJBUELmg8LKfFqTmML8rNX735uAK0pHp+pYSLJJsAaKLeVLdAp9cemdtM/359fptpMYvObx7NgxblxWnntf/cvzMncn4+Olte90NNAVBerd/NnN+oX12rdwo36u0CoGwyh+7qgF9T+VXn1H/9g/v0dgFQPpn7SDvrhcXM+OZjP3x4WKRDABRSLQAKqRYAhVQLgEKqBUAh1QKgkGoBUEi1/h+ZZnLW7T0G5QAAAABJRU5ErkJggg==" /><!-- --></p>
<p>The following is a check that the names of the comorbidities are the same in the samples from the survival models and comorbidity estimates. The comorbidity samples should have no differences (character 0) and the coefficients and variance-covariance matrix from the survival model shoudl be identical apart from the shape and rate parameters.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>name_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;copd&quot;</span>, <span class="st">&quot;demen&quot;</span>, <span class="st">&quot;diab&quot;</span>, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;h_fail&quot;</span>, <span class="st">&quot;hypert&quot;</span>, <span class="st">&quot;ihd&quot;</span>, <span class="st">&quot;renal&quot;</span>, <span class="st">&quot;liver&quot;</span>, <span class="st">&quot;stroke&quot;</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>name_cols_age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib:age&quot;</span>, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;cancer:age&quot;</span>, <span class="st">&quot;copd:age&quot;</span>, <span class="st">&quot;demen:age&quot;</span>, <span class="st">&quot;diab:age&quot;</span>, <span class="st">&quot;h_fail:age&quot;</span>, </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;hypert:age&quot;</span>, <span class="st">&quot;ihd:age&quot;</span>, <span class="st">&quot;renal:age&quot;</span>, <span class="st">&quot;liver:age&quot;</span>, <span class="st">&quot;stroke:age&quot;</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(italy), name_cols)</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">names</span>(my_coef), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(my_vcov), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<h2 id="design-matrix">Design matrix</h2>
<p>The following code multiplies the comorbidity samples, which is a prediction matrix by age to get age:comorbidity interactions</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>italy_ages <span class="ot">&lt;-</span> age_smpls <span class="sc">*</span> italy</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(italy_ages)</span></code></pre></div>
<pre><code>##         ihd atr_fib  h_fail  stroke  hypert    diab demen    copd cancer liver   renal
## [1,]  0.000  0.0000  0.0000  0.0000 72.7021 72.7021     0  0.0000      0     0  0.0000
## [2,]  0.000 86.4479  0.0000  0.0000 86.4479 86.4479     0  0.0000      0     0  0.0000
## [3,]  0.000  0.0000  0.0000  0.0000 68.0758  0.0000     0  0.0000      0     0 68.0758
## [4,]  0.000 86.0029 86.0029 86.0029 86.0029  0.0000     0  0.0000      0     0 86.0029
## [5,]  0.000  0.0000  0.0000  0.0000 75.2458  0.0000     0 75.2458      0     0  0.0000
## [6,] 73.753  0.0000  0.0000  0.0000 73.7530  0.0000     0  0.0000      0     0  0.0000</code></pre>
<h2 id="sampling-from-survival-model">Sampling from survival model</h2>
<p>THe following code samples from the survival model to obtain 10,000 samples of the coefficients.</p>
<p>Check data are correctly aligned then obtain 10,000 samples.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">names</span>(my_coef) <span class="sc">==</span> <span class="fu">colnames</span>(my_vcov))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>surv_smpls <span class="ot">&lt;-</span> mvtnorm<span class="sc">::</span><span class="fu">rmvnorm</span>(<span class="dv">10000</span>, my_coef, my_vcov)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> (<span class="fu">colMeans</span>(surv_smpls) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">apply</span>(surv_smpls, <span class="dv">2</span>, sd) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">tibble</span>(<span class="st">&quot;_&quot;</span> <span class="ot">=</span> <span class="fu">names</span>(a), <span class="st">&quot;est&quot;</span> <span class="ot">=</span> a, <span class="at">se =</span> b))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">_</th>
<th align="right">est</th>
<th align="right">se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">shape</td>
<td align="right">0.109</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">rate</td>
<td align="right">-12.263</td>
<td align="right">0.049</td>
</tr>
<tr class="odd">
<td align="left">atr_fib</td>
<td align="right">-0.105</td>
<td align="right">0.107</td>
</tr>
<tr class="even">
<td align="left">cancer</td>
<td align="right">2.345</td>
<td align="right">0.073</td>
</tr>
<tr class="odd">
<td align="left">copd</td>
<td align="right">2.731</td>
<td align="right">0.079</td>
</tr>
<tr class="even">
<td align="left">demen</td>
<td align="right">2.718</td>
<td align="right">0.122</td>
</tr>
<tr class="odd">
<td align="left">diab</td>
<td align="right">0.780</td>
<td align="right">0.073</td>
</tr>
<tr class="even">
<td align="left">h_fail</td>
<td align="right">1.293</td>
<td align="right">0.117</td>
</tr>
<tr class="odd">
<td align="left">hypert</td>
<td align="right">-0.413</td>
<td align="right">0.065</td>
</tr>
<tr class="even">
<td align="left">ihd</td>
<td align="right">0.861</td>
<td align="right">0.134</td>
</tr>
<tr class="odd">
<td align="left">renal</td>
<td align="right">0.365</td>
<td align="right">0.080</td>
</tr>
<tr class="even">
<td align="left">liver</td>
<td align="right">2.607</td>
<td align="right">0.197</td>
</tr>
<tr class="odd">
<td align="left">stroke</td>
<td align="right">0.705</td>
<td align="right">0.096</td>
</tr>
<tr class="even">
<td align="left">atr_fib:age</td>
<td align="right">0.005</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">cancer:age</td>
<td align="right">-0.026</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">copd:age</td>
<td align="right">-0.027</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">demen:age</td>
<td align="right">-0.022</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">diab:age</td>
<td align="right">-0.007</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">h_fail:age</td>
<td align="right">-0.011</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">hypert:age</td>
<td align="right">0.006</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">ihd:age</td>
<td align="right">-0.008</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">renal:age</td>
<td align="right">-0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">liver:age</td>
<td align="right">-0.028</td>
<td align="right">0.003</td>
</tr>
<tr class="even">
<td align="left">stroke:age</td>
<td align="right">-0.005</td>
<td align="right">0.001</td>
</tr>
</tbody>
</table>
<h2 id="estimating-the-linear-predictor-for-each-of-the-10000-iterations">Estimating the linear predictor for each of the 10,000 iterations</h2>
<p>Note that these multiplications are not matrix multiplications. They are element-wise multiplications of identically positioned elements in each matrix. Each part of the linear predictor is calculated separately, these are then summed to obtain the linear predictor based on the age and comorbidity distributions of the simulated patients.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="do">## shape parameter</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>shpe       <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;shape&quot;</span>]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Intercept (rate parameter)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>cept_lp    <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;rate&quot;</span>]</span></code></pre></div>
<p>The following shows the linear predictor for covariates without interactions by age. These are mostly positive, reflecting the fact that almost all of the comorbidites are associated with increased hazard rates for death.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="do">## This multiplies the covariate level (binary) with the simulated coefficeints</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> italy[,name_cols] <span class="sc">*</span> (surv_smpls[, name_cols])</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="do">## This adds these together to get the non-age dependent part of the linear predictor</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(non_age_lp)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(non_age_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAAAwFBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZpAAZrY6AAA6ADo6AGY6OgA6Ojo6OmY6OpA6ZpA6ZrY6kLY6kNtmAABmADpmOgBmOjpmkJBmkLZmkNtmtrZmtttmtv+QOgCQZgCQZjqQkGaQkLaQtpCQttuQtv+Q29uQ2/+2ZgC2Zjq2ZpC2kGa2tma225C227a229u22/+2/9u2///T09PbkDrbkGbbtmbbtpDb27bb29vb////tmb/25D/27b//7b//9v///+do9A5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAARZklEQVR4nO3de2Pa1h2HcTmNZ7Ksa2ea7lJ76brNdNfMUy8zNub9v6vpju7oJw7S94jn80fq4BMhw1MhHbAU7AFhwdwrAPQhUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEgjUEi7tEBf74Prp/S/N8VfSt/+26PrO/x+FQRfOl5o814aP8lSEGj5uy8f3rgOdBtEbh0vtIFAl6ISaMMmcB5oGFw9OF5kCwJdirYt6A/vg+Dqi09xn5E40Z++DoLPfpc846/fB8Hbh6TcqLXvPgRvPu1/+hCN+zzqbrcObn56H1x9s/9hFY063E2xgGSRWaLRv/9rsrTqkNrtpYXkd1NZi+Trqy9ruybJTxJ9/1/RUt9+Os9jNwsCjfoIsjDzQLNb4oHRkLiw94ebr5+26bej7KJAU+/ztFOHBVQDLf5heUj19oPD3VTWIrvPt4/NH2vTviCvXWCguSzQeCv4tP8x2VFMN1HPq6zb26SSm6fXTd7t9af9/6J/9YuneNBtEstt/G+Db7LxifICSi/xYbJxS2+uDjncXlnT/G4qa7GJt+HpzZXBaaDR934M2vZefEWg0XP99t/Zd9NAsz3RTZbDY/JSngZ6lw38+e/v4wVEt0ddpH+WmikvoBroXZLmTX3I4faq7G7KaxH9cZssq7K3XAR6tz/LnvR8CDS9Jd0bTJ7afC8gTiv/utLa68d8AfHWd5/9eQi0vIBqoFfZfmvbkHQp5VX9WFnPbC2iu2l5HS/2QR/3Ux2XTeQCA63vg758SJ/wv2Qd5qVEr6t3+dflQOOi3/7p53VnoOUFdATaMqQeaONu0rXYBkcD3R629P4j0OgvL9++zw9pBmxB0xJ33YG62YKW7qa2BW2pjy3oUnRN1L/+8bDH2b0Pmjzx23yX8bYj0O590EOIzSH1QEt3U9sHbTkEYh90KZqBRiH8JnmdT46q41S6j+LzLej108t99z5o91H8IcTmkJYtaH43taP4q2/2L+vqxDxH8UvRsgX9/rBPtz0yD1rsg/YeJNUmOVsDbQ5p2wfN7qZtHrT6Kl6dB13QBpRAo7/8GO+Bfh6//ZK8YfMpe5fn9+k/iG769afGUfzbP4fF620z0NICugJtDGk9ik/vprIW+5eP0YH8F9V3i4p90P98bHzPb5cW6Egbibe6j63FonY+MwTab5N8Vq5tEl1wLQj08uTTjtNM3BSTnLU7bF2L5mACvUAvX6+yzzpNoCvQ1rUgUGB2BAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppkweaXzll6vuFn6YP9L8JAsUgBAppBAppBAppBAppBAppBAppBAppBApptlBe79O3gd48jr9DAoWBKZQwuE2/2OZfjLhDAoWBJZTX+yLL8Ppp7B0SKAwsoezWd/mX29Ev8gQKC7agkGbcB802oeyDYiK2UHbr9Ch+9PaTQGHDPCikESikMVEPaUzUQxrTTJDmZqI+CAb/siaBwsLxFpRA4ZbjiXoChVuOJ+oJFG45DoVA4RaBQpotlE0Q3CST9XcdAwgUbtkOkqJ9z01wE++LcpCESZinmbZXD3ummTAV80R9OkXf9Yl6AoVbbEEhbdw+aOk9JeviCBQWHMVDGvOgkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkGYLJbmIV6TjSp0ECtdMoYRBdgXEbcClEDEJSyilK3RyMVlMwxJKcjnuFJfjxjTYgkKacR8024SyD4qJ2ELZ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" /><!-- --></p>
<p>The following shows the linear predictor for covariates with interactions by age. All are negative, reflecting the fact that there is attenuation in the hazard ratios for the comorbid diseases with increasing age, as is common in chronic disease epidemiology.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Part of lp dependent on age</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ensure_matrices_match</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">paste0</span>(name_cols, <span class="st">&quot;:age&quot;</span>) <span class="sc">==</span> name_cols_age )</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Loop through the different age groups to get the part of the LP with age interactions</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>ages_lp <span class="ot">&lt;-</span>  <span class="fu">rowSums</span>(italy_ages[, name_cols]  <span class="sc">*</span> surv_smpls[, name_cols_age])</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(ages_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following sums the components of the linear predictor.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="do">## total lp</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>tot_lp <span class="ot">&lt;-</span> cept_lp <span class="sc">+</span> non_age_lp <span class="sc">+</span> ages_lp</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(tot_lp, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">12</span>, <span class="sc">-</span><span class="dv">5</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAAAt1BMVEUAAAAAADoAAGYAOjoAOmYAOpAAZpAAZrY6AAA6ADo6AGY6OgA6Ojo6OmY6OpA6ZpA6ZrY6kLY6kNtmAABmADpmOgBmOjpmkJBmkLZmkNtmtttmtv+QOgCQZgCQZjqQkGaQkLaQtpCQttuQtv+Q2/+2ZgC2Zjq2ZpC2kGa227a229u22/+2/7a2/9u2///T09PbkDrbkGbbtmbbtpDb27bb29vb////tmb/25D/27b//7b//9v////FwBMsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAP5UlEQVR4nO3dbWPa1hmHcTmNZzKv62aabqvZQzcre3CXqE1nOcD3/1yTdCQkEBIczi3xB12/F4mNnQOGKwfpgKVoDQiLzn0DgD4ECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkEWlstotsX9/fd5pPGl//50foKP8yi6Hddo+9c0r5Bk0Cgtf5Av7x/Yx1oGmUeOkbfvYRAJ28r0JY4Mg80iW6eOkffvYRAJ2/fDPrTfRTdfPOc95LJk/n8XRR99ccildWHKHr7VJSUtfbD++jN8/rz++z7vs66W86ju8/30c33659m2XfVV7MZoBjSJdoefXPJ9q3Lruzf2be8fR71njkjAq3tCTSJojKUKpjykvwbs2/JC7uvL759Sd2Xs+yyQJ377dTqAfYEuvPFfYFurmAaCLTmgiuUgeaz4Mv652JD0T3lvs7Kbh+KTci7l1VclXX7vP5f9q9+9ZJ/00MR6EP+b6Pvy+8vNAdoPcU3v7j/KT6/tud81D0bIVeJQGvtQLNg3v6n/KoLpswmdpNq/nEWogv0sfzGX/51nw+QXZ4F5f4sim0Os662C54OjL5161ygj+tBNohFEWitHai7xG1xFk1UWwF5WtXHW62t/lINkM++6/LPOtDmAK1At77YFWhxaTKZ53gCre3ZBv3y3m3x/aNMyPVWPLs/Vh83A82Lfvu3X+adgTYHaAW69cXeQNN6wr5yBFrbuw765a/31V7LETOoK3HZHSgzqCcCrXUt1K/+XG8Tdm+DFsW4ma3aSdoTKNugngi01g406+33xfN8sW+d19S9F1/NoLcvXxbd26Bde/Ht0XcnSfbiJ2/PDPqhXnVMD6yDbrZBe3eSmuugzQbbo6e966BTmUAJtGHfU/zP+Rbo1/nrNsXLRs/laz1/cv8gu+i3z629+Ld/T7KLugJtDNAItD16dcn2rcuu7L/ZVXzDK0k4Vjzma+TT2fgsEejp4uK9ctnsOOL2IIHiaOngr4tX11BfCYHieF++m5XvdRoIgRIotBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopBEopPkFWh04Y2K/uIXz8Qo0qY6PkTYOlAEMyCfQ1aI+wNAUTziBM/AJdDnfHDQ15Ukeo2AGhTTPbdByCmUbFCPx24uvzv3D/ImRsA4KaQQKaSzUQxoL9ZDGMhOk2SzU18dZNbthQM54BiVQ2DJeqCdQ2DJeqCdQ2DIuikBhi0Ahza+oOIruisX6rpOVbw3Hrj2C+e0kFSeLLM5AecxOUvTJIVCczHuZKS3OKHXUMhOBIpj3Qr1bou96Rz2BwhYzKKSdtg3aeE2pZzgCRbBB9+IJFKGGXAclUAQjUEgjUEgjUEgjUEgjUEgjUEgbJVDe1IRTjRIoEylORaCQNn6gvI0ZHs4QKLtOON4ggVZzJIEi1DCBboVJoDgdgUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagULamIHuHFKMozDisDED7ZtXgb0IFNIIFNIIFNIIFNL8+ijOFZ9587F3OAKFFa8+kujBfZBWH+wfjkBhxaeP1WKTZXL70jMcgcKKTx/L+WP1YdrxJE+gsMUMCmme26DlFGq5DcornujhF8Zy7mrqmD9PCpSJFD3Ovw5KoOhBoJB2/oV6AkWP8y/UEyh6nH+ZiUDRw2ahPoq2VosIFFaYQSHt/Av1BIoeLNRDGuugkEagkOYXRpztvL/OoujmqXc4AoUVrzCKPt89bS047RuOQGHFbx0023eP7/IPWWbCOHwX6su1UMN31BMoevg9xWezZ8IMihF5hbGcv/lYTKFp117S6YHyznrs4xlE6iq66x/ulECrS4N+GlwdmXVQAsU+1oE2DwFKoAhmHIRPigSKwwgU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0ggU0jZBLOfdxws5HoHCViOIJIq6zo1wtPBAOUQTmrZLCG40PFAmUjTtlpD0nYnzMAKFra0S8mPX5ceo7TzLzEEEClt1Cfk5kFyZXYdPPgKBwlZjL77z1B0eCBS25NZBCRRNjRLi7Am+8yScRyJQ2KpLiIsN0OU8aLmeQGGrsQ3qzs0VsIe0JlBY25RQnQw+IVAIqUtwJ4N/nfFKEoQ0SsjPEtt9mtjjEChsscwEaQQKaXUJq4V7oxs7SRDSWAcNKrNEoLDVWAcNfbNyjkBhq7VQH4ZAYauxUG/wK0kECmN1CWl0eAo9uCNlFii/moRC87c6D+7FJ9V7nTrf9GQWKBMpCj4JVC/XZ5KO3wohUNjySaCxH9X1nicCha1GAtmT/O1L3LPYxAyK0TV2km6esux6l0OTaj+KbVCMZOv9oPm82Pt+0GpPqvP3kgkUtrYW6vNARd5RT6AotGbQ+PSjNqwJFNZ2t0GT3uX68RbqCRSF7b34A++oZ6EeY2OhHtJsFuqrl84DUtx/Ka/JT53Pa/FnmEGrS01/ZlyQ3Ye+d5Vp/IV6Ap261kMf970tdPSFegKdutZDr7VQT6BT13roRQ59Q6Ao7D70xxzd7nXWuZhPoLDV2ovveaVzs6Pfva9PoLDl9dCXO+/MoBiN30O/nOcTLIFiNO2F+v7fm4tvnggU49n9teP+dzMV3/BAoBhN4/2grrquFzE3XmdfESjGUj/Ff+veaHd4oX616J5lCRS2WjOo1jvqCXTqtt5Rn/2ZhB0DnEBha/cd9UHzJ4HCmuohwAkUBQKFNJ9D3xyBQGHL69A3hw0VKL+aNFV+h745aKhAmUinSvzQNwQ6deKHviHQqfM79M1BBApbXoe+OYxAYetC1kEJdKq2tkHDEShsqZ5pjkBRaOwkSZ1Mdv+lrNdPjteJvA4bOFAm0sm5rJ0kAp0cAoU092Db7CGtCRTWGoFaLDQRKGwRKKQRKKQRKKQRKKQRKKRVgR51aLvDCBS2WKiHNAKFNAKFNAKFtIsMlLeFTsdFBspEOh0ECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmmXHChvGpmASw60+qLtjwApfo/uanHg95YIFLa8Ht0kKn/vM406fgGUQGHL59Ft/F5y0nGyGgKFLZ9Ht3EMvK7DMRMobDGDQprnNmg5hbINipH4PbrVEUg6T5dIoLDFOiikESiksVAPaSzUQxrLTJBms1C/eWMRgcIWMyikXcNCPW8LvWLXsFBf/hV+Z0DPNayDEugVI1BI83tYk+zpvdgMTZTebkegV8xvJ+nmKdsMvVtrBsq+0jXyX2ZaLbJdJMVAy79M7haoOGWhPr59IVCM46SF+vhOOFCe6q+K3zZomeVy3vV+JoFAq0vD7xsI8N2Ld0/yqwWBYhRXtA5KoNeIQCGNQCGNQCGNQCGNQCGNQCGNQCGNQCGNQCGNQCGNQCHtegPlXXdX4XoDLf+y/fkwNgKFNAKFNAKFNAKFNAKFNAKFNAKFNAKFNAKFtKsPlFc8L9vVB1r+ZftjYjQECmkECmkECmkECmlTCZS9+Qs1lUCrS21/XAyOQCGNQCGNQCFtaoGyr3RhphYonV6YiQZa/mX7w2MA0w6UmVTetAOtLrW9E2CIQAlUGoESqDQCJVBpBPrpE6tOwgi08Smd6iHQ9qW2dwmCECiBSiNQApVGoAQqjUDbl7KzJIRAuy+lUwEEevBS23sIfgj0yECZT8+DQI8NdOszjIVAD15aKj+zvb9wCIF6XilP9eMi0BOvtLz7yHVgfnftauEejzcfO77hLK2c5Up54h+H112bRA/ug7T6YNdZWhG40ureZEK15nNfrhabLJPbl73fItDKWa60d0Il2wA+99py/lh9mG4/yUcYhdnDfjmMZ1DAluc2aDmFdm6DArb8njWWc/dUw/yJkUxxswYXhEAhjUAhjUAhjUAhjUAhjUAhjUAhbYxAz/v6Nc4uKB6rCse4DgYacSCRm0SgDDT0SATKQAMMJHKTCJSBhh6JQBlogIFEbhKBMtDQIxEoAw0wkMhNIlAGGnokAmWgAQYSuUm81AlpBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppBAppgwf6+uv8YOHF6UHCDnrrBmp+EDZQGkU3T0EDrfND+hoMUg4UPR7+tkPS8hd9DYZav86i6M5gHHdQ2VNHGjrQ5Tw/mv1qkT2MSdCP6wZqfhA2UJrdojQ0rjgb4HVmUEOS3xqTrNb5T2jRVXr7YjPS67uQe3ngQFN3TiX3ICYBZaXVyZnSnrM0eQzkjrcfh93/y3k+iMHx+leLu/BbsxFyP2+4O8hiqDRojGEDTaOHxs0LmLA2A22PePpA4f9l1tUPFDwPGwf6OrM4gUDYvNeUBP1Yg2+DNnKKw6a+6l+H/Y8s/727/wOHKgM1eGq2fIoPu5sr6Zsf56G7DU78m5D9jxEDDTw1iG2gJpNfOQ0b7d3Y7G2V2x3BknxLyM3sYZbzfBMoPvVGjRdoGrhLKBhouZNkEGg+69k8NVtsceSSG4OnmNrJA40WaPCplQSf4rOwsl2uH78NLsJki7i6STbnCHI3xmSJYh0y0FCBJtV2R9lAcmqfuwOdXNX2QKFJJPV2Vdi6bDGQxXxe3iKDZ3h3k1ygQbtKzTvp1IFGmkENttNsZ1CTZSbHYJnJ/XcxeT61mvPciVkNblLgzzZOoBabV7aBmizUF+vYJtt8dtugRpug7v9d4+yspytmAfGdpMS9ABd03xkHavIqZf4qnk0QcfBLwSWbDdlcanWT4pDXXnmzCKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRKKQRqLX0seMTd7w4+CFQY1sZdn+CIxGoMQK1RaC28tOz3b6Uhy4sPyllgb6++2FmdEzDqSBQY8U8mZ9RJj+67e4MWpxwweyMcpNAoMbyJt2BidObp3agRqemmw4CNZY36Q7Lnv3ZDrQ4XrvVUbqngECN1YFmH7UCfWd07sTpIFBj/TMogfoiUGNHbIManWprGgjUWHEirXov/qH5lSxQy/PCTwKBWovrddDyk1IR6B9mAadkmSICHZPZqS+ng0DHRKDeCHRg+cudm9PsEag3AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoU0AoW0/wMTppUNIkUpGAAAAABJRU5ErkJggg==" /><!-- --></p>
<p>The following transforms the linear predictor onto the rate scale.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>tot_rat <span class="ot">&lt;-</span> <span class="fu">exp</span>(tot_lp)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="dv">10000</span><span class="sc">*</span>tot_rat, <span class="at">breaks =</span> <span class="dv">500</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>), <span class="at">xlab =</span> <span class="st">&quot;Rate per 10,000 person-years&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="estimate-the-survival-at-each-time-point-3-monthly">Estimate the survival at each time-point (3-monthly)</h2>
<p>The following uses a function from the flexsurv package called by summary.flexsurv to obtain survival probabilities at each follow-up time. Where the time is before the patients age at baseline (in this case the age at death in the ISS data) the survival probability is by definition one.</p>
<p>In this function all notional patients have the same shape parameter, but have patient-specific rate parameters. This function is not vectorised with respect to the rate and shape parameters, but it is nonetheless very fast.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>times_vect <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="fl">0.25</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>tot_surv <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>){</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> times_vect, <span class="at">start =</span> age_smpls[i], <span class="at">shape =</span> shpe[i], <span class="at">rate =</span> tot_rat[i],</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  tot_surv[i,] <span class="ot">&lt;-</span> <span class="fu">t</span>(a)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="the-following-plots-show-the-survival-distribution-for-a-random-sample-of-3-notional-patients">The following plots show the survival distribution for a random sample of 3 notional patients.</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">1</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(times_vect, tot_surv[i,], <span class="at">xlab =</span> <span class="st">&quot;age&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;survival&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;Age &quot;</span>, age_smpls[i] <span class="sc">%&gt;%</span>  <span class="fu">round</span>(), <span class="st">&quot; years&quot;</span>))</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<h2 id="survival-distribution-for-all-patients-stratified-by-age-and-comorbidity-count">Survival distribution for all patients stratified by age and comorbidity count</h2>
<p>The following figures show this for all patients according to age, and comorbidity.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tot_surv)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(surv_all) <span class="ot">&lt;-</span> times_vect</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all[ , times_vect <span class="sc">%in%</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">120</span>, <span class="fl">2.5</span>)]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pt =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span>  surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> italy_count,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> age_smpls) <span class="sc">%&gt;%</span> </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="st">&quot;times&quot;</span>, <span class="st">&quot;survival&quot;</span>, <span class="sc">-</span>pt, <span class="sc">-</span>comorbidity_count, <span class="sc">-</span>age) <span class="sc">%&gt;%</span> </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">times =</span> <span class="fu">as.integer</span>(times),</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">comorbidity_count =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(pt, times)</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&lt;=</span> times, times <span class="sc">&lt;=</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_bands =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>))) </span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>plot_surv <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(surv_all, <span class="fu">aes</span>(<span class="at">x =</span> times, <span class="at">y =</span> survival, <span class="at">colour =</span> comorbidity_count, <span class="at">group =</span> pt)) <span class="sc">+</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_bands)</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>plot_surv</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAABYlBMVEUAAAAAADoAAGYAOpAAZrYZGT8ZGWIZP4EZYp8aGhoem4olhY4rsH8tcI4zMzM4WYw6AAA6ADo6AGY6OmY6OpA6kLY6kNs/GRk/GT8/GWI/P4E/gb1DPoVEAVRIIXNNTU1NTW5NTY5NbqtNjshRxWpiGRliGT9iGWJiP4Fin9lmAABmADpmAGZmOgBmOpBmkJBmtrZmtv9uTU1uTW5uTY5ubqtuq+SBPxmBPz+BP2KBYhmBgZ+Bn4GBvdmF1UqOTU2OTW6OTY6ObquOyP+QOgCQOjqQOmaQZgCQkDqQkGaQtpCQ29uQ2/+fYhmfYmKf2dmrbk2rbm6rbo6rjk2ryKur5P+2ZgC225C22/+2/9u2//+9gT+92dnC3yPIjk3I///Zn2LZvYHZ2Z/Z2b3Z2dnbkDrb///kq27k///r6+vy8vL95yX/tmb/yI7/25D/27b/5Kv//7b//8j//9v//+T///9KzU/XAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2diaPsxpXWnzOexVUqyg5gYKaunIAYiIfNGUjYcofBHmCGZDzA5AFO4iz2S5CxH3Ze9P9TZ6tFLanV3ZJa3beO7bu03Le7Sr/+zlLbs65YsR3bs2u/gWLFpqwAWmzXVgAttmsrgBbbtRVAi+3aCqDFdm1nA/rp3dvTa+kerQA6ak+vpXu0AuioPb2W7tEKoKP29Fq6RyuAjtrTa+kerQA6ak+vpXu0AuioPb2W7tEKoKP29Fq6RyuAjtrTa+kebY+A/uyN3/2x//ajN95443c+/PQX/5B+Rfvku2/89vc+5cd+/vs/nvgrF9t2Lc1aRQaNf+ONb23b0j3aLgH9Pfz2g2/B10+++61Pf/R7csk/9rPf/bE89qM/WPFdbAJoaGnSqnh165bu0fYL6Cf/+nvw7Rf/6MNPf/73PqQr8EvyGP+6km3W0l6rxH7xh9/buKV7tP0C6p0b+DjwbnCr0H7++/8WnGF4jER2Jduspf1WsYFybtvSPdp+Af353/0eqKj3cwmgfweJDY+t6vm2a2mvVWT447Yt3aPtF1C0H3yrp6D4S3jsTgDttYqvQcK0bUv3aLsHNI9B/zHer/DYfQDabxXZD6Bt27Z0j7ZfQEFBPvk3H37y3T/Is3gvKuGx+4hB+61Coxxx25bu0fYLKJQCk5onSYv/5Xc+DBXDO8ni81ZJS8nZb9rSPdqOAc3tLwfu0L3UQXO7Xkv3aLsENBk6Evvk3x3+f3czkpTZFVu6R9sjoDuxp9fSPVoBdNSeXkv3aAXQUXt6Ld2jnQ1o6w2/jNv05fWuLvSn57d0B2/2ohdeBqV1rAA6enV+S3fwZi964WVQWscKoKNX57d0B2/2ohdeBqV1rAA6enV+S3fwZi964WVQWscKoKNX57d0B2/2ohdeBqV1rAA6enV+S3fwZi964WVQWscmAf3yX/4Uv//6T975+/8nfCM7qQe2vVoAPfGFV6NrAZsC9It3vomA/uav3u9+9Q/kG9tJPbDt1QLoiS+8Il8X2wSgH3/jr0lBf/2nPwUx5W989aQe2PZqAfTEF16VsAttjov/8l/9n+7X/+GH/M0/8De8xf/rAQx+qOuavuL3rrNunfe8U5Nmd3X+uN3+rdyRzQH0i7+PZPI3vhY/g9batgVItbX+JjkwpNRZ/9N1teGSq91BS6efg62v67Z18KXFL2DGbvBmT796zwoKljTRovnv2vjvRhtjXGr1kf5ZsesvudodtnTyOc4xogY+oK0lWgHQ4Q5Y9M2efvWOAD0Sg3o2Lf5XaWvQNDBqbCVa6lx9eI/uDlBrAFGHgPoWC65t7QmdQLQAOmlzAP3NX32HsvjvjGTxjKgJhHoVtc6Yytrg8F3du0t3Byg2HhA1huIcZ6nlpu63ffk3e/rVewEU/puug5pWEK2UD0ONQOo9vtE2+Pm6zu/T3QHqHQcjahyH4iio2rgpQgugk7bESBIQCohWlVExDPV0VvjbCKN3B6iV2EZBkwFRi/8aR4SOIFoAnbRFAKU01arKo9mihHj99FJaAanwA96oiGi9WddfcnWgpZPPwWZr9h6+sezoweVL09d7s6dffTqAapLQtlWWCAVELZIJtwol1aK7SxCt7xBQLYGNMtFveEo9thOEFkAnbQkFjYRW4N5bkE2UUX+z8KbpFNFMRtfu+kuuDrR08jmGCbVK4eeS9dMjylnTcKsLoJO2yGwmJlSrCvyc1nCzgEdbadRQ9vguyspRQm8QUA0hKDQWAPW0Qj4PhOL3erTZBdBJWwpQCEOrjFDrGg8o3jNNQSncqyxjWr/rL7k61NKp5/iWYmstEQoJIovoJKEF0ElbZj4oEYqAQrkJCPVQNhryec0+3uANi4ROI3qDgAZCGVBtuLVAaO1qO+zmC6CTttCEZSa08oC21gihGmAl/cQADUUU/wmIrtz1l1wdbun4c/xH0Tdai4IarYzT+JnUoqBDhBZAJ22pGfUYhhKgSKgBQv0/CqqDOaHWSdVpgtAbBNQTqnyTIdwmF+8Jxc8oQBpq9weeowA6aYst+fDK4X08EaogRYC6i0JBwUITERrcvD2C6G0CCo5dS5oEI0sWQ9FQCh1qcwF00pZbk+TvRNUSoC1Jhwb91JonOXFh1NqaciU7qCcLd/0lV0dbOvIcA4SC1wBCec4Mook+niPQQ0ILoJO2IKD+Dnkfr/AXTN2tbqxVqCPGWkpwsUSKJSghtF28OnhNQBUNyCue1WWVI6/hCdUB0azFBdBJWwDQhpsJEuqdPP2ChGpbeTcPhGomtKV6U50Q+jCI6A0CKoTiWBLWLkBCIUEiCSVCHc0+jA0ugE7agoB6QqtGJBTvltUVJAxEKI7LI6EGqi4uaugDTD9fsDp4tTpolFCrKC8EJ08FUSMa2k/lC6CTtjygLRGq4HZ5QPGW8RwnSBlaGgZEEQ2EPiQrJBbt+kuuHrZ0+jlaJNREHw966mhknpqdzppZ8s2efvXeAY3WhJ88oVXVKfpFYQwGPr4DQklF/X8dTSBxKaEe0a6uR/7+rZiGtumOCA2AkoTiYBIRSjNI4tLCYpO2RJKUSigEoezkMZWvIJdH/w76CTJCGopZbUKo9/OLFV+uNpIU8iQpNGGzLUgozrpL5iNsMe3waSto0sQAqGfS+3gdCYU0vtXKMKE4Lh8IrQ8IXb7rL7k60NLp52gcnmhZQjWPJmmSUP/5dBDlHBBaAJ20ZQFFH691CEMhCLX+V3DxGkPQnNAwsoSELlUdvB6gSRTqJVQxoMbJf0Ro5BNaXACdtCWSJAH00efu4ON7gEIkplsk1EuMrAexhsLQWLJvHxaqDl4V0BY+jwoA5amwKKEWl3y6IUILoJO2MKBeQn0QyoR2/h6xhJqU0FCwr11GaBqG3iKgUUJ9e5WywcejfFqaGxrWEQqhBdBJWxjQFsc72ckLoFSsb2nUE+eS2D6htk/oDQKqRELFxyuRUAQUU8REQtdfWVAAlRiUCQVAFUmoFkAbrYRQkdA2rFcygVDXJ/QGAW285yAJ9e32EShIKOSHmn28jYRmGrpBU45cXgaldWxpQGH3hpadfKcq3WjaF0dhfgQF+0goSGgYl7cUhgqhtwhokFBFPl7RMk/NPp4mHDpjxvcKWKspRy4vg9I6tiSgmYR6QrtG6abyEtqihBqSUE9oWPM5TOilxZerAuoJ1SSghqNQTT4ehzqR0P5uFus35cjlZVBaxxYHtEJAkVAA1HhYYdsRL6EtTUCDMhMSCv8mhFqXEnqjgKKPR0BhEkKQUJyOgPO4jaO6/VxCC6DnPjFpYgYoSyiEoR0UXFBCDU674/k9MJiE3g4k1ARCXSC0vbD4cj1ASUIVTqbXDCgVgVFCcW0BzK7vEbp6U45cXgaldWyR+aAZoImEEqCGvLpIKIehkdB2iNBbBLRVAihUQpWKq+d8ZCMSSmPy+dLBq+x996QATbOkSsHiD5TQtiFAiVCteWdGlFBaDJIQGmSlPZzbdHbXX3J1qKWTz2EfDwNnGla9kISigsrseo0F+xMktAB67hPTJmaAeiIrC9OW/V1q/H8VzhOB5cgoobzMM0ooBKiyUGkuoTcBaAXVJtpRDB7BWSO4L6Wz6ZZq6y2/LoAOAppKaOP9fFO1SKiOEiqEUiZv2rqlYZaE0O42AUVCgUbv3Cvw8ZamjaCKQnoEGT1J6LwtLAqg5z4xa2IGaAOEooQCoFBowo0bREIxYZCqIDt5IDSdN9LC9NAluv6Sq4MtnXoOBqEIKI7GVypIqKUCGxIqY57zJLQAeu4Tsyb2AG0TCfWAmlRC4RuUrXGvLRsJzZw8VpuW6PpLrg62dOo5Aij7+ARQw4tbtcNKE6ZJsbkF0AmbADRsqPyrd8Dex+/fHDwnKQPUs0kS2iGgPq33jh4lVLOE0m5NUUItJko2cfKuezg/dbgmoEioIh9vFdVCCVDeTsxqkVA3h9AC6OiV/GA5OIPm4/eTy1kTszoTSSgC6n1dixKKPl6jj2/RyTOhNhKKEtrGRSBTedLuAVUEqIKtAWgvB9ZP3JaSfXy+r++aTTlyeR20lrFxQLNDPeD4md/8tx8ml7MmNn0fjxIaASUJ1SKhVvPsCRMIbW1PQtspCd0roOjjW61CEAoSShuDw4S7MyS0ADp6JTsWCaTUu3xw9F3/pDkwXjj3yL9UndGV/wlvVVdVpoNNcOBL1xlYXYZhqO1QQrle37mc0NtbRuc7Qfk2dwwojceLhOpEQm2U0GT28rXf/j5tHND0YDn8/uUfpyqafwbzIJQltPPqqb2mQBrPEiq1UMxpMwk1vH1oG2tN56YOV1VQCkGVboBOGPRkCVUsoZ5Qg0uUsuGzUSdfFHT0SqqgX4TjZ0IcmjfxANDKZ7EdsKnAx7emBQkFNWmZUJTQNiGUo1A7h9B9AipBqAppvEYJ1QRokFAaVLI2cfIF0DGbF4N+/B15dB6gPpGvME/Cmcu6UkiotcoioTicRBIqG4sZJxKaDMqfGZldEVAMQolJDyiOxWsjgMK66yChJjj5SQktgI5eSQ6WI8cOMvqb/z58HHcOqEgoAoo+niUUNtpoo5NvRUJtlNAeoRd2/SVXu8GWTj2HfXwKKCxQ4jQ+SqiR3RyOO/kC6PglqoPiSXPk6X/1zjvf+KFc7fUAERoARQmtcFdw9PEgoeDaWEItja3Aovmw/iNKaBsAHSs17RvQFmNPraBSr4xhQBWvu6ZpyzgrNB2TH5kZWgA994m9HhgAFIfkG/Lx/hfy8TB7mSUUtry1rdZhdn2Q0PaYk98/oEoA1UYfSKgWCe0Pyd8ooC/f+n72/fOvfQQ//r//dfJfOnzKOoCij29BQhlQ/9Wwj49OPpFQLF/z9svRybdjhO4XUPbx+C9mSbgtAJ8kwRKKPv5AQocJvSlAxTygA4+e8Ye6pQHtSyj7+Bb2cmAfjxLaCqBt4uRBQjkus0ec/O4B9Xw24DdQQllBEwnFbSu0xDRThBZAz31TvR5oBnw8bVsPEtqghFra39XYVEJxDq8RCe05+XaE0NsAVPUB5Vl35ONDIp9s/bMvQF998OzZ6/H7y7f+4s1nz95+6b+8Fx/8+n959rX/+dafP3v2W79Evr5699lrfw4uHv/n5/D8F6+P/8nv4xf6v9+DP/32VoBSpYkBxe1w2McPSahDDSUJdZmEDjv5mwDU6oqWdgqgVFXDgd4goQdTlzc75usooK8+eN3j9h5+h/9evukZfAEgvvjaR/FB4MxfwV/e+v5X777tn4QxKNAHWvrqg/dG/6QA+ib91RUV9CAIZR8PZ82xj4dCE6ZJJhCKysl5kpVZTe7AyZ8YmV0VUCIUAG0RUIxAMQitEgmlLVJNb279wJj8FQFNUh7Ke958D1h8D68MPiiPvwiAAo0vv/7R6J8MgIY/sDGgVgCFwU728ezkSUJNdPK0TL512Zj8sJPfKaBRQhXOha2MAKr40FKRUDq7VPeq9ZueQ3cUUIok/XevboEe+ZI/CAh6Fv0vL/Dxrwug4N4TDz/2J7PvWwHaVhCE4j5Nin08AtpSjR43ExMJZUIHJXSI0FsAFLZKpekihqpNXkIt7TUNtfqZEnrrgL78+v+OHv66gCKhj/H3toJpTLD5Dft4DyqePZdKqGEJ5WIoSqjNpzUNhaG7BxSD0Laife6MTL/jxUmWptT75vYl9OHgYLM9uPjXvp/5YwJ06MHU9TNtrz7459HDj/7J6wDaQnneIqCKfLxiH48S2nGxPpNQINTao05+z4DCcHxI48XH47YVsNuIps3QnZkpoVdOktL/MhbzB9Mk6XVJkiD+9D7+2evjfxJSqlcfvBYApadsCCj6+DaWQvH0Yxrzsx2vFjdM6JSEnnYGyNUB5Sl3DQCKmzHiOk8jE0cwCNU0td6EGTKR0OWbcuTyyC0eqQnRl/zBPw+/hDLT97vn+Nib743/yQ4KS//ij2L08DzFeQ1Acx8vgKKEAqEWZ4aihthOx/FOk0moLJMPEnowa2T3gMYgtDKcJZGPV7Qdo5sroTdRqJ+yJIc/y5Y7CnEAUE+lsbgGIvXxuCM4OHkGtCeh7cHyj0MJvRlANc5nEkBpN1sAFH38HAm9eUBf9CvvJ9qCgB74+A4lFAqC/vZUsIkDHeXFEtrizcKtb3iZJ60nO5BQdyChuwYUg1DaK40kEyff0Rme2vASZGfo7FKWUOfuE1CswKMjB3vt5LHPjQAlCYU8HkqBMKKEEqqjhLYHhE5K6I0A2lRxqFPL0jnNgNJEWMdzRsYk9MYBvdzWA7RtAFDv2Ruqu2BFFILQKKG4LXhfQluR0Dhz+UBC9w4oZEmVJkAVpe4koamPp0XXR3x8AXSxv9Tgys7H5IEOK6G6gZWOCnx8p6KEdtZ2LCzWdJjTuyih3cE+Dt0trHqkxa24tFPBh7NSiueEso+XL963qzEJfSgLPBNbMkkC/cgUtE18vJYgtI0SqkVCTS6hbW2nJXSvChp9PCqogflM0ccbm/v4IKETPr4o6LlPPOyBpgcoFZpSH9+ij6ez2EBCycfjOfK2NTRz2bQkob1V8rcGqOeyMo0RH6+jjycJJR+P58syoJHQAmhiWwEKEopBqIkSSruJDUgojidlW2/0pi7fCKDs48cANbyi1U1I6BUB/WzYzgXmTFsb0JYADT5e2VYkNPh4n9LjEYlBQltbh/HOMw5K3AugnkoJQkO07VupaAOHeRJaAD33iYc9cJjGtyShFn08LKAjH9/SkdUtr0gKEhqn1h+T0N0DGtN4LDipsDIeAc0lNMwYyebWL9qUI5eH7/D9A9od+HishOLOoJdJ6G0BGn08LZ0jQKOEhuHOAQktgJ77xMMeOEjjGVBlyMfTGZ6JhNLOIlR7SSTUYJ6E4/Kion0J3TmgIY2vUkDhM2pDoYkBxZUEsvRjQEILoOc+caAH+kFoR0GoB9QGQFMJJR+PEkoTJGlLA6nWH+yEc1OAYpakWUIJUJFQhbmSw0Pn8Az5sEK+AHpgKwOKEqpBQkFSGp61TBJq256ExrUfbTwF2Q4ReiOABh8f9w9LglCR0ODjhyS0AHruEwd64CigCgBt+YgPklCdSGgbdn0zrktO8bxFQGHF3GEQigd+cBBqsBRKniOskC+A9m1VQLnQhAvkW1gmzj6eJRTK84mEtpmExjRpgNDdAppkSdVhEMrHQXKhKUqoDivkDyR0v4B+9S6sQF7dtgRUUxCqSEKDj48SarQNUaikSda1h0uQbwFQzJJg5TEeza1pwghJKG7KGCUUI9ERCd0toLDa/UV/+vsKtiigcHt6gHo8AVCfJomPpzSppfPnEgklHy8S2g1IaJx1t3dAeZtQ2J4qACo+3koQCjlSmNNke1How8Plx5KvCuhX/+Sji2fLz7ENAIX9mYKPbyVNAgk1qYSyj3d8WndIk4Yk9BYAVeTjVZ4lURCqCFD08aFWPyihVwX04dACoC//1i+7r/7ojBnIJ9qSgPZ9fAoorPDgIFQklHx8JqE2SijvbdDf7a69FUDVQRAqPp6PmsWWanL2OpFQl0nobhUUlrbfPqAhCAUJTQHVBKj4eEvHe1nY5tYl24wgoO2hhN4OoJoGO7UAqnMfb1lCjQsS6jIJ3S2g96GgIQgFCY1BKBfrEVCQUEuHzJKPt3HiciKh6Rr5+hYApSyJglAEVCU+ngHFSj37eE6TIqEkobsFdAcxaDgKUc5AjA90JwHKa+JDEEoS2qU+3oY0KUioazk/6kWh7S0AilkSZIdplmR4v3oMQvGYPUqTGNBBCd0toK8+ePvKWXxyFCId7ZGfjTjUA70sKQcUbkvw8RoOmFU9CeVZoelWYgbXdh5I6C0AKkGoku1vwn71UBGVhR8ioTLzoC+huwX0+nXQeAwNn96VnY14AqA0YwR8uqqaREITH08SSns4RAmlAxL7x3uBhO4bUDiKvAco7wmOgGoC1GaAJhKaLk7aMaAb2ZyDvPgMxPjA4VGIZA2sGnvMH+k6iEGrDpxaB4DCw7jyA2v1XQdL5sJSMlg8JxKK6x37EtrB8rk9ryrzLYZDIFVHgGrf5BCE6uDj+Rh5/1lUAdADCe0ertrSvQMaj0LkMxDTsxFHdCUPQrs2ZkktSKhkSSyhiY8P451RQk0moVM7NS0qLBcqKPkMzJI8oQRoxWl89PH2UELdaCK/UkPvSEHRPn4/f2CwB4YBRR/fKBOD0JYlFAANUWjcp2lIQl0vkV/rvq0FaCU+vpIgVNKkcR8/cdbe5Q29eUDzkNMDejwGHQa0rRJAQxBKgHogg4RyrT6RUAP5+xkSugNAKQiVZUkwD4GPQFYchNpQaWJAcRMcd5qEPmlA41GIfAZicjZiNwZoliVlgLYNJLMCKPp4rtVHCbW0/pglFH28SOgtASpZEm2nAoBWpKACqDEYhFoG1PYl1KUSulZDbx7Q5ChEPgPxaB20t+ojANqSq8OT51IfnwKqxcezhIqPH5TQbr37thyg4uMpja8wj1cxCLW0cwOMyPck1M2W0KcN6LQN9sAhoD0fXzVtlFDy8UIo+/hMQs2QhLobA5TS+EpHCeUsSdIkroSeIaEF0HEb7IEJQGHuGQehUgrNAQ0+PkioSSU0lkIPd2Nc8r4tCSjOgKUsCYNQS4BWFIRaSZMQ0LTSlEvoSg19koDmWVIENPh4FSWUC025hJoooTTcKRLa2wdnOgrdEaB4Fg2l8cHHV7T9T5RQp+lEcpHQBNBu0scXQMdtuAeytfEBUNz/W4LQ4z4eJZR9fCKhCaDdesKyFKDBx2eAat6M0VAQCn5DgtBEQp2dKaEF0HEb7oHMx+eAaj6fu40zRhBQIZT3d00l1KQSmuzhQGMs69y31QDFZfFcq5csyUQfLxJ6ko8vgI7bcA8cApr4eJgxUhmR0I4LTQFQ2gWHJbRjHz8sod20j78moEkhVIJQGuvEHULFx+vExztDPj6V0MSmPooF0HEb7oERQKOPVyiheFVq9VCsx7UfskA+HvuRSGi2Dc6R7HZngFIaT/8ClhKEWisS6noSmjI61dIC6LgN98BRQGELMfLxHfn4REJRUERCxcdHCc0BnZLQawOa+njYYEQRqRiDBkBJQnltEi940Sf6+OsCusV85XUAZUITQFsMQmG+SPDxEVCWUNkimyS0TXYLdTD3Lif0RgBVAVDNmzAqPurDkoSyj+cdRjiRzzYSm/LxVwX082dfuwtAWUI13DY4/tiAhOLV6ONN4uNJQjsjPl4kFEuh83z8jgDVVQYo+3hMCI2Sedri423i42dJ6DUBff7aX9yggmY+PgMUfHxLQSj5eAGUJRSWffIEJyC0M7YvoekmI9M+fh+A0nB8TONV9PEm+niSUMcHmg1J6PUArQ/t1l38KKBtDEINnOwFV9HHt1FCZWNClFD08YmEoo+fKaG7ARR9fEWzDKkOGoNQOu2EN7pjH28joImEjvv4EoOO20gPpD6+C4+1EoQq04qP75DJNkgo+Xgbo9CwNql1ktm2+X62a9y35QHVsDaet2aiIxERUBt9vDMiobTJSHbM3pSEFkDHbaQHJgCtoo8HCQVAdSKh0cezhFqXSCjvZ9vO8vF7A5SD0CpKKDl5SZMM+fgxCR3/KBZAx22kB44DKhLKgLaYJpGE4pnqYb/l1obtbLlGP1dCdwIoBKGVSgY7I6AmTZMwCLWJhHKhKUQzBdDlrKGFco/9B7uu0rCazNgOAdUKHoNdwuDAOVo6R5vUk4R2nMdHCaXb1oX7duUlZePGy+Y6PHIOg1CTBKFKCk24b5iihdbs462JPr4vodu348YBHfmINm2U0C55ECVUs4Q2cKYCXM0kVFvet97IlvUukVDx8VFCx9cmXVVBx7IknlUfglD28UoKTSyhyT5iAzuCL9jQpzmSlPn4A0BTHw+JPAPaat3z8U58fCqh7iAK3TugWGjqAao1za+PPp4LTZgmmejj02nL9UhLC6DjNtYDLKEZoHTPGFBtM0BbllA5iEYkNObxdKiCOL4ooePLO/cEaMWAYhDaKCnV8z/Bx2vw8VIL7S9yGZXQAui4jfXAKKAtApqmSW1PQuloxERC6bQrLl+38yV0R4C2iGcF6+a8ajYqBqEioUoKTSyhA/uIjUpoAXTcxnogCUJ7gEoQOiaheLRsyxIafby1cqq6myuhuwE0+ngCNPp4Wj0AakpHJ0UJ1QMSOvZRLICO21gPNG2Q0C5/lH28R7BqMU1qAdBWJDQcNseVppZO/YiLk2xfQts17ttKgLKP17wBI05uojNpaC0WABrHOwnQ4xJaAB23sR44BmiUUARU5RKqcwm1UULJx8+T0F0BKkEoOhAJQklFpVaPPl5LpYm2W54loQXQcRvrgeOAtjilCSfT5xKKPl4klH38WRK6H0CBzwRQ3cgeTcHHg4TCVHuQUKtzHx8ltB2W0ALouI32ABOaA4qP6qpqKE2qVPDxbZBQ8vEsoTiq0iYSaurDQxXGJHRXgKrq0QPa4PYiYeUc+nkllSYa7cx9/Kxtmgqg4zbaA1FCBwBFCdU0K1Szj2cJbY9KaDtXQq8LaO7jIYHH/B3P3KuqEIQa3kyFg1Ad0yQTdmk6JqEF0HEb7YFxQNnH87Tljn18IqEIqEgoD6uIhIqPnyOhOwIUkqTg43GdPJ8dDypKB3opmbUsEsqDSTMktAA6bqM90PCXHFBcSxYAbb2P74KEyngnTlsOEko+Pkqo9/FBQrtkn6a9AxqCUIxCDW/fYNjHk4QCoCyhcTx+hoQWQMdttAcmAcUgVFZ+aKrVi4TihDuRUN2T0Ojj8ykjgxK6N0Ax9GRAKzmxM0go+3gTK028r99xCS2Ajtt4DwRC+4C2EdAwr74noTrWQvPNQpOt7rIl8oMSui9AKUsSH68E0IrWJjGgmYTqGM5EDR2S0ALouI33wDCg8AhnSZAmxTyeJTTx8SyhwGcqoeLj7eHE5QXv29KAQhD66EW00dTJXskAACAASURBVJTHm1aCUJX5eCMSyoWm4Z3udgToyzefPXvvXHrm26aA4j62UUJ1T0LRx4uEHu63nEmom5LQfQHa4Sb9DZAKp3nJDk3+Yxh9PB1YGpZ+mCQjnJLQKwIKp8y9fOvGTppLbpD/Mggo+3iUUBqOH5ZQ9vGjEjq51d0eAVWwoQoBqmIAGoNQOJYHJdT0JNROSOgVAf0cDvF6vr6Ezjpp7stvwzE0cuAc2UQPxDSp9zACqklC0cfTLk0koQLouISaKKFJKXTh+7Y4oBVVQJXCPcH50GM6OilIqEkllFcPHu5Y3x4EMysD6g4ti0Gve1ZnPFgOjvaAo2jowDm2iR4YBRSD0CChMQhVbfTxQUL1gYS6uRJ6ZUBzQivKjzTsSYVBKG7UBJRWRoc0CSeHpmlSkFA3IaHXTZLgNMTVbc4pH18Aph+/zwfOsU31gPj4g0dh84ZEQrX4eJbQNpVQy7vYxi3rexIqQeiy921xQFtFItrQKfK6MRKEooKqmMfTxFfx8XakFrpUQy8G9Kt3N+Bz9jlJ/ic+cK4bP2lOrKEvjwcPax+PdQ2dxGYUDibBBas68vEdHD2HEhp8fBck1GAU2tHipHTJzu6Wz+H5euG3Sj1CEOof9c2suAgqpylgS3mOvVSaqADMe6lkErppS49m8Rvk8PNOmuvoTBo+cI4vT31EhxWUg9AoocHH46w79PHTEjq8W2h7sMvIvhSUAVW472Tm41Xw8TI0wfuBZxLqxiX0igq6EZ8zFfTXf/IdfjTEoZM9QIR2g1kSfGujj+c0qWUfH6JQ3h87jUINJ/L9PRwOfPzeAK1wbxHVEKDi43G3kcTHk4Syj88kNMmTdgPoi2dg18zik4Plvvx2SI8uAxQPUac0yRMKhaZUQmU3W83rO0lT6Ez5ZHmnSKgbldC9AdriJCYF+04GH0+Aso+HKXdUrGcJ1UFCbbadbU9Cn/RIUjxYjvnkA+f48mQPDAMKCz3aREJpMEkqTezjRyWU0ySW0P5+trsCNOyyjFbhcKfnMfh4DkJVz8eLhKKPFwkdWPuxTENvHtB40hzUPyE94gPnyKZ7gAgdAjRIKPh4uF2ZhLa5hLoooWG3UCk1sY9vUUIfFrtvqwD6iBJqGlo019BAJ/t41MsooQ4/fT0JzaeMLNPQ2wd02qZ7YKzQVEUJ7cTHRwlFH6/jrDs9JKFtiEJHJXRfgFIar7x/b7ASqkRCNUloRWk8S6gZkFA3JqEF0HE70gM0bflAQnGj5SoDVCQU5lEkEko+PpVQnnTHEkppUhhOeljqvi0FaCS0q3DlHIDJCz+ij4+FpkRCoXEgoU52wclG5Aug8+xID8At6sZ9vL99nWoNSOqohFKa1IqEOtlw2QxK6O4BZQmlfcA1p++atmbSNpFQFE6TJfJjEloAHbcjPTABKEto12YSSoAirDCpqetLqJXNGKla399JLKs07RFQzRJacaHJoITCFHsY8swlFHesDxLaO5amADrPjvVAA4AeBqECaFsRoLmEtj0JtRoJJQkNM+uNDCeltdBdAZoFoQIoEJr4eDkVMQ4m0Wah6OMHJDT1FfXoC89vaAF0AFAeRUIJ7Vo8dg4lFEPPXELp/GMb8qRcQttJCd0ZoG316AltFa774Akj4OJhu+ng40VCycdDa+skCh2R0ALouB3rAQB0oNBURQnFUihMEtWtbDKCZ8oioJ1mHz8sofGM7rhdaFSW3QHKEqpg+bGSIFTzycfi4xMJdZpO10MJPZi9tUxDnzqg/h4NAYo+XhJ58vFtIqE4sQkI7XTcLbRlCQ372QYJTfOkNhK6C0ADoQJoG3y8wsWdLKE0M8ZkEmqx6JtJaG/D5csbWgAFQAd8PHxlQNHH9yVUEaCwURMFYiyh6S4jhjdjbIc3atofoFippyM7YxAaJdTGKBRbzRKqs63uskpTAfSYHe0BAHRAQjEIhVJTNyyhIU+Ku4UGQp1pjUiozLprByR0H4AKoQxoSxKqGvbxqYTiJk1crec0yWCehJNHrJRCF23okwe0bQYBDT4eAR2X0JYlVLbBGZbQbK+7cOOuD2gqof4qZkmJhCo5NckktXorEoppkuY8aVJCC6DjdrwHxgBlCQVhgRNaooTixPo25Ek9CaViveyD4yW0DYT2VyDvE1CQUBU2cMCtlj2gln28ljxJolB08iSh/TO6F/kkXgro589u8TDZ7B7B5SNpEhyAjITmEhp2GelLaMtOniW0zZx8K4TuBFAmFAFtqyCh0cfzxHoJQi1OamIJDXlSlNDeLiMXNvRCQOEMmhevn0vPfFsRUBqPH5dQ+IEkVKr1skLe/9xp2c8WZEQnEsqEWjcgoXzj9gholFAcTVKHEkp5kgm10CihB8VQWSJ/ZRe/xUFJmwMaJbRFH9+ykwcJtQo2Y0Qn3+US6myYuOyihNqc0FYI3QugRCgBmkgo7WUbJFTyeC0SynqKeRJIKM1pcgOErgyoPbQM0LtU0FRCsdLUmiEJ7aKTtyaR0EgoSqiU6+Ma+XaPgPYllGv1tDbJ8m7LnCeJj5et7khCZVg+d/JXVdCXb762/rL4xY9CzAxWNzb9tZ24uNObT5O6qtMVlJrgBzg40NI6iI4kFP/lYqgOCzw70zGhne2c62CzO3Hyneseun0s8aTjH+W36hEazBLa0JGIIqHs4zXnSUFCg5NPN2oKK1nXX+B53MVfd+OGIzbnIzosoVwL7aKE4vQ7PpZbNmoyyW6MQULb1MmDb5cwNEahyYDSWcKykIImEsoKSmG3SGgV8qRhCdU8JM+1UHu4G+Po8XMzG7pEmem6W99M26weaIYBxSi04zSprYxJo9AWwlDIk3S2G6PmEfmU0PZwO8bxs2lm3rdVAY0SWkUJhTRJJ4SyhNqehPaWYc0gdFVAP/+tX96+go5EoSShXYhCFRNKUWguobJGPu4lBoR2hiU0ThpJVniOH189476tCChKqFK0RVNKaEVrk3D5HGbyHIXKiKcjQk0+dfnCT+KlCvri2bNdx6CzemAEUByR77jShITSciU69kPCUBpOCrs4oIQSoYmTb9u4jUMrhHa7ARTXtsB36gSR0IoklLYQU+TjNWFp0yjUyBp5xxqaE3pEQstI0vEeGCNUV1h9of1sgdAgoUxoxxIK0QBPa7JCqOx218YwlCQ0EDp5464PKEgoz7FPJTQJQ22WJ/FwEudKLiP0xLc12dLcngygw06eAUUJbYlQklAkVDa7k0FPllAgtI3rk9qhnXA8od0kodsAGglNAEVCKwK0ISevrQCqkFAtw0lUuuedmmjOyIGT7y74JBZA8fK4hGJoljp5kVA4P5AX0CGh+VZNLabyvBNOK4lStplY6w73tJ1939YHlCUUXUYuoVqcPAXdRChJaEpotG7SyRdAZwI6TCgDGgglCaVpd0rWIAOhEoaGnXAgADgglGv26Oa70QPWj7/rdQENUSgIacU/IaCKCCUnLyuS2MlbIfQ0J18AnQvoEKFhOGmEUA+fzgmNSzzZyZtAaNjdIN1q5Lz7thiggVC6GiU0JzRIaCAUd1xWCaG0PMmFnXDmEloAndMD04RWlCS1eJA8LlgKiRLvhONlk1bQQc1+gFAjhHI0Grz86I3bClCpNGWARgltKQwVCbV05Ac7eZsS6ludE5q6+bM/iQXQFFD5ll4Nc0YCoZYIhXJoRxvEwMW4xlNnS+hk7nIkNFnk6cYHlDYGlOc0JYDSnNApQhUn9Ewo5Em11i5uhZMgOi6hBdBZPTBGaKdpShp7eZw1AlOX4awB1lCfJ2WrkK0Q2g0QigFo68KMn1FCNwM0nTHSPsoSJSZUN0iozLLXeOSs1Otp6rIKs+uhrbUU7G3ICo9UQwugJwHad/Jdq/kGCqHg5LHwCfNBPaHmkFB4IK5QCoiGRZ5xBQht13TJafLzWzp6FRvYIZqP5CzCgCdujaplNTKpquXd7sDJq5RQWlKQEJouADnzk1gAlctNE29WflXLLQuEWk0i6nN82siBECVCLZVDZXIoEmryJUqWRJQIHbl1GwJKOwCRhj4+tjmh6N4TJ69TQnnaSCAUl9DVKaER0fM+iQXQeHmQULiq+WeZXo+iSesfeQEIIoqpEkinICorQCKiHJWxn8df2hFEtwSU9q8IYShVLjhR0jgJlgjF4ihCG3YQMypbAMLrspJM6aiIFkBn9wCJaNP0r2p5JBBKiOJcXp6+TIhiqmQJUa3lJ0HUwOodvl/WhcOQBdFT7tvCgNLqa44/I6FUrsfhTiZUEE0INTz3LiDKv8QjvoY2c5jb0AJodvlQRPGqDtDCChA4Y0EQhVSJpzYBoomIMqKGGXWJiLKMgn+3Msn+ANErABoIfcRAFAklRIFQPEtCEMWpd9oGEY0le0Q0DHsebNl0iOi9AxqPQuSf4gPdyYAeiihdhc0IQ64E0gkRGvlxT6e/B0rx2uMW8WRHr0VFaRGy1ERtWiSMNy+/ddsCSotbwzYjJKJ07Aeuka9UFFEdRDQwSojyynmIRVlRk+0cckRnN/RyQF99cNXTjuNRiPxTfADspB6gO4UkNg19j1dx23a8iRCdkcHdoPsFd0EFRJFK+qJTSG0o2ydKmljNdvxdLw4ofygrTuJFRNGASUAUDuQhQ0TlFy2Mcnulbs8/MqP2vIZeDuiL6x7HHY+h4Z+Sc2m6cwBtmc5o8QLejjbwGSClGxQde06lDZKagJpQOgrqSbfteEuPXW0CowDnIzKaNbVSKZgpooIlx+LJr/zT2Q29GNCXf/OfbgnoV+8+E6MNI+JBXvxTfODYUYhHrRk0PWxmQXNH7aJ2ndpithxTNdIPS9uxt/zZZwMdGAF99Wf/9bouPh6FyD9lZyOep6DbXF3oT3ezW7qDN3vRCw8DcERBX7x95Rh0QkHBTuqBba8WQE984WEApgF9+bd+uT2gL99MXPwaMeg2VwugJ77wMBrTgNJZnesfyJ0C+uoDUO2v3qXPRTwKkX+KD4Cd1APbXi2AnvjCw2jsr8wEaD5/G1c8g4WjEBepg254tQB64gsPo7FPQF+83n0+a9vHk3pg26sF0BNfePgOHwV0E8ti0OdI5wtW0Gk7qQe2vVoAPfGFh+/wDgH1QWj3fJP9Iort33YIaLFi0QqgxXZt+wP0q3fXL2sVuxnbH6BYfN2gclDsJmyHgHp7vs2mesX2b/sE1NvzLY6/KbZ72yegz7c5nqnY/m2HgJ7i3z+9e3t6Lc1tf4DKNJFZdu1OXd+eXktz2x+gJ9m1O3V9e3otzW1ngHr5lFUfs4LQa3fq+vb0WprbzgA91a7dqevb02tpbkcAfTFXyi6zAuioPb2W5nYE0A0O8QI7e6jz2p26vj29luY2DeirP9tmPOfsoc5rd+r69vRamttnnw2sVQ6AYsJyhVWds0uhK/bXz9743R9/+umP3gD71qe/+If4K9nP/84bv/Php/zYz3//x1N/5lJbvaXUzrxNZD//ex+Gb/j4J9/1PbGaDd/haQV9+db3N1HRs4c61+uuT3/2e+EnuDXf+vRH8sAv/vB7n/4oPvajP1jxXWwAKDar1ya8gMTSN3n8BzsDlFDZ/jDZ2UOd63VXBBTu3S/+0YciKJ+iZvoH5DH4vp6t3lJqZ69N3n7w2/8efqBv8ngBtNvNUGcAFJQD758HFY3VJjy25l3bWEGzdiYuXh7fG6Cw9vfVf9q2zLSXoU4BFO+X9/LxxnGgFh5b1cev3lJuZ69NYAmg8vjeAL3GaccnrXNer7sCoHBvcgX9+d/93qc/+50Pw2P3AGi/TfjY/hV0K9uzgv4A8MtiUJaT8Ng9ANpvE1gC6K5j0A0sr4POWhFPtl53CaCf/GvQk0+++wcxi2e1CY/dQwzabxM+FgGVxwugcYvQnZSZ2OFxzZNu2c/eeOO3vxdqhneRxedtonYe1EELoCfbet2V1EET+8sBFu+iDtqzoXaCFUBPtPW6S0ZYMvvk3x3+f3cykpTZUDvh4d2NJG1le3TxO7Gn19Lc9gco2Vd/dO2x+J3Y02tpbnsFNOwPOm3X7tT17em1NLf9AlpcPNrTa2luuwX0edkflH6a3dIdvNmLXnj4Du8PUE6S5o2wntQD214tgJ74wsN3eH+AnmQn9cC2VwugJ77w8B0ugK51tQB64gsP3+EdAkpr4+dNWD6pB7a9WgA98YWH7/ARQF99sPl0OzhE4cXXPnrx+pwnntQD214tgJ74wsN3+Aigz9+bWZC8zHrT7V59kB5DI+fKlXOSdv9mL3rhYTSmAf3qn2yzCWIPUFgaHwD94p1vIqALnRe/2dUC6IkvPIzGZ5+pQ0vO6vzPV5hR//bn/jWfs4v/+Bt/TQpazurc/5u96IWH0ZhW0JdvvgcHyi6M46H1D5N9Pa3TM47Lnxc/YL2D2uul//6tmMp/NZO/rtpLRwD1cM6ctnGRTZaZGNA1z4t38qt12VV7wV++aQV1k7/W+a8m/7XXaevGoP9sP4CueV587bjPCdAHuerqgafM/Ms3Dah9yH7dLaCQxW/u4vv25foxqKtr6nTr4F7UcnvcpITeH6CBvPpWAJ1dMb/M5gC65nnxNRAK3V5bEM3a8f2pJyX0DgEVLuscyV437AjQjewooCufF2+FUOcltG7r+oHu1FMDNDS3ztttcl57+D51QKfspB4Yv2qtRUJr5b878PhEqKnrCULvD9BaJFTjD9Hj9wS1ADrXTuqB8asWCHUEKHx3fKfqSQm9Q0CluQRo4HDa4/ci1AJoYif1wPhVx4S6GqTUWRBTlJCnBqhIKAH6EDz+NKA5kgXQxE7qgfGrRghVkCU5Z5hQU0/5+HsElNnT2OxQFT4CaP5rATSxk3pg/KpDQNG9g4QaIbSelNB7BJQlVDv4Hqqh1AmhJ/qA5kFoATSxk3pg/Ko1QihKqAcUAtKHB0ydHqafe9ELH786v6ULAGrlA0mAuggo1uDa8Gv23ALouJ3UA+NXLRPqlI8/E0IxGB2V0LsElD6QDxiE+s6gqw59fOCwNyDcA1TnhBZAFwLUAKHK+/jaGUM5PaVMoxJ6h4Ba/kBaDEKdSKghQOWj6gqgc+2kHhi/iuoJhDaeUC+hxmC1qebq6Fl/+RYBDfULiz4+jKgZVwA9z07qgfGrCiTUEaAQh/kkCQklRRmT0PsDVImEOgGUmGRAhTxHMxbkuQXQcTupB8avKpBQDEOV59LTaWxNKT36+BEJvT9AjXwgawTUSHhjMC2yAmIPUJULagE0sZN6YPyqVgZSeMySgMvaR6GGCJ2Q0LsElCQUAK0h9EwBdSOA6gLoqJ3UA+NXtbJMqFU0oiQS6sJEp1P/8i0CCnE4fiDBxdcPdQJonQGaVZ10PpS0JaAvcBea7Q/ymm0n9cD4Va2tBkI9nyChKaGUzw9K6P0BakRCnX7w7j2UMCym8UayJAZUCL0ioGBbLzs+yU7qgfGrVltDEgpZkv/m41C4KejjRyX0jgE12vuOh9pEQOu9ArrFio/zAV3ILPh4lFAE1BKhNPRZo5d/uPI73MagD4hQABQ/o9hw5wNyvEr/m+8W/7WWxXIe0PSP6Oy3S+2zz6pDSwGdt8PHhXZtBdUioRpiUJBQ5+UCJdSNR6H3p6AuSKjGVhsuNDmsMxkJQjUl9SMK6jZV0E0EdCeA8lgSAOpAPGp09iKhp/7lWwTUIqAOXDxEoAAoTQzFND4AWucu3uZI2k0B3SICvT6glfh4zOKtBsUwNZbsa5rCPCSh9weoEh9v0Me7HNBagtCKyky7APT52+eyc4pdHVCNgPq7owlQkFAg1OHg34iE3h+gOFgBEqoIUPHxMP3QZYA6nJtHz70moK/+bAsPvwNALRSaooR62TQgnIZ8/LCE3iGgDiXU+RAUglAKdB4wfx8A1AZAs7HOTQHdJgS9OqBGGwRUBUA1SCisTkI4hyX0/gClVBEnHGKW5BJA610CupFdG1CHPp4k1ANKmTxKKPv4QQm9V0BBQj2gHIQ6AtQjCRMR8X9zCKiLLt6kTBZAEzupB8avKvHxGseSFCT1AKielND7A9RpdCK1b7iGJmPsibNGDG4XEAGtC6Cz7KQeGL/qASUf779CpV7h5CYTALWDEnp/gCpNQaiFGLSm9a05oNgHPUBhIkPypwqgiZ3UA+NXdaXAx1ujAVDjlFdSTytOmZBE/nBE/h4BDT4eAZUgFFcRRkBrBNSHoERoAXTcTuqB8asAKPp43eB0EQDUIaEM6ODU+jsG1AKgNvh4Q99hFiL8b5YBrVNAtfypHqC9fUfG39fwHS6Agmnx8QQoRJ8zJPT+APWfUwxCHaxJqmMQamC2CJbdEEmre4Aqm+6xms8WKYAuAagGQP2t0U308e4Q0HrguRe98PGr81u6AKBGJDQASkFojXUmJ1mSAGoFUFcAHbHZXT99VbGP9zcGp4sgoBaUlCQkOPkT/vItAqp6gD4glOjbU0A1DLXBfkEF0GM2u+unr1oAlMJQBNTAcCdKKBXrrRvy8XcPqKGZXASoY5ff4ipkBLQugB6z2V1/5MYAoJDCE6AGJFQnEmoHJfQOAYVuyAG1xOUAoFYAdQSoZEkF0MRmd/2RG6O9fhrLgKKEahhNMiiejuh8AoBipAOEGm0Q0IcAKMbhpsY0Hva1cO2D1Jl8H7X2yQIaNlT+1Ttg7+P3by68R70HlHy8ChIKP1hDs+tJQg8WJ909oOzjPaZcZzKUxuPGKweAio9/WoDmB8vBGTQfv59cnt3101cr9vFePJsAqKRJtGXogITeJaAOfbxP56EELD5eAOUsKQBK3QHO5skCmh3qAcfP/Oa//TC5PLvrp682CCgOJpGPx0oo7zfibM1Lk9y9A6oUA9oYADT4eIuFUCNBaADUDgGq7YaAvnzzyqd8ZMcigZR6lw+Ovlv0pDlUUPTx5OKDhBKglgBFCVnoFfdpSrGPD4BShAP7WNDqLA9o19Uw0aurH3zgA88yMFukc3JKn++39G+6g1c5yaYBhemgL6667Dg9WA6/f/nHqYrO1obpq15BtRFAMfaEQhP4evLxNqzuTIPQe1RQBlQzoLiZBSuo05gl1Tjx3iuoeeBCqMGxzrALs8oV1E1L6GUKikchbnDi8TwF/SIcPxPi0NldP321qTQFoQQorP9QTgAFfYiA1v3nXvTCx692s1u6BKAShDKg4uMBUAsz8ARQTYBSlrQyoM2h7UhB0xj04+/Io2sBCrV6jUs8bfTxICImEjr3L98uoDYF1I0B6sYAdRsqKJw0t8WyzqksPhwsR44dZPQ3/33hMlPTZEGoRh9veDyefLyrD3z8HQKqKhpMAkANLYyHj2YCKPCGS5Wc6wPKhdAtAX351ve7zzfIko7WQfGkOfL0v3rnnW/8UK7O7vrpqw0HoeTjYUI9+XhLQajjPKm3I/g9A6ozQMGHWNrNAdJ4zJiOAKrkL68KKKyKv/ppx1M2u+unrzbg41UKKPh4BJSGk+gkup6Pvz9ADRBqNAJqKI2HeQm4ky8sBKHdRtqKAIXt7xhQD60VQOsNAd2Bgk7b7K6fvsqAKh0V1PKkUEyRnLWyNinx8fcIKAehOgShVF3iNB6DUBsBpTTeA6oAUP7oEqDBza8bg37+7Nlre948bHbXT19tKEtiQCmNtwc+vu75+PsD1GaADgehqKAQk2vv4y34eAZUsqRNAd3Irg2oaqpKVwYXJtGAEu7SJD6eJbRmm/eXbxFQyhUxh08BpTTeTQPqCqADNrvrp68qCUIFUFBSItSEAXlX93z8PQIKWRIsfiFAAUgkNACKyz4ioJglQR8VQIdtdtdPX1VDQWgE1FgJQrOFH/cHaCWAYp2pxvF32saXXTxlSRUOJbkUUFjHlAMqWVLv1K/x9zV8hwugYLoP6LSPf5jzl28RUIWAUhDquyIGodakabwA6tP4QUBhOlMBFG12109fZUCNAAobjCChNpFQ25fQOwTUN72yCvUTAcWgM9SZVAS0zgCllaAZoMHHF0AXAzSk8Sbz8cYioHUC6MOMv3zTgFoCFHcKNXykmcU0PgcU60wEqPf/VAgtgCY2u+uP3JimMezjFQEafTycJ2DEid07oDTvkAHFDVIFUHAhnCUxoNZxGl8AHbfZXX/kxjSqSQDVI4AGCX14WOiFj1+d39JlAOUgFNJ4KMqHLIkBRQmtsFKfAWpguxEGVNsCqNjsrp++WjGgRgDVQiiW6ilNcn0ff3+AGsySwMcjoMHHW56IwEcrWB5KYkCNAEooEqB1ARRsdtdPX60oCPWE0qoPjEUzQIOEulisvz9AdQaoRi5ZQmHhi+IgNAG0TgDlQqjLAe0KoHO6fvpqH9CKfLzhLInSJJds4IASepeAGgKUsqTaSakeAbV9QCmN7wFq6gJosNldf+SqjlmSAKpiEIqjSfbAx98noLrSEVAKQvFkSAYUfrU4lGRHALUF0OVNxSC0sTjoiVkB+niYfiYSGnz8w10ePac4jXdYB9VYnccDzSwfTyOA0koDrDN1NQLaQZED/wgA2nW1VfxHnbnkLd04oLO14chVBhTWfTSUJeEoJx7rhT6eJNTZdDTp/hTUUBpPQSh0gfh4K5V6/HxaLoTydBHYl7qGecq5gvJQUjc9GH/nCjq7649crXqAVrjLSAQUElo8bDYC+nDvgGIaz9uJUBBqFdeZLFfqc0C5zkSAtvUmgF59XfwRm931R64SoDDlzgNqCVAnc0J7Pj5EofcJKGZJigA1uOT4GKCweksdAspB6KqAfvXue1de1XnEZnf9kasAKKhGZZQAChIK+4gRoA4PYUsltH64P0A1pfHafy4DoM7QFqm4wQoFoZYApcFOBtReBVBcF/8E1iS1bROG4wFQpSOgfR8fJfT+AFUMKPp4cPEAoqHd0xBQx4BqOQka0niHxTkjlfqlAX08tCcIaMySGpUAGoNQTGQZ0BCFLvDCx67Ob+kSgCqsM0mWRAd+aJBQi7DW5ONzQNtpQO3qUEii8QAAG35JREFULn6DRUl7AbRiQMXHqxiEGvbx/QH5S1/42NX5LV0GUMiSdADU5IBaATRW6mHbMDxD8iqAQpL0tzc4T/b6gFYpoCEIVZWsnBuU0CVe+NjV+S1dIgYNWRKm8QYXc2rcBj1XUAaU6kwBUKrUQwG53QpQb9fdm+mIze76Y1cpS4I0HgEdCEJNAHSmhN4goFUOKPt4TOMpHoVCqMOhJFLQHFC7OaC4N9Pr59Iz364PKGRJMNiJdSZNgMJ4JwOqUUIZUDtPQm8RUEWA+jS+CfOZENAaZ8twpd5Z2luE03gB1JKL1wiolkq9nZ7OdKGCfv7synszHbHZXX/0qgdUR0BxtFPZhrOk4ONdPi10iRc+cnV+S5cE1KoAKPj4mgB17OMd1ZkyQA0CCnWmTQHdyHYBKAahlQSh6OMbFSY0DUno/QEK02XyOhNMUx4D1KWAOhcA1QVQsdldf/RqD1D28comQWgANORJk4TeIKCYw1sT60y02hgHPHFkraYgNAW0BkDx+HJO4/FEtFbLWGdXAJ3T9UevZoBiEKoSQKlWT2uP7f0CGny8pPGYGdYEqBVA6zpXUFsAHbX5XX/sagVZEqTxcFznMKA82JlI6P0BWkmWJICCj8eVH7ifWlBQrtRjncm6YUApjS+ALgNoyJJ0g2sU6WgvGFViQG3w8fYpAApTQlE/ob5phgGl3UUIUFpFByw+IKBGF0C7hQHFwU4CVFOW5AVUp5XQ4OPtDEJvGlAtaTwDSkGo45XHAiiPJUVAgckHHEoqgKLN7/qjV0MQ2sD+brDwQSWAJj5+roTeJKCaZoSGOpNJAK1DEOpCDCqAKtw2IAG0fSqAhqMQ5QzE+EC3FqAVAarzINRmgLp7BPSRAYWGNzr4eByNTwGtM0C1g1jIwgnRwKJ7UoAmRyHS0R752Yizu376atUCoJglAaCwNZOns8Ig1ANahUKTCXn8fQLaSp2JsyRneHMqBhR2XeTdxOpQqVcJoHoI0KmxzlsHNB5Dw6d3ZWcjLg2obgRQLduFYtfTJmJhcfw8Cb1BQKtksBN2UksAdaZGJy5BaAJojYByhTgFFOtMdw5oPMiLz0CMDyx5FKL/jwDVCGgShNoQhNrg41MJXegd7MMowOE0ngDFedo1AVonWZKNdaYM0K5ztKxTy7pOe9Gyzr0DGo9C5DMQ07MRl1VQf1OaHFDapAmOj88LTYmE3pmCRkA1rUvChQS2MjBhBH08bucQK/UaxpKccQAoF0JJQWup1D8ZBUX7+P38gdldf+Qq+XgBVHy8AIoSqhFQ05fQC1/46NVudkuXAPQRAVURUPLxCaAOBz5tmiXBw4o3r3K09c3TATQPOT2gq8SgIQhFQHUElLIk9vE6BKGzJPQGAfUSKmk8bl6BgBo8cA8ANbUEoUmlHgHFU/m4zoRbXmwH6Muvf7T+iYhzjkLkMxCTsxG7Bc/qbHNADZ6IGLIkmwahmY+fmLR8g4BWAKiuBFCaLoK7VPUBrewRQI1U6lcG9HNYF//qg/fWnbc86yhEPgNxjTpoBLRBQKvEx8PE+srhvtgRUHefCqogjdeoopYBxfgbi2w1Zkk+d7L9NF7TYHwOqNSZuulzPi4E9Plrf+EVFFZ9oJKuZdceSWo4SxoH1HChCXdsynz8RS98/Or8li4CaJVMqk8ArQyvnDOw6mMQ0Bo7JQJaLwXoTw6t7+JXX318bUCrXhrfB9TfgqQSmqdJoxJ6o4BKltSkQSgA6gRQl1bqIY0PgPpu0q1bGNAZMejqZ8peHdCmjYD6W1PBylsMQhsKQtnHm56E3hugQGgKqEy5c5YAhb3qs6EkFwCNlXoA1aMZYtDpPZYXAfT+FRR8PBzJzYBGCW1CEOqsHvTx9wRoFQFVKaCWAJUglGaLRB+vuRCaAuoMDyVtAejdx6BVP40/CEI13hLHgM6S0JsFlNL4JmZJWL9QKKERUNsHtE4BtZsC+uqDt6+WxU/b7K4/crXqA6povkgKqGwF3gN0tNB0g4A2DKhOAMWJsLSslUr19QGgdQKoZUDtloBesQ56xGZ3/ZGrVUjjCVBFQahqEFCe7TgWhI4QeqOAUp1eRuOzINTauoKlm5AP1SmglgClOlMAlCr1awO6ie0GUJwSyoCSj1dBQiEINSf4+BsHVBlZ2UmA4oFe6OMlSwpL451OAcWdRP1TCqDdkvuDtjFLamCLon6WNB6EPoxI6A0CWjVJlmTozE5e2snb2OaAyiahg4D6dL8AOrvrj1zN0ngEtEoBFR+fBaEurPy4S0A1K6jlIBTPUhBA+2m8cbFST4C2lguhugA6p+uPXO0BGnw8BaFcq0+DUJm8M5Em3SCgbZPVmWDOMgKK00UIUCKUViXlgLqajuoRQE0BdMnd7cYBNWEwyejMx7vpNOkGAa0kja8wjfeAGglCDW3SH3w8LEI2KaA1pfF0nhJGrQXQpQFtlQAqPh4m1ZsooTTFnHy8vV9AFQPqsiAUT1RIAOUglADFGpQAisPBEdDJsc4C6HxAWyj9QZ0JAFVVTONpUiiWQkMQmvr4YUJvENBG0nhYHt/0glA4KWoA0NpVCGgohKaAqgLoUoCGNJ52v8HjgqwAmvh4ikJZPycl9BYBRQlNAFU9QNnFQziqQ5ZUmYcUUFcAXcGqxn8JgKoE0AZ8vAFBlVJ9LqEE6H0snhsANAlCa/Hx+sGTieASoPWDMxR8RkBrEFpcNqcvOgzxxgGdrQ3HrsY0HgCNPh7OP8ZlOSShIQh1uY8fqjTdoIKSj4cyvf/qAaUg1AZA2cfrmg6miYBWfKZ8BmiNCtrpp6yg87v+2FVK4ylLSgG1PUDpboUcacLH3yCgFQOKabwHNA1CCVDYvLefJUVAQ50Jcny4XACd2/VHr6ZpfD8INbA6vqIdDKwZlNABQm8YUEzjYbzCwEa+oVSPoWUEVEsaD1lSH1AKQhUcDlYAXeK+MaCK6kwAqEoBVbR2joNQltB7BPSRg1CYFmtgvogJCpr4eDqhG4NQTuOdBKEos7oASja7649ehTQ+KYTidAkBFBy7Fh/PaZKzx5z8DQKapfEAqIpBqEl8PA4lJVkSKqgAWiWAWlgmvy6gPFF51fnK+wK0qhqqhKaAYijKQajNffzYoUm3CqjKAUUf70xlsRiP6z4oS9JplmRwgBO7gwGt3SaAfk7HcX++7qncOwE0pPGPtPQWd2aqtBYfH4NQkdDUx/cJvUVAKQgFQBusM1GhCZosgOLevTBlmU4/yQGtEwVNAJ0a67wQUFp2LN9Wsx0AGtN4BLQJgFqSUMyZbOLjbaj6jUjoDQLaREA1pvFGpYAigCShDre09cweAOoYUIOF0AUA/b+H9hRdfEzjAVDcm2jEx4d9GK3EoPcGqIYkibKkEIQioOTjHQWhsE6esiQA1AehqgeoxULougr69ADFNL4HKG7WBD5eKqHp0qRRQm8QUJgp0qgeoDoHlHx8jXOWOAhlQG2o1OMxCg6PR2472E/slJbmVgAVS9P4R1g/B069sgwo+XgDFRZrQpp0d4A2DR77HAE1Sobj6bRnLICOAVqHIYy6AEo2u+uPX0VAK0rjH6tYaKIz52B3jRCEulAKFR8/tDbpJgEFHw/5UUjjYYs/HI6vBNDa0i625OMdAur/B03TQB3PeaKFdjUAqgugS9y3BNCGfHxFQ0gNn5lU0cKPzMdjlel+AAUfnwJKPt6Jj2cnbnHlsQShlCUxoIbSeAQU0/gC6GKAwh6hDax0QEAr8PFpEEo+XpOPd3OC0BsE9CdVWmciQF0ahNJ0ZEM+PgBaA6BWsiSsM+Fo/CaAbmL7ALSCXe4YUAlCde7j6UhVG0aTUE5ipem8F568Or+lCwGqckBN2L/BiYTCYc8ay/VUaOoBqhFQQ3WmAuiigIKENpIlJUEozLkLPt7GNInXJg37+BsEtKIsiQuh4EIkjw+A0oT5gyDUYA0Og1AB1GdJUAgtgC4GaCOAVhCCRUAbnQGqwxoyOrozRqG5j79hQCmNb/AwGu/jqRLqoo8HQCvMl8jHDwKKUsuAjo913jygcUPlL78Nx9DIgXNks7t+xtUc0CpUQmFlJ45IV5qC0CihyazQQwm9RUB/IllSAqiSOaGWDz+GIBQBDUFo5R4MVuYjoBQN1bBM/q4BjQfLwdEecBQNHTjHNrvrZ1xlQNMgNACqUEI1BaF8rID4+FRCz3rhyavzW7pMFp+m8Rp3b0h9vGFALWTuVny8BxTCUe2ozqQZUDxbSXlXfwmg+7A5p3x8AZh+/D4fOMc2v+tnXI1pPGQIeNYcTqv3upkHoTRrhI4XyMY7Mx9/04AqAtSGPN5UAVAsdKKLdz1AVf3kAM2PRfI/8YFz3aInzZFVsGqsY0DRxxsClPZh1Ia3wEEf70IeLxJ6DwfP0RbgEdDo46nJdO4cZ0k4MA9znBwACkEoA1pRH1kCtHMXrZrbhc05aa6jM2n4wDm+PF8bZlyFOlPrvZs+CEIplSdATfDxtFA8l9CzXnjqaje7pYso6E9wMInrTBrn24UgFPdjIkBBHhNAKUsytCiZAa0ZUP/QU1HQX//Jd/jREIfO7/oZVyVLIkBDEAq7FIGPx03r4WBEklAjTj6V0FsHtK0I0IoKoc4H3dAHEoSKhBKgD3UMQhFQ7VJADW7xAIDqOwY0OVjuy2+H9Gh1QHUIQqlUD5UWWJuk+dg5PrzTCaBDefyNAlo1XGryPzlNtXoJQg2d2EW7iMHGtTEIBXQ5SyJAMZ/0gHb3DWg8WI755APn+PIJXX/8agIoS6hkSbgtduLjNadJLq+F3gugnCXhPpRZEMqrCQhQklAq1Qugqs4BNXcPaDxpDuqfkB7xgXNkJ3T9jKuYxrdNVgml1fFw+LEmH49HqhmS0OjjB4LQmwVUxTTeEaBcaNJwoIKmU6N08PE4W8QZPGwuBxTS+LsHdNpO6PoZVwXQSoLQCgHFwXgrPl5hmsTrk6yV5Z31gY+/SUBpznIENPXxKInQZs1BKKVJNQPqyMf7viBAKUtCQCfGOgugpwAK+YEHFI5EfMRlORKEwmq6UGgSCc18/KGE3iygcbxTk48XQElCYxDKPr4HKBRC4aQkK3UmKISe0NI92l4AbRpclkNzQmMQGiSUfLyWggsntZmExlr9rQIasqSmshmg6DUwPxQfX0sQWkGhvk4AFScjdaYTWrpH2xWg6gDQKvHxBKiLgLpkOCnz8TcOqNdPD6iDUr0JEsqFJu/jrQ4SWvMSzyChEITivEQAtC6Azuz641d9Gg/hF5yXVKGPx73AYSKoxjtEPl4FCTWOjueOTj6V0NsFFEfiqVSveTw+9/EIaCUSOgio5qmjtlYF0MXuW0WAZkGolxGSUI07iOlcQq3s4XA4sf42AW0zQPs+ng9GxIWb2FgrQaiBynwGaGsLoKsACptkJj6+akBC2cdXhpYf83inyRL53l6htwtoyJJgtDP6eJv4eMcSqmHcEwGtsUCMaTwB6mjQqcSgywIK/4CENLSTrSIJxd0byMfD2k48doV8vBVCDyT09gFtQEJhjqGOEkonKtBWavhxRB/vcK4Tpk5SZ3KcJdFY5wkt3aPtBlBJ43HacghC+z4+lVDmUwitI6E3CyhmSZUAmvj4REIR0IroxCCUO0TjYGdF6w4QUFcAndv1x69SlsSAPvJgUqVFQi37+ERCTU9C6+jkbxRQrAY3OKked1KLPt7oOEdGoSPHI+TJx9ckoRSEEqC4SzhuIFoAXei+CaA4oUl8PK7tFB9f8UZ3fQkN5yNGCb1hQBUBWhny8bDFXZBQIRQKoSihtFuTAEqDnclQkqvV1FhnAfSk+1ZlgLKCKpbQ4OONSKgdldCH2wdU0SL5xMdnEoonm7GEwvo5GFUzHIRqnrEMaTxt2lgAXea+MaBYq28qIrRSKvfx4uR5AbKs/EgltL5tQGVKqDZNDihHoQio0bTyGEpueAgfSShss4wlfhx3cgXQZQGFLIkAhTqTTiS0oVITThg5lFCXJ/IgobcKaNj/puI0SVEQmkehikY7eV49ZkkZoOLj6XIBdKH7VjGfONr3GADFbe7Yx+tEQg0vQB6S0IebBpSDUNheRccZTabSEoTCpBlN6+boAC8BFJd9VLQ6uwC6tDVNxz4eZ9VXdCaLwgXxDfn4cPoxSSh7vH4t9JbXz8UsSWGqGAB1UUK1TBiRLUPx6GMrB85VFIjCBeqWG181txsF5emgSiYto4Q2JKFNKqGGJdQOSGhaa7r4bc1v6ZIKGgBFCVVhMMmYIKEwXYk3wEEJ7QOqtRVA66eroCd2/fGrRKaSwU4GtGIJRUDFyYuEZnmSc71y/aVva35LFwYU0yTYg9E33vEuYjZIKIfdmMiThJqq7isorzxGQO3slu7RdgWo/6+lDXAaGktqOAplH0+HfiQS6oztSejo+Z2nv635LV0MUNrHlgGNEgoKik6efTwUMVhCAUkAFAlV/lcEFH18AXRhQHFNEgKqHxMfr2V5ZyKhsLWroSk+piehxwndNaDk46EUyhIKKwZpI0Zw8jzcWVmSUCiDwpx6klBYDALx50MMQtHFjxBaAD3xvoGPb9pDCdUxTTKJk0+L9SdJ6A0AClOWez6eJBRFVPGZh9hYBrSWY7k1SGiN+wByllQAXei+URCaA8pOHiUUZvKoMKsJJfQsQm8A0CihUALlUqiuWEIVtrjSDg9NwkITR6GqRkBRQmMaP0JoAfRUQHGuWUs7LWOliQGF+aCWK02KzqWRWmg64JkReqOAtnjOHG6Smkio4d1VOE+CSjx8RukoM4eFprqWWn3Fh9FA9sRpfAF0mfvW4JxllNDHTEKrIKEoJZQn4Zb1vSH5WYTuG9AQhCpYAYOVYKo0KXLyuED+J3hsqRBaI6GOJ4wgoDBpBCfa+8vtCKEF0DMAhVnLQOgj7oJDm4hVhiQUpvTg8LSJUWg27S7fCufitzW/pcsCWomPrzhNMmHDekNj8tYTWjGguErewwkSah80ACoSSmcku7YdTuQLoCcDSovj8ex0XJ0jhEYJhQE/OAMYZ/ToA0JFRCcldOeAPvKM7VxCkdCKJFSBhEIqn0moI0B5WC34eAR0UEILoOcA2pKTVyyhFW6xXPHMZa0s7ugAESmvn7Pp8qSc0Evf1vyWLgholFBclKW5FFoZmhZrKY+3SCgcMav5nBOQUO9TQEJhhhOdG08S2o4QWgA9+b7hso9cQhHIylQWqISR+IpuFK/wdEmi1Cd0TEL3DugjzRfJo1AhFJ08xOA/SSTUIqEsoTZIKO9cD2wOOfkC6DmAtpwnPeISXM2b4FQ0tz5oKBKqcXe33sS7dJXnyIjnzgFtZUaTIgmFbapwGzGj2cmHQxVolScRylOaHmoes8DFnTCYhHXQIQktgJ4OKG3DmEeh6OtMJFQlhFqTESqI2slq6L4BJQmtZEpThdO2mVCpNcmAZ8XrkGFyPUuoQwnFXXBIQsHF20EJLYCeft9AQpFQD6hCCUVDQqH+iRtmEqHo5ElEDwv2gdAhRPcOKEoopoYpoXiuFxPqeFpTJVs5VBB5gpAallDLU0nAx7cjhBZAzwQUkyUklNYmVUwoSiiOqFghFMpPfULDsDwRepgr7RxQcfJQZuJafaWMo+1seXK9YUSRUBiUr6DKhIQ6jed9oYTynFHU0ALoEvcN83hKlsjJI6JEKBT+BFEmlBA1mCqZ2YjuHdA2biLGw53k5BNCeV6T/9DinowOEYViPTj5ulaOJRSXfiqFcegBoTcPaDxpjn+KD3QrAUoZPI0pIaG8jUPDhPKYp0Z3D1EYIYoiakzm55Nx+TNP8pzf0oUBleEkProTnT0Um2hInlJ5ZrQSL89thURJa0QUlyDjUL0HGwk92tI92pyT5vin+ADYeV1/7CqMJeHyuQ4ltOK1D7xXE21OZEVEYUcYGpXWzhmxXESTxcinvq35LV0B0IZnNWEqT8NKnCtpGVPS+idGDpPHxsKIPK5QcoCopRC0xrKoomTySEv3aHNO+eCfkmM/urUAbXnWHdkjfq2q5PAkdOvk6DFnUqyaWg8gyskCIwp2ytvqZrd0aUDbinbBofXXSCczanD9hxyuQDpahSYbRBT7AIY+825wNJd0qqV7tDnnJPFP8YHFT5rrWzNgVW4qN3vM6pm2artmGzdyqOGxA6jEoc2Zdu02zrM5J83xT9nRc+sp6OVXF/rT3eyW7uDNXvTCqxJ2oZ2loGAn9cC2VwugJ77wqoRdaPuLQS+/WgA98YVXZuwim3PSHP8UHwA7qQe2vVoAPfGFVyXsQptz0tyGddBFrhZAT3zhdRG7zPY1krTM1QLoiS+8DErrWAF09Or8lu7gzV70wsugtI4VQEevzm/pDt7sRS+8DErr2Jq7211SzL9oIGDrF76pN7vMkzezAugCz72pN7vMkzezAugCz72pN7vMkzezAugCz72pN7vMkzez3eywXKzYkBVAi+3aCqDFdm0F0GK7tgJosV3bOoD+5q/e+cYPe7NL5tqX337nmz8977k4GXBoZsvc5/rXfuf9U557SUMvaOklDT2zpdeydQD9+H2Yhp+vsptpMCX6V+c99wu434Mr/GY+F177yz/+4QnPvaChF7T0koae29Jr2SqAwtTmLp3yfILhvP0//ekZz/34G38NUwOHZlfPfO4XcK8+fn/+cy9p6PktvaSh57b0arYKoF/+q/8Bni9fIzLTWFfOei709eD6lJnP5def/9xLGnpJSy9p6HktvZqtA+i334f+y1fZzTUKi856LnT94Aq/mc/taPXA/Ode1NALWnpJQ89r6dVsJQU988MNz/3jH3ZffPOnV1LQX//Jd7oTBPGShl7S0gUU9MSWXs3WiUH/I7b7rAiHP9Tnxa/nh2aS2/rM9oSQ8pKGXtLSSxp6XkuvZqtl8f7Dma+ym2msK+c991/+dHiF38zn0l075bkXNPSSll7S0DNbei1bB1AfXZ1by+y+eOfs0uKlddBfvQP2/gnPvaShF7T04jro6S29lpWRpGK7tgJosV1bAbTYrq0AWmzXVgAttmsrgBbbtRVAU/t//6t7+db3r/0uiiVWAE2swLk/K4AmVgDdnxVAo71889mztz2kL9/6C/zJf3mv61598OzZ1z6iq/B7sU2tAJoYKCgA+uZv/bJ78Qy+fO2jVx+83nUvfuuXqK4v3yyEbmwF0MQCoO8xi/6Xz0E9v3r3vZdf/+jab+9JWgE0MQEUxZK/vHiG9nb3/Nmz16/9Bp+gFUATGwTUe3q2r97FYLTYllYATWwI0M9fSzJ77+qv9+6ephVAEwP++oC++sBLqKcUY9FSh9rcCqCpPX/2eh9QLDOBin7+jL4X29QKoMV2bQXQYru2AmixXVsBtNiurQBabNdWAC22ayuAFtu1FUCL7doKoMV2bQXQYru2/w9M3+1/iqRK7AAAAABJRU5ErkJggg==" /><!-- --></p>
<h2 id="calculate-life-expectancy-mean-survival-for-each-patient">Calculate life expectancy (mean survival) for each patient</h2>
<p>The following sums over the distribution of survival on time to obtain the mean survival, which is the life expectancy.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x <span class="sc">*</span> times_vect)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>le_check <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(le_check <span class="sc">==</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(le,  <span class="fu">paste0</span>(<span class="st">&quot;Data/&quot;</span>, params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation_como, <span class="st">&quot;_le_pre_offset.Rds&quot;</span>))</span></code></pre></div>
<h2 id="offset-life-expectancy-to-allow-for-the-fact-that-the-le-in-wales-is-lower-than-the-who-levels">Offset life expectancy to allow for the fact that the LE in Wales is lower than the WHO levels</h2>
<p>The following corrects for the fact that the intercept-only life expectancy from the models in Wales are slightly lower than those in the WHO GBD life-expectancy tables. The Wales life expectancies are multiplied by between 1.07 and 1.02 depending on the age.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>who <span class="ot">&lt;-</span> who <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">who_ratio =</span> who_remain<span class="sc">/</span>expect_remain_years,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">who_le_ratio =</span> (who_remain<span class="sc">+</span>age)<span class="sc">/</span>(expect_remain_years <span class="sc">+</span> age))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(who<span class="sc">$</span>who_le_ratio)</span></code></pre></div>
<pre><code>## [1] 1.026913</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>){</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.07</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.06</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>){</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.03</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.01</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> le <span class="sc">*</span> who_offset</span></code></pre></div>
<h2 id="years-of-life-lost">Years of life lost</h2>
<p>The following calculates the years of life lost from the age, sex and comorbidity defined survival and the age and comorbidities at death from the ISS data.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>yll <span class="ot">&lt;-</span> le <span class="sc">-</span> age_smpls</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(age_smpls, yll, <span class="at">xlab =</span> <span class="st">&quot;Age (years)&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(yll, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlab =</span> <span class="st">&quot;Years of life lost&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Number of simulated patients&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="compare-yll-using-who-tables-and-comorbidity-based-assesment">Compare YLL using WHO tables and comorbidity-based assesment</h2>
<p>Among those over 50 for which both methods were used, the WHO tables based estimates of YLL, and our estimates which additionally accomodate comorbidity, yielded similar per capita YLL; the values were 11.8 and 9.14 respectively.</p>
<h2 id="yll-by-age-and-comorbidity">YLL by age and comorbidity</h2>
<p>The following shows the distribution of YLL by age, sex and comorbidity by age categories.</p>
<h3 id="table-yll-per-capita-by-comorbidity-count-and-age">Table YLL per capita by comorbidity count, and age</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>yll_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">yll =</span> yll) <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> <span class="fu">factor</span>(italy_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> <span class="fu">round</span>(age_smpls),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">age_cat =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>)))</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>yll_smry <span class="ot">&lt;-</span> yll_df <span class="sc">%&gt;%</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(comorbidity_count, age_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">yll =</span> <span class="fu">mean</span>(yll) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> comorbidity_count) <span class="sc">%&gt;%</span> </span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(age_cat, yll)</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;comorbidity_count&#39; (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(yll_smry)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Comorbidity count</th>
<th align="right">[ 50, 60)</th>
<th align="right">[ 60, 70)</th>
<th align="right">[ 70, 80)</th>
<th align="right">[ 80,110]</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">39.43</td>
<td align="right">24.91</td>
<td align="right">17.30</td>
<td align="right">8.31</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">34.86</td>
<td align="right">24.52</td>
<td align="right">16.19</td>
<td align="right">7.69</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">28.99</td>
<td align="right">21.28</td>
<td align="right">13.79</td>
<td align="right">6.68</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">25.58</td>
<td align="right">17.71</td>
<td align="right">11.83</td>
<td align="right">5.61</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">22.96</td>
<td align="right">15.00</td>
<td align="right">9.93</td>
<td align="right">5.01</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="right">17.62</td>
<td align="right">12.42</td>
<td align="right">8.22</td>
<td align="right">4.18</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="right">14.74</td>
<td align="right">9.77</td>
<td align="right">6.86</td>
<td align="right">3.52</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="right">10.11</td>
<td align="right">6.91</td>
<td align="right">5.16</td>
<td align="right">2.90</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="right">8.73</td>
<td align="right">6.42</td>
<td align="right">4.22</td>
<td align="right">2.28</td>
</tr>
<tr class="even">
<td align="left">9</td>
<td align="right">6.61</td>
<td align="right">2.94</td>
<td align="right">3.53</td>
<td align="right">1.91</td>
</tr>
<tr class="odd">
<td align="left">10</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">1.86</td>
</tr>
<tr class="even">
<td align="left">11</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">1.71</td>
</tr>
</tbody>
</table>
<h2 id="plot-distribution-of-years-of-life-lost-by-age-and-comrobidity-count">Plot distribution of years of life lost by age and comrobidity count</h2>
<p>Plot distributions of YLL overall, then stratified by age, with colour indicating the comorbidity count.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>plot1_yll <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(yll_df, <span class="fu">aes</span>(<span class="at">x =</span> yll,  <span class="at">fill =</span> comorbidity_count)) <span class="sc">+</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">&quot;Number of simulated patients&quot;</span>) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>plot1_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>plot2_yll <span class="ot">&lt;-</span> plot1_yll <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_cat) </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>plot2_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="crude-approach-to-obtain-95-credible-interval">Crude approach to obtain 95% credible interval</h2>
<p>The following approach uses empirical bootstrapping to calculate an uncertainty interval around the mean YLL. This</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, <span class="sc">~</span>  <span class="fu">mean</span>(<span class="fu">sample</span>(yll, <span class="dv">404</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(res, <span class="at">xlab =</span> <span class="st">&quot;Mean Years of Life Lost&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>est <span class="ot">&lt;-</span> <span class="fu">mean</span>(res) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>lci_uci <span class="ot">&lt;-</span> <span class="fu">quantile</span>(res, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">paste</span>(<span class="at">collapse =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>est</span></code></pre></div>
<pre><code>## [1] 9.1</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>lci_uci</span></code></pre></div>
<pre><code>## [1] &quot;8.6-9.7&quot;</code></pre>
<p>The mean and (95% credible interval) for the years of life lost using this approach was 9.1 (95% CI 8.6-9.7).</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="ot">&lt;-</span> <span class="fu">list</span>(est, lci_uci, mean_age_restricted, mean_age_whole,</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>               plot_ages1, plot_ages2, plot_ages3, plot_surv, plot1_yll, plot2_yll,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>               who, yll_df, yll_mean_who_restricted, yll_mean_who_whole, yll_smry)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mylist, <span class="fu">paste0</span>(<span class="st">&quot;Output_rmd/&quot;</span>, </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation_como, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sd_como_age,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;.Rds&quot;</span>))</span></code></pre></div>

</body>
</html>

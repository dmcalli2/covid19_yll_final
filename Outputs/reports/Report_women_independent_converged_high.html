<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="combine-component-models-to-estimate-years-of-life-lost">Combine component models to estimate Years of Life Lost</h1>
<p>David McAllister 17 December, 2020</p>
<h1 id="years-of-life-lost-for-women-assuming-age-and-comorbidity-are-independent-the-correlation-between-comorbidities-was-modelled-and-the-model-didwas-converged-">Years of Life Lost for women assuming age and comorbidity are independent. The correlation between comorbidities was modelled and the model did/was converged .</h1>
<p>This document combines the comorbidity, age and survival model outputs to estimate years of life lost. It can be rendered for men and women, and assuming that age and comorbidity are associated or independent. This particular report is for women and assumes that age and comorbidity are independent.</p>
<p>It also allows for sensitivity analyses on the correlation between comorbidities. This analysis is</p>
<p>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<h1 id="functions">Functions</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>SurvGomp <span class="ot">&lt;-</span> <span class="cf">function</span>(t, start, ...) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is a modified version of the summary function (survival part)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># from flexsurv::summary.flexsurvreg, only difference is triple colon as </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># workhorse function undereath (written in c++) is hidden from users</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  ret <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">-</span> flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(t, ...))<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(start, ...))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  ret[t<span class="sc">&lt;</span>start] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  ret</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> <span class="co"># example of this function</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> <span class="dv">41</span><span class="sc">:</span><span class="dv">130</span>, <span class="at">start =</span> <span class="dv">50</span>, <span class="at">shape =</span> <span class="fl">0.10345</span>, <span class="at">rate =</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">11.0345</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<h1 id="inputs-to-synthesis">Inputs to synthesis</h1>
<p>Read in simulated patients from comorbidity model, age-sex distribution from the Istituto Superiore di Sanità (ISS report), the WHO global burden of disease life tables and the age distributions from the age models.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;converged&quot;</span>)   italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesConverged.Rds&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;unconverged&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesUnconverged.Rds&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;maximal&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/highest_cor_como.Rds&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/independent_como.Rds&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(italy) <span class="ot">&lt;-</span> <span class="fu">str_to_lower</span>(<span class="fu">names</span>(italy))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>italy <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(italy)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>age_sex <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/age_distribution_italian_deaths.txt&quot;</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>) {</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_coef.csv&quot;</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_0_5.Rds&quot;</span>)}</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_1.Rds&quot;</span>)}</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_male.Rds&quot;</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_men.csv&quot;</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>) {</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_coef.csv&quot;</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_0_5.Rds&quot;</span>)}</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_1.Rds&quot;</span>)}</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_female.Rds&quot;</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_women.csv&quot;</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>my_vcov <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(my_vcov)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(my_vcov) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(my_vcov)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>my_coef_vect <span class="ot">&lt;-</span> my_coef[,<span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_coef_vect) <span class="ot">&lt;-</span> my_coef[,<span class="dv">1</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>my_coef <span class="ot">&lt;-</span> my_coef_vect</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(my_coef_vect)</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/who_mortality_table.txt&quot;</span>)</span></code></pre></div>
<h1 id="who-life-tables-based-yll">WHO life tables based YLL</h1>
<p>The following uses the proportions in each age who died and the WHO GBD 2010 life tables to estimate the YLL.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>age_sex <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>age_point) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(sex, n) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">age_bands</th>
<th align="right">men</th>
<th align="right">women</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30-39</td>
<td align="right">14</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">40-49</td>
<td align="right">49</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">50-59</td>
<td align="right">190</td>
<td align="right">53</td>
</tr>
<tr class="even">
<td align="left">60-69</td>
<td align="right">607</td>
<td align="right">154</td>
</tr>
<tr class="odd">
<td align="left">70-79</td>
<td align="right">1847</td>
<td align="right">556</td>
</tr>
<tr class="even">
<td align="left">80-89</td>
<td align="right">1808</td>
<td align="right">894</td>
</tr>
<tr class="odd">
<td align="left">90+</td>
<td align="right">274</td>
<td align="right">334</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>age_sex_whole <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>age_sex_restr <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex, age_point <span class="sc">&gt;=</span><span class="dv">50</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Mean age</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>mean_age_whole <span class="ot">&lt;-</span> age_sex_whole <span class="sc">%&gt;%</span> </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>mean_age_restricted <span class="ot">&lt;-</span> age_sex_restr <span class="sc">%&gt;%</span> </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="do">## estimate yll using WHO life expectancy and age distribution alone ----</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(map2italy) <span class="sc">%&gt;%</span> </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">expected_remain =</span> <span class="fu">mean</span>(expected_remain)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_whole <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_whole <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_restricted <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_restr <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<p>The mean age for the ISS deaths was 81.1 overall and 81.5 when people who died aged &lt;50 were excluded from the calculation.</p>
<p>The estimated years of life lost obtained by applying the age distributions from the ISS report to these tables was 12.2 per person using the whole cohort and 11.8 after excluding those aged under 50.</p>
<h1 id="combining-samples-from-survival-models-age-models-and-comorbidity-models">Combining samples from survival models, age models and comorbidity models</h1>
<p>The following combines 10,000 samples from survival models, age models and comorbidity models to estimate the age, sex and comorbidity specific life expectancy and subsequently years of life lost.</p>
<h2 id="age-distributions">Age distributions</h2>
<p>The following shows the modelled age-distribution of the ISS data (based on the published counts of patients in each age band). The grey bars are for the simulated data and the coloured bars are the original data (assuming a uniform distribution within each age-band).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Sum conditions to Calculate comorbidity count</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>italy_count <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(italy)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>age_tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">comorbidity_count =</span> italy_count, <span class="at">age =</span> age_smpls)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="do">## spread ages along range of possible values to allow comparison</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age_bands, age_point, n) <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age_bands) <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>()</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>data, <span class="sc">~</span> <span class="fu">rep</span>(.x<span class="sc">$</span>age_point, .x<span class="sc">$</span>n))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>age, <span class="sc">~</span> .x <span class="sc">+</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">4</span>, <span class="at">length.out =</span> <span class="fu">length</span>(.x)))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> iss <span class="sc">%&gt;%</span> </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age) <span class="sc">%&gt;%</span> </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(age)) </span></code></pre></div>
<pre><code>## Adding missing grouping variables: `age_bands`</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>plot_ages1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">data =</span> iss, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> age_bands), <span class="at">alpha =</span> <span class="fl">0.9</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plot_ages1</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Here the above histogram is broken down by the comorbidity count.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plot_ages2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>))) </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plot_ages2</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="comorbidity-counts">Comorbidity counts</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>como_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> italy_count) <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">length</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Percentage =</span> <span class="fu">round</span>(<span class="dv">100</span><span class="sc">*</span> N <span class="sc">/</span><span class="fu">sum</span>(N),<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(como_tbl)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Comorbidity count</th>
<th align="right">N</th>
<th align="right">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">110</td>
<td align="right">1.10</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1387</td>
<td align="right">13.87</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">2267</td>
<td align="right">22.67</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">2222</td>
<td align="right">22.22</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1747</td>
<td align="right">17.47</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">1165</td>
<td align="right">11.65</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">694</td>
<td align="right">6.94</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">294</td>
<td align="right">2.94</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">91</td>
<td align="right">0.91</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">22</td>
<td align="right">0.22</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">1</td>
<td align="right">0.01</td>
</tr>
</tbody>
</table>
<p>Here the above histogram is shown as small multiples having stratified by comorbidity count.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plot_ages3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> comorbidity_count) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Age (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Number of simulated patients (of 20,000)&quot;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>plot_ages3</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following is a check that the names of the comorbidities are the same in the samples from the survival models and comorbidity estimates. The comorbidity samples should have no differences (character 0) and the coefficients and variance-covariance matrix from the survival model shoudl be identical apart from the shape and rate parameters.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>name_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;copd&quot;</span>, <span class="st">&quot;demen&quot;</span>, <span class="st">&quot;diab&quot;</span>, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;h_fail&quot;</span>, <span class="st">&quot;hypert&quot;</span>, <span class="st">&quot;ihd&quot;</span>, <span class="st">&quot;renal&quot;</span>, <span class="st">&quot;liver&quot;</span>, <span class="st">&quot;stroke&quot;</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>name_cols_age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib:age&quot;</span>, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;cancer:age&quot;</span>, <span class="st">&quot;copd:age&quot;</span>, <span class="st">&quot;demen:age&quot;</span>, <span class="st">&quot;diab:age&quot;</span>, <span class="st">&quot;h_fail:age&quot;</span>, </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;hypert:age&quot;</span>, <span class="st">&quot;ihd:age&quot;</span>, <span class="st">&quot;renal:age&quot;</span>, <span class="st">&quot;liver:age&quot;</span>, <span class="st">&quot;stroke:age&quot;</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(italy), name_cols)</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">names</span>(my_coef), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(my_vcov), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<h2 id="design-matrix">Design matrix</h2>
<p>The following code multiplies the comorbidity samples, which is a prediction matrix by age to get age:comorbidity interactions</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>italy_ages <span class="ot">&lt;-</span> age_smpls <span class="sc">*</span> italy</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(italy_ages)</span></code></pre></div>
<pre><code>##          ihd atr_fib  h_fail  stroke  hypert    diab demen    copd  cancer   liver   renal
## [1,]  0.0000 72.7021  0.0000  0.0000 72.7021  0.0000     0  0.0000  0.0000 72.7021  0.0000
## [2,]  0.0000  0.0000 86.4479 86.4479 86.4479  0.0000     0  0.0000  0.0000  0.0000  0.0000
## [3,] 68.0758  0.0000 68.0758 68.0758  0.0000 68.0758     0 68.0758 68.0758  0.0000 68.0758
## [4,] 86.0029 86.0029  0.0000  0.0000  0.0000 86.0029     0 86.0029  0.0000  0.0000 86.0029
## [5,]  0.0000  0.0000  0.0000  0.0000 75.2458  0.0000     0  0.0000  0.0000  0.0000  0.0000
## [6,]  0.0000  0.0000  0.0000  0.0000 73.7530  0.0000     0  0.0000  0.0000 73.7530  0.0000</code></pre>
<h2 id="sampling-from-survival-model">Sampling from survival model</h2>
<p>THe following code samples from the survival model to obtain 10,000 samples of the coefficients.</p>
<p>Check data are correctly aligned then obtain 10,000 samples.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">names</span>(my_coef) <span class="sc">==</span> <span class="fu">colnames</span>(my_vcov))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>surv_smpls <span class="ot">&lt;-</span> mvtnorm<span class="sc">::</span><span class="fu">rmvnorm</span>(<span class="dv">10000</span>, my_coef, my_vcov)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> (<span class="fu">colMeans</span>(surv_smpls) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">apply</span>(surv_smpls, <span class="dv">2</span>, sd) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">tibble</span>(<span class="st">&quot;_&quot;</span> <span class="ot">=</span> <span class="fu">names</span>(a), <span class="st">&quot;est&quot;</span> <span class="ot">=</span> a, <span class="at">se =</span> b))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">_</th>
<th align="right">est</th>
<th align="right">se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">shape</td>
<td align="right">0.109</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">rate</td>
<td align="right">-12.263</td>
<td align="right">0.049</td>
</tr>
<tr class="odd">
<td align="left">atr_fib</td>
<td align="right">-0.108</td>
<td align="right">0.108</td>
</tr>
<tr class="even">
<td align="left">cancer</td>
<td align="right">2.345</td>
<td align="right">0.073</td>
</tr>
<tr class="odd">
<td align="left">copd</td>
<td align="right">2.733</td>
<td align="right">0.078</td>
</tr>
<tr class="even">
<td align="left">demen</td>
<td align="right">2.719</td>
<td align="right">0.123</td>
</tr>
<tr class="odd">
<td align="left">diab</td>
<td align="right">0.781</td>
<td align="right">0.074</td>
</tr>
<tr class="even">
<td align="left">h_fail</td>
<td align="right">1.296</td>
<td align="right">0.115</td>
</tr>
<tr class="odd">
<td align="left">hypert</td>
<td align="right">-0.412</td>
<td align="right">0.064</td>
</tr>
<tr class="even">
<td align="left">ihd</td>
<td align="right">0.861</td>
<td align="right">0.133</td>
</tr>
<tr class="odd">
<td align="left">renal</td>
<td align="right">0.364</td>
<td align="right">0.079</td>
</tr>
<tr class="even">
<td align="left">liver</td>
<td align="right">2.606</td>
<td align="right">0.194</td>
</tr>
<tr class="odd">
<td align="left">stroke</td>
<td align="right">0.704</td>
<td align="right">0.097</td>
</tr>
<tr class="even">
<td align="left">atr_fib:age</td>
<td align="right">0.005</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">cancer:age</td>
<td align="right">-0.026</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">copd:age</td>
<td align="right">-0.028</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">demen:age</td>
<td align="right">-0.022</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">diab:age</td>
<td align="right">-0.007</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">h_fail:age</td>
<td align="right">-0.011</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">hypert:age</td>
<td align="right">0.006</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">ihd:age</td>
<td align="right">-0.008</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">renal:age</td>
<td align="right">-0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">liver:age</td>
<td align="right">-0.028</td>
<td align="right">0.003</td>
</tr>
<tr class="even">
<td align="left">stroke:age</td>
<td align="right">-0.005</td>
<td align="right">0.001</td>
</tr>
</tbody>
</table>
<h2 id="estimating-the-linear-predictor-for-each-of-the-10000-iterations">Estimating the linear predictor for each of the 10,000 iterations</h2>
<p>Note that these multiplications are not matrix multiplications. They are element-wise multiplications of identically positioned elements in each matrix. Each part of the linear predictor is calculated separately, these are then summed to obtain the linear predictor based on the age and comorbidity distributions of the simulated patients.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="do">## shape parameter</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>shpe       <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;shape&quot;</span>]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Intercept (rate parameter)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>cept_lp    <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;rate&quot;</span>]</span></code></pre></div>
<p>The following shows the linear predictor for covariates without interactions by age. These are mostly positive, reflecting the fact that almost all of the comorbidites are associated with increased hazard rates for death.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="do">## This multiplies the covariate level (binary) with the simulated coefficeints</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> italy[,name_cols] <span class="sc">*</span> (surv_smpls[, name_cols])</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="do">## This adds these together to get the non-age dependent part of the linear predictor</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(non_age_lp)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(non_age_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following shows the linear predictor for covariates with interactions by age. All are negative, reflecting the fact that there is attenuation in the hazard ratios for the comorbid diseases with increasing age, as is common in chronic disease epidemiology.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Part of lp dependent on age</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ensure_matrices_match</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">paste0</span>(name_cols, <span class="st">&quot;:age&quot;</span>) <span class="sc">==</span> name_cols_age )</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Loop through the different age groups to get the part of the LP with age interactions</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>ages_lp <span class="ot">&lt;-</span>  <span class="fu">rowSums</span>(italy_ages[, name_cols]  <span class="sc">*</span> surv_smpls[, name_cols_age])</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(ages_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following sums the components of the linear predictor.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="do">## total lp</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>tot_lp <span class="ot">&lt;-</span> cept_lp <span class="sc">+</span> non_age_lp <span class="sc">+</span> ages_lp</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(tot_lp, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">12</span>, <span class="sc">-</span><span class="dv">5</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following transforms the linear predictor onto the rate scale.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>tot_rat <span class="ot">&lt;-</span> <span class="fu">exp</span>(tot_lp)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="dv">10000</span><span class="sc">*</span>tot_rat, <span class="at">breaks =</span> <span class="dv">500</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>), <span class="at">xlab =</span> <span class="st">&quot;Rate per 10,000 person-years&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="estimate-the-survival-at-each-time-point-3-monthly">Estimate the survival at each time-point (3-monthly)</h2>
<p>The following uses a function from the flexsurv package called by summary.flexsurv to obtain survival probabilities at each follow-up time. Where the time is before the patients age at baseline (in this case the age at death in the ISS data) the survival probability is by definition one.</p>
<p>In this function all notional patients have the same shape parameter, but have patient-specific rate parameters. This function is not vectorised with respect to the rate and shape parameters, but it is nonetheless very fast.</p>
<p>For one simulated patient in the “low” SD age group the rate and age variables are such that the function returns a missing value, this is the only sample that does so. Presumably there is a numerical reason in the internals of the function. Give a warning and drop from the summary function at the end. Return an error if there is more than one missing. Only occured in most recent set of simulated patients which is a fresh simulation.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>times_vect <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="fl">0.25</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>tot_surv <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>){</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> times_vect, <span class="at">start =</span> age_smpls[i], <span class="at">shape =</span> shpe[i], <span class="at">rate =</span> tot_rat[i],</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  tot_surv[i,] <span class="ot">&lt;-</span> <span class="fu">t</span>(a)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">is.na</span>(tot_surv), <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(tot_surv_na)</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">any</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">sum</span>(tot_surv_na)</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>) <span class="fu">warning</span>(<span class="fu">paste0</span>(<span class="st">&quot;The SurvGomp function returned NaN for &quot;</span>, tot_surv_na, <span class="st">&quot; simulated patients&quot;</span>))</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">5</span>) <span class="fu">stop</span>()</span></code></pre></div>
<h3 id="the-following-plots-show-the-survival-distribution-for-a-random-sample-of-3-notional-patients">The following plots show the survival distribution for a random sample of 3 notional patients.</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">1</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(times_vect, tot_surv[i,], <span class="at">xlab =</span> <span class="st">&quot;age&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;survival&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;Age &quot;</span>, age_smpls[i] <span class="sc">%&gt;%</span>  <span class="fu">round</span>(), <span class="st">&quot; years&quot;</span>))</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<h2 id="survival-distribution-for-all-patients-stratified-by-age-and-comorbidity-count">Survival distribution for all patients stratified by age and comorbidity count</h2>
<p>The following figures show this for all patients according to age, and comorbidity.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tot_surv)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(surv_all) <span class="ot">&lt;-</span> times_vect</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all[ , times_vect <span class="sc">%in%</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">120</span>, <span class="fl">2.5</span>)]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pt =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span>  surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> italy_count,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> age_smpls) <span class="sc">%&gt;%</span> </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="st">&quot;times&quot;</span>, <span class="st">&quot;survival&quot;</span>, <span class="sc">-</span>pt, <span class="sc">-</span>comorbidity_count, <span class="sc">-</span>age) <span class="sc">%&gt;%</span> </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">times =</span> <span class="fu">as.integer</span>(times),</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">comorbidity_count =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(pt, times)</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&lt;=</span> times, times <span class="sc">&lt;=</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_bands =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>))) </span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>plot_surv <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(surv_all, <span class="fu">aes</span>(<span class="at">x =</span> times, <span class="at">y =</span> survival, <span class="at">colour =</span> comorbidity_count, <span class="at">group =</span> pt)) <span class="sc">+</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_bands)</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>plot_surv</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="calculate-life-expectancy-mean-survival-for-each-patient">Calculate life expectancy (mean survival) for each patient</h2>
<p>The following sums over the distribution of survival on time to obtain the mean survival, which is the life expectancy.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x <span class="sc">*</span> times_vect)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>le_check <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(le_check <span class="sc">==</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(le,  <span class="fu">paste0</span>(<span class="st">&quot;Data/&quot;</span>, params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation_como, <span class="st">&quot;_le_pre_offset.Rds&quot;</span>))</span></code></pre></div>
<h2 id="offset-life-expectancy-to-allow-for-the-fact-that-the-le-in-wales-is-lower-than-the-who-levels">Offset life expectancy to allow for the fact that the LE in Wales is lower than the WHO levels</h2>
<p>The following corrects for the fact that the intercept-only life expectancy from the models in Wales are slightly lower than those in the WHO GBD life-expectancy tables. The Wales life expectancies are multiplied by between 1.07 and 1.02 depending on the age.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>who <span class="ot">&lt;-</span> who <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">who_ratio =</span> who_remain<span class="sc">/</span>expect_remain_years,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">who_le_ratio =</span> (who_remain<span class="sc">+</span>age)<span class="sc">/</span>(expect_remain_years <span class="sc">+</span> age))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(who<span class="sc">$</span>who_le_ratio)</span></code></pre></div>
<pre><code>## [1] 1.026913</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>){</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.07</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.06</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>){</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.03</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.01</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> le <span class="sc">*</span> who_offset</span></code></pre></div>
<h2 id="years-of-life-lost">Years of life lost</h2>
<p>The following calculates the years of life lost from the age, sex and comorbidity defined survival and the age and comorbidities at death from the ISS data.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>yll <span class="ot">&lt;-</span> le <span class="sc">-</span> age_smpls</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(age_smpls, yll, <span class="at">xlab =</span> <span class="st">&quot;Age (years)&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(yll, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlab =</span> <span class="st">&quot;Years of life lost&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Number of simulated patients&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="compare-yll-using-who-tables-and-comorbidity-based-assesment">Compare YLL using WHO tables and comorbidity-based assesment</h2>
<p>Among those over 50 for which both methods were used, the WHO tables based estimates of YLL, and our estimates which additionally accomodate comorbidity, yielded similar per capita YLL; the values were 11.8 and 9.16 respectively.</p>
<h2 id="yll-by-age-and-comorbidity">YLL by age and comorbidity</h2>
<p>The following shows the distribution of YLL by age, sex and comorbidity by age categories.</p>
<h3 id="table-yll-per-capita-by-comorbidity-count-and-age">Table YLL per capita by comorbidity count, and age</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>yll_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">yll =</span> yll) <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> <span class="fu">factor</span>(italy_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> <span class="fu">round</span>(age_smpls),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">age_cat =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>)))</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>yll_smry <span class="ot">&lt;-</span> yll_df <span class="sc">%&gt;%</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(comorbidity_count, age_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">yll =</span> <span class="fu">mean</span>(yll) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> comorbidity_count) <span class="sc">%&gt;%</span> </span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(age_cat, yll)</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;comorbidity_count&#39; (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(yll_smry)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Comorbidity count</th>
<th align="right">[ 50, 60)</th>
<th align="right">[ 60, 70)</th>
<th align="right">[ 70, 80)</th>
<th align="right">[ 80,110]</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">-</td>
<td align="right">25.23</td>
<td align="right">16.60</td>
<td align="right">8.38</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">33.94</td>
<td align="right">24.83</td>
<td align="right">16.39</td>
<td align="right">7.68</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">29.73</td>
<td align="right">21.33</td>
<td align="right">14.00</td>
<td align="right">6.67</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">25.38</td>
<td align="right">17.69</td>
<td align="right">11.87</td>
<td align="right">5.76</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">21.11</td>
<td align="right">14.68</td>
<td align="right">9.88</td>
<td align="right">4.92</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="right">16.55</td>
<td align="right">12.74</td>
<td align="right">8.21</td>
<td align="right">4.17</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="right">11.89</td>
<td align="right">9.43</td>
<td align="right">6.67</td>
<td align="right">3.41</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="right">11.91</td>
<td align="right">7.10</td>
<td align="right">5.16</td>
<td align="right">2.81</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="right">8.80</td>
<td align="right">5.47</td>
<td align="right">3.90</td>
<td align="right">2.40</td>
</tr>
<tr class="even">
<td align="left">9</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">2.95</td>
<td align="right">1.56</td>
</tr>
<tr class="odd">
<td align="left">10</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">0.99</td>
</tr>
</tbody>
</table>
<h2 id="plot-distribution-of-years-of-life-lost-by-age-and-comrobidity-count">Plot distribution of years of life lost by age and comrobidity count</h2>
<p>Plot distributions of YLL overall, then stratified by age, with colour indicating the comorbidity count.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>plot1_yll <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(yll_df, <span class="fu">aes</span>(<span class="at">x =</span> yll,  <span class="at">fill =</span> comorbidity_count)) <span class="sc">+</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">&quot;Number of simulated patients&quot;</span>) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>plot1_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>plot2_yll <span class="ot">&lt;-</span> plot1_yll <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_cat) </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>plot2_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="crude-approach-to-obtain-95-credible-interval">Crude approach to obtain 95% credible interval</h2>
<p>The following approach uses empirical bootstrapping to calculate an uncertainty interval around the mean YLL. This</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, <span class="sc">~</span>  <span class="fu">mean</span>(<span class="fu">sample</span>(yll, <span class="dv">404</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(res, <span class="at">xlab =</span> <span class="st">&quot;Mean Years of Life Lost&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>est <span class="ot">&lt;-</span> <span class="fu">mean</span>(res, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>lci_uci <span class="ot">&lt;-</span> <span class="fu">quantile</span>(res, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">paste</span>(<span class="at">collapse =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>est</span></code></pre></div>
<pre><code>## [1] 9.2</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>lci_uci</span></code></pre></div>
<pre><code>## [1] &quot;8.6-9.7&quot;</code></pre>
<p>The mean and (95% credible interval) for the years of life lost using this approach was 9.2 (95% CI 8.6-9.7).</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="ot">&lt;-</span> <span class="fu">list</span>(est, lci_uci, mean_age_restricted, mean_age_whole,</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>               plot_ages1, plot_ages2, plot_ages3, plot_surv, plot1_yll, plot2_yll,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>               who, yll_df, yll_mean_who_restricted, yll_mean_who_whole, yll_smry)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mylist, <span class="fu">paste0</span>(<span class="st">&quot;Output_rmd/&quot;</span>, </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation_como, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sd_como_age,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;.Rds&quot;</span>))</span></code></pre></div>

</body>
</html>

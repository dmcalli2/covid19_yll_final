<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="combine-component-models-to-estimate-years-of-life-lost">Combine component models to estimate Years of Life Lost</h1>
<p>David McAllister 17 December, 2020</p>
<h1 id="years-of-life-lost-for-men-assuming-age-and-comorbidity-are-associated-the-correlation-between-comorbidities-was-estimated-assuming-that-the-association-between-comorbidities-was-maximal">Years of Life Lost for men assuming age and comorbidity are associated. The correlation between comorbidities was estimated assuming that the association between comorbidities was maximal.</h1>
<p>This document combines the comorbidity, age and survival model outputs to estimate years of life lost. It can be rendered for men and women, and assuming that age and comorbidity are associated or independent. This particular report is for men and assumes that age and comorbidity are associated.</p>
<p>It also allows for sensitivity analyses on the correlation between comorbidities. This analysis is</p>
<p>one where comorbidities have the maximal possible correlation (although hypertension is treated as a non-disease (ie we indeuce a strong negative correlation, because the in the model hypertension is assocaited wiht a lower mortality) .</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<h1 id="functions">Functions</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>SurvGomp <span class="ot">&lt;-</span> <span class="cf">function</span>(t, start, ...) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is a modified version of the summary function (survival part)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># from flexsurv::summary.flexsurvreg, only difference is triple colon as </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># workhorse function undereath (written in c++) is hidden from users</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  ret <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">-</span> flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(t, ...))<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(start, ...))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  ret[t<span class="sc">&lt;</span>start] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  ret</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> <span class="co"># example of this function</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> <span class="dv">41</span><span class="sc">:</span><span class="dv">130</span>, <span class="at">start =</span> <span class="dv">50</span>, <span class="at">shape =</span> <span class="fl">0.10345</span>, <span class="at">rate =</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">11.0345</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<h1 id="inputs-to-synthesis">Inputs to synthesis</h1>
<p>Read in simulated patients from comorbidity model, age-sex distribution from the Istituto Superiore di Sanità (ISS report), the WHO global burden of disease life tables and the age distributions from the age models.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;converged&quot;</span>)   italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesConverged.Rds&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;unconverged&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesUnconverged.Rds&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;maximal&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/highest_cor_como.Rds&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/independent_como.Rds&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(italy) <span class="ot">&lt;-</span> <span class="fu">str_to_lower</span>(<span class="fu">names</span>(italy))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>italy <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(italy)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>age_sex <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/age_distribution_italian_deaths.txt&quot;</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>) {</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_coef.csv&quot;</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_0_5.Rds&quot;</span>)}</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_1.Rds&quot;</span>)}</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_male.Rds&quot;</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_men.csv&quot;</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>) {</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_coef.csv&quot;</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_0_5.Rds&quot;</span>)}</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_1.Rds&quot;</span>)}</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_female.Rds&quot;</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_women.csv&quot;</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>my_vcov <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(my_vcov)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(my_vcov) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(my_vcov)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>my_coef_vect <span class="ot">&lt;-</span> my_coef[,<span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_coef_vect) <span class="ot">&lt;-</span> my_coef[,<span class="dv">1</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>my_coef <span class="ot">&lt;-</span> my_coef_vect</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(my_coef_vect)</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/who_mortality_table.txt&quot;</span>)</span></code></pre></div>
<h1 id="who-life-tables-based-yll">WHO life tables based YLL</h1>
<p>The following uses the proportions in each age who died and the WHO GBD 2010 life tables to estimate the YLL.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>age_sex <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>age_point) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(sex, n) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">age_bands</th>
<th align="right">men</th>
<th align="right">women</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30-39</td>
<td align="right">14</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">40-49</td>
<td align="right">49</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">50-59</td>
<td align="right">190</td>
<td align="right">53</td>
</tr>
<tr class="even">
<td align="left">60-69</td>
<td align="right">607</td>
<td align="right">154</td>
</tr>
<tr class="odd">
<td align="left">70-79</td>
<td align="right">1847</td>
<td align="right">556</td>
</tr>
<tr class="even">
<td align="left">80-89</td>
<td align="right">1808</td>
<td align="right">894</td>
</tr>
<tr class="odd">
<td align="left">90+</td>
<td align="right">274</td>
<td align="right">334</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>age_sex_whole <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>age_sex_restr <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex, age_point <span class="sc">&gt;=</span><span class="dv">50</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Mean age</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>mean_age_whole <span class="ot">&lt;-</span> age_sex_whole <span class="sc">%&gt;%</span> </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>mean_age_restricted <span class="ot">&lt;-</span> age_sex_restr <span class="sc">%&gt;%</span> </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="do">## estimate yll using WHO life expectancy and age distribution alone ----</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(map2italy) <span class="sc">%&gt;%</span> </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">expected_remain =</span> <span class="fu">mean</span>(expected_remain)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_whole <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_whole <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_restricted <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_restr <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<p>The mean age for the ISS deaths was 77.4 overall and 77.9 when people who died aged &lt;50 were excluded from the calculation.</p>
<p>The estimated years of life lost obtained by applying the age distributions from the ISS report to these tables was 14.4 per person using the whole cohort and 14 after excluding those aged under 50.</p>
<h1 id="combining-samples-from-survival-models-age-models-and-comorbidity-models">Combining samples from survival models, age models and comorbidity models</h1>
<p>The following combines 10,000 samples from survival models, age models and comorbidity models to estimate the age, sex and comorbidity specific life expectancy and subsequently years of life lost.</p>
<h2 id="age-distributions">Age distributions</h2>
<p>The following shows the modelled age-distribution of the ISS data (based on the published counts of patients in each age band). The grey bars are for the simulated data and the coloured bars are the original data (assuming a uniform distribution within each age-band).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Sum conditions to Calculate comorbidity count</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>italy_count <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(italy)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>age_tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">comorbidity_count =</span> italy_count, <span class="at">age =</span> age_smpls)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="do">## spread ages along range of possible values to allow comparison</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age_bands, age_point, n) <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age_bands) <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>()</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>data, <span class="sc">~</span> <span class="fu">rep</span>(.x<span class="sc">$</span>age_point, .x<span class="sc">$</span>n))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>age, <span class="sc">~</span> .x <span class="sc">+</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">4</span>, <span class="at">length.out =</span> <span class="fu">length</span>(.x)))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> iss <span class="sc">%&gt;%</span> </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age) <span class="sc">%&gt;%</span> </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(age)) </span></code></pre></div>
<pre><code>## Adding missing grouping variables: `age_bands`</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>plot_ages1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">data =</span> iss, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> age_bands), <span class="at">alpha =</span> <span class="fl">0.9</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plot_ages1</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Here the above histogram is broken down by the comorbidity count.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plot_ages2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>))) </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plot_ages2</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="comorbidity-counts">Comorbidity counts</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>como_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> italy_count) <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">length</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Percentage =</span> <span class="fu">round</span>(<span class="dv">100</span><span class="sc">*</span> N <span class="sc">/</span><span class="fu">sum</span>(N),<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(como_tbl)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Comorbidity count</th>
<th align="right">N</th>
<th align="right">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">2732</td>
<td align="right">27.32</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">4134</td>
<td align="right">41.34</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">342</td>
<td align="right">3.42</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">428</td>
<td align="right">4.28</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">171</td>
<td align="right">1.71</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">467</td>
<td align="right">4.67</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">15</td>
<td align="right">0.15</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">41</td>
<td align="right">0.41</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">193</td>
<td align="right">1.93</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">309</td>
<td align="right">3.09</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">759</td>
<td align="right">7.59</td>
</tr>
<tr class="even">
<td align="right">11</td>
<td align="right">409</td>
<td align="right">4.09</td>
</tr>
</tbody>
</table>
<p>Here the above histogram is shown as small multiples having stratified by comorbidity count.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plot_ages3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> comorbidity_count) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Age (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Number of simulated patients (of 20,000)&quot;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>plot_ages3</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following is a check that the names of the comorbidities are the same in the samples from the survival models and comorbidity estimates. The comorbidity samples should have no differences (character 0) and the coefficients and variance-covariance matrix from the survival model shoudl be identical apart from the shape and rate parameters.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>name_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;copd&quot;</span>, <span class="st">&quot;demen&quot;</span>, <span class="st">&quot;diab&quot;</span>, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;h_fail&quot;</span>, <span class="st">&quot;hypert&quot;</span>, <span class="st">&quot;ihd&quot;</span>, <span class="st">&quot;renal&quot;</span>, <span class="st">&quot;liver&quot;</span>, <span class="st">&quot;stroke&quot;</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>name_cols_age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib:age&quot;</span>, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;cancer:age&quot;</span>, <span class="st">&quot;copd:age&quot;</span>, <span class="st">&quot;demen:age&quot;</span>, <span class="st">&quot;diab:age&quot;</span>, <span class="st">&quot;h_fail:age&quot;</span>, </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;hypert:age&quot;</span>, <span class="st">&quot;ihd:age&quot;</span>, <span class="st">&quot;renal:age&quot;</span>, <span class="st">&quot;liver:age&quot;</span>, <span class="st">&quot;stroke:age&quot;</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(italy), name_cols)</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">names</span>(my_coef), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(my_vcov), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<h2 id="design-matrix">Design matrix</h2>
<p>The following code multiplies the comorbidity samples, which is a prediction matrix by age to get age:comorbidity interactions</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>italy_ages <span class="ot">&lt;-</span> age_smpls <span class="sc">*</span> italy</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(italy_ages)</span></code></pre></div>
<pre><code>##      atr_fib cancer copd demen     diab h_fail   hypert     ihd renal liver stroke
## [1,]  0.0000      0    0     0 109.7960      0 109.7960  0.0000     0     0      0
## [2,] 86.2866      0    0     0  86.2866      0  86.2866 86.2866     0     0      0
## [3,]  0.0000      0    0     0   0.0000      0   0.0000  0.0000     0     0      0
## [4,]  0.0000      0    0     0   0.0000      0   0.0000  0.0000     0     0      0
## [5,]  0.0000      0    0     0   0.0000      0  79.0790  0.0000     0     0      0
## [6,]  0.0000      0    0     0   0.0000      0   0.0000  0.0000     0     0      0</code></pre>
<h2 id="sampling-from-survival-model">Sampling from survival model</h2>
<p>THe following code samples from the survival model to obtain 10,000 samples of the coefficients.</p>
<p>Check data are correctly aligned then obtain 10,000 samples.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">names</span>(my_coef) <span class="sc">==</span> <span class="fu">colnames</span>(my_vcov))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>surv_smpls <span class="ot">&lt;-</span> mvtnorm<span class="sc">::</span><span class="fu">rmvnorm</span>(<span class="dv">10000</span>, my_coef, my_vcov)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> (<span class="fu">colMeans</span>(surv_smpls) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">apply</span>(surv_smpls, <span class="dv">2</span>, sd) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">tibble</span>(<span class="st">&quot;_&quot;</span> <span class="ot">=</span> <span class="fu">names</span>(a), <span class="st">&quot;est&quot;</span> <span class="ot">=</span> a, <span class="at">se =</span> b))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">_</th>
<th align="right">est</th>
<th align="right">se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">shape</td>
<td align="right">0.097</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">rate</td>
<td align="right">-11.044</td>
<td align="right">0.049</td>
</tr>
<tr class="odd">
<td align="left">atr_fib</td>
<td align="right">-0.122</td>
<td align="right">0.099</td>
</tr>
<tr class="even">
<td align="left">cancer</td>
<td align="right">1.520</td>
<td align="right">0.076</td>
</tr>
<tr class="odd">
<td align="left">copd</td>
<td align="right">2.132</td>
<td align="right">0.080</td>
</tr>
<tr class="even">
<td align="left">demen</td>
<td align="right">1.718</td>
<td align="right">0.146</td>
</tr>
<tr class="odd">
<td align="left">diab</td>
<td align="right">0.934</td>
<td align="right">0.071</td>
</tr>
<tr class="even">
<td align="left">h_fail</td>
<td align="right">1.280</td>
<td align="right">0.108</td>
</tr>
<tr class="odd">
<td align="left">hypert</td>
<td align="right">-0.178</td>
<td align="right">0.066</td>
</tr>
<tr class="even">
<td align="left">ihd</td>
<td align="right">0.407</td>
<td align="right">0.105</td>
</tr>
<tr class="odd">
<td align="left">renal</td>
<td align="right">0.147</td>
<td align="right">0.085</td>
</tr>
<tr class="even">
<td align="left">liver</td>
<td align="right">4.060</td>
<td align="right">0.169</td>
</tr>
<tr class="odd">
<td align="left">stroke</td>
<td align="right">0.809</td>
<td align="right">0.094</td>
</tr>
<tr class="even">
<td align="left">atr_fib:age</td>
<td align="right">0.005</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">cancer:age</td>
<td align="right">-0.016</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">copd:age</td>
<td align="right">-0.020</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">demen:age</td>
<td align="right">-0.009</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">diab:age</td>
<td align="right">-0.010</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">h_fail:age</td>
<td align="right">-0.011</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">hypert:age</td>
<td align="right">0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">ihd:age</td>
<td align="right">-0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">renal:age</td>
<td align="right">0.001</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">liver:age</td>
<td align="right">-0.047</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">stroke:age</td>
<td align="right">-0.006</td>
<td align="right">0.001</td>
</tr>
</tbody>
</table>
<h2 id="estimating-the-linear-predictor-for-each-of-the-10000-iterations">Estimating the linear predictor for each of the 10,000 iterations</h2>
<p>Note that these multiplications are not matrix multiplications. They are element-wise multiplications of identically positioned elements in each matrix. Each part of the linear predictor is calculated separately, these are then summed to obtain the linear predictor based on the age and comorbidity distributions of the simulated patients.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="do">## shape parameter</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>shpe       <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;shape&quot;</span>]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Intercept (rate parameter)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>cept_lp    <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;rate&quot;</span>]</span></code></pre></div>
<p>The following shows the linear predictor for covariates without interactions by age. These are mostly positive, reflecting the fact that almost all of the comorbidites are associated with increased hazard rates for death.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="do">## This multiplies the covariate level (binary) with the simulated coefficeints</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> italy[,name_cols] <span class="sc">*</span> (surv_smpls[, name_cols])</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="do">## This adds these together to get the non-age dependent part of the linear predictor</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(non_age_lp)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(non_age_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following shows the linear predictor for covariates with interactions by age. All are negative, reflecting the fact that there is attenuation in the hazard ratios for the comorbid diseases with increasing age, as is common in chronic disease epidemiology.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Part of lp dependent on age</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ensure_matrices_match</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">paste0</span>(name_cols, <span class="st">&quot;:age&quot;</span>) <span class="sc">==</span> name_cols_age )</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Loop through the different age groups to get the part of the LP with age interactions</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>ages_lp <span class="ot">&lt;-</span>  <span class="fu">rowSums</span>(italy_ages[, name_cols]  <span class="sc">*</span> surv_smpls[, name_cols_age])</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(ages_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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e6RpxxxD8tFS3KhljzTtmGNIPlqKG7XskaYdcwzJR0txo5Y90rRjjiH5aClu1LJHmnbMMSQfLcWNWvZI0445huSjpbhRyx5p2jHHkHy0FDdq2SNNO+YYko+W4kYte6RpxwSCIVBII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BIkwr08TfmwuJ2KZGRF8h1I+VZkqzux29XWmzQ+/M3u8DjOklug4xU2Aa5TGuIh9sI9Fh3KQW625gr3+/viq8zHffP6EbKs2KkbPyjlpphghSaFUntNoEKzYJcRzjEw223JsxjfUQo0Mytv/S4Nimk3qWYLh/JXVN/O/ax39/dhhgmrzZo1Jd2sNsECTTAw20EeqyP6QSaJW8ba4eM+WasRgr22IcK9PGzgHuY9OabcFdiH73vC/RYH9MJNG8tbrMd96W6QG0P2egHLdhTfPbqP5sgx3u5/eLCHINaIx/ucI/1EdFAxy4jYkdyu4UAB0ahjv9Tc+ThdshjmafUcIGOX7Ul2GPdpRloNvagPWigZvfyuA6w40tXwXYzZqGqYIGOfrhjCzTAN3TAp/hwh1duDDfeyG0yX1qoQEOserXop/i0mogrv7702Q9Ye6TxZdnxguwc3Egu0HGnSnaktLze4ajUy0fr+Q93Q0wnSWmA85Es4DSTe+xD7BzcYqfBdjNh9qAhHu4oppnyer8X4mWNkBP1wY5B7ZFjY8XTkYIEGuYLi2KivsyqfPYa97XWBwtBTr+3YV4MzO18QLhlToMEGuThLgda+kudwBEChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQChTQCnZ+7yB0uQqDzI9ABCHR+BDoAgYayrS54XHyw+s5cibC63rNZXq55ldgi0MfPvl8HvBDjghFoIObiwnaRBHO528xcKtP8zlwe1l6hubmMjQl0Xfw+zOp1C0egYey+vHcXC3cXDN+u7ncbs4PMXn08uuS3DdSuORduoaPFItBwMvNEXl983F0Pu+i1XDj0wAb6Pp9k1ZbFIdBAigPOV/8sskvrQOuFOOx6wt1j0ImWFVocAg3D7hLNL509aGXb+B2BDkCgYbil7ZLqGDQ1x6DNU6Dm7+pj0ICLbS4WgYZhutxtzMRR6yze7DntfjLr7EHXwdagXzgCDcSuwmKfyLfF0eg/qgV13I61vUKLDfQP65HrxEWCQCdxbjW5EOt1xoFAA7PpuTnQc7fCBQg0tMyzyKt9wbNa1I1AL0WgkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkEagkPZ/YeGz4uTqJqwAAAAASUVORK5CYII=" /><!-- --></p>
<p>The following sums the components of the linear predictor.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="do">## total lp</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>tot_lp <span class="ot">&lt;-</span> cept_lp <span class="sc">+</span> non_age_lp <span class="sc">+</span> ages_lp</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(tot_lp, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">12</span>, <span class="sc">-</span><span class="dv">5</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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9jBP82oXaHnug4oXaBF4SCgYaHOQZBBoNevZPDVb7HFU8iuDp5jO2QNFCzT40kqCT/FlWOUh1/dfBRdhskfcPiSbawS5B2OyRLEJGehSgebtfkfTQH5un/sDnV3V7kChSeTdflXYumw9kMV83jwig2d495BcoEGHSv1v0rkDRZpBDfbTbGdQk2Umx2CZyf24mDyfWs157sKsBg8p8N8WJ1CL3SvbQE0W6ut1bJN9Prt9UKNdUPdz17s66/nqWUD8ICl3L8AFfe+MAzV5lbJ6Fc8miGXwS8ENmx3ZSmH1kJYhr73yZhFII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1BII1Brxd3IH9z54uCHQI3tZDj+B5yIQI0RqC0CtVVdnu36sTl1YfOHRhno6t13M6NzGqaCQI3V82R1RZnq7Lb7M2h9wQWzK8olgUCNVU26ExMXV/fDQI0uTZcOAjVWNelOy17+dxhofb52q7N0p4BAjXWBlh8NAn1ndO3EdBCosekZlEB9EaixE/ZBjS61lQYCNVZfSKs7ir/t31IGanld+CQQqLVltw7a/KFRB/r7WcAlWVJEoDGZXfoyHQQaE4F6I9ALq17u3F5mj0C9ESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESik/R8MZriqSlB9ngAAAABJRU5ErkJggg==" /><!-- --></p>
<p>The following transforms the linear predictor onto the rate scale.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>tot_rat <span class="ot">&lt;-</span> <span class="fu">exp</span>(tot_lp)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="dv">10000</span><span class="sc">*</span>tot_rat, <span class="at">breaks =</span> <span class="dv">500</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>), <span class="at">xlab =</span> <span class="st">&quot;Rate per 10,000 person-years&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="estimate-the-survival-at-each-time-point-3-monthly">Estimate the survival at each time-point (3-monthly)</h2>
<p>The following uses a function from the flexsurv package called by summary.flexsurv to obtain survival probabilities at each follow-up time. Where the time is before the patients age at baseline (in this case the age at death in the ISS data) the survival probability is by definition one.</p>
<p>In this function all notional patients have the same shape parameter, but have patient-specific rate parameters. This function is not vectorised with respect to the rate and shape parameters, but it is nonetheless very fast.</p>
<p>For one simulated patient in the “low” SD age group the rate and age variables are such that the function returns a missing value, this is the only sample that does so. Presumably there is a numerical reason in the internals of the function. Give a warning and drop from the summary function at the end. Return an error if there is more than one missing. Only occured in most recent set of simulated patients which is a fresh simulation.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>times_vect <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="fl">0.25</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>tot_surv <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>){</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> times_vect, <span class="at">start =</span> age_smpls[i], <span class="at">shape =</span> shpe[i], <span class="at">rate =</span> tot_rat[i],</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  tot_surv[i,] <span class="ot">&lt;-</span> <span class="fu">t</span>(a)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">is.na</span>(tot_surv), <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(tot_surv_na)</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">any</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">sum</span>(tot_surv_na)</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>) <span class="fu">warning</span>(<span class="fu">paste0</span>(<span class="st">&quot;The SurvGomp function returned NaN for &quot;</span>, tot_surv_na, <span class="st">&quot; simulated patients&quot;</span>))</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">5</span>) <span class="fu">stop</span>()</span></code></pre></div>
<h3 id="the-following-plots-show-the-survival-distribution-for-a-random-sample-of-3-notional-patients">The following plots show the survival distribution for a random sample of 3 notional patients.</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">1</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(times_vect, tot_surv[i,], <span class="at">xlab =</span> <span class="st">&quot;age&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;survival&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;Age &quot;</span>, age_smpls[i] <span class="sc">%&gt;%</span>  <span class="fu">round</span>(), <span class="st">&quot; years&quot;</span>))</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<h2 id="survival-distribution-for-all-patients-stratified-by-age-and-comorbidity-count">Survival distribution for all patients stratified by age and comorbidity count</h2>
<p>The following figures show this for all patients according to age, and comorbidity.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tot_surv)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(surv_all) <span class="ot">&lt;-</span> times_vect</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all[ , times_vect <span class="sc">%in%</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">120</span>, <span class="fl">2.5</span>)]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pt =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span>  surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> italy_count,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> age_smpls) <span class="sc">%&gt;%</span> </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="st">&quot;times&quot;</span>, <span class="st">&quot;survival&quot;</span>, <span class="sc">-</span>pt, <span class="sc">-</span>comorbidity_count, <span class="sc">-</span>age) <span class="sc">%&gt;%</span> </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">times =</span> <span class="fu">as.integer</span>(times),</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">comorbidity_count =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(pt, times)</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&lt;=</span> times, times <span class="sc">&lt;=</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_bands =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>))) </span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>plot_surv <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(surv_all, <span class="fu">aes</span>(<span class="at">x =</span> times, <span class="at">y =</span> survival, <span class="at">colour =</span> comorbidity_count, <span class="at">group =</span> pt)) <span class="sc">+</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_bands)</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>plot_surv</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="calculate-life-expectancy-mean-survival-for-each-patient">Calculate life expectancy (mean survival) for each patient</h2>
<p>The following sums over the distribution of survival on time to obtain the mean survival, which is the life expectancy.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x <span class="sc">*</span> times_vect)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>le_check <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(le_check <span class="sc">==</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(le,  <span class="fu">paste0</span>(<span class="st">&quot;Data/&quot;</span>, params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation_como, <span class="st">&quot;_le_pre_offset.Rds&quot;</span>))</span></code></pre></div>
<h2 id="offset-life-expectancy-to-allow-for-the-fact-that-the-le-in-wales-is-lower-than-the-who-levels">Offset life expectancy to allow for the fact that the LE in Wales is lower than the WHO levels</h2>
<p>The following corrects for the fact that the intercept-only life expectancy from the models in Wales are slightly lower than those in the WHO GBD life-expectancy tables. The Wales life expectancies are multiplied by between 1.07 and 1.02 depending on the age.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>who <span class="ot">&lt;-</span> who <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">who_ratio =</span> who_remain<span class="sc">/</span>expect_remain_years,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">who_le_ratio =</span> (who_remain<span class="sc">+</span>age)<span class="sc">/</span>(expect_remain_years <span class="sc">+</span> age))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(who<span class="sc">$</span>who_le_ratio)</span></code></pre></div>
<pre><code>## [1] 1.050812</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>){</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.07</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.06</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>){</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.03</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.01</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> le <span class="sc">*</span> who_offset</span></code></pre></div>
<h2 id="years-of-life-lost">Years of life lost</h2>
<p>The following calculates the years of life lost from the age, sex and comorbidity defined survival and the age and comorbidities at death from the ISS data.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>yll <span class="ot">&lt;-</span> le <span class="sc">-</span> age_smpls</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(age_smpls, yll, <span class="at">xlab =</span> <span class="st">&quot;Age (years)&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(yll, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlab =</span> <span class="st">&quot;Years of life lost&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Number of simulated patients&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="compare-yll-using-who-tables-and-comorbidity-based-assesment">Compare YLL using WHO tables and comorbidity-based assesment</h2>
<p>Among those over 50 for which both methods were used, the WHO tables based estimates of YLL, and our estimates which additionally accomodate comorbidity, yielded similar per capita YLL; the values were 14 and 13.46 respectively.</p>
<h2 id="yll-by-age-and-comorbidity">YLL by age and comorbidity</h2>
<p>The following shows the distribution of YLL by age, sex and comorbidity by age categories.</p>
<h3 id="table-yll-per-capita-by-comorbidity-count-and-age">Table YLL per capita by comorbidity count, and age</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>yll_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">yll =</span> yll) <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> <span class="fu">factor</span>(italy_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> <span class="fu">round</span>(age_smpls),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">age_cat =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>)))</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>yll_smry <span class="ot">&lt;-</span> yll_df <span class="sc">%&gt;%</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(comorbidity_count, age_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">yll =</span> <span class="fu">mean</span>(yll) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> comorbidity_count) <span class="sc">%&gt;%</span> </span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(age_cat, yll)</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;comorbidity_count&#39; (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(yll_smry)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Comorbidity count</th>
<th align="right">[ 50, 60)</th>
<th align="right">[ 60, 70)</th>
<th align="right">[ 70, 80)</th>
<th align="right">[ 80,110]</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">35.34</td>
<td align="right">26.35</td>
<td align="right">17.44</td>
<td align="right">7.25</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">35.26</td>
<td align="right">26.26</td>
<td align="right">16.98</td>
<td align="right">6.79</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">31.62</td>
<td align="right">23.34</td>
<td align="right">15.64</td>
<td align="right">6.54</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">29.21</td>
<td align="right">21.71</td>
<td align="right">14.33</td>
<td align="right">5.67</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">28.76</td>
<td align="right">20.56</td>
<td align="right">13.36</td>
<td align="right">5.51</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="right">16.71</td>
<td align="right">13.40</td>
<td align="right">9.88</td>
<td align="right">5.00</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="right">-</td>
<td align="right">10.23</td>
<td align="right">8.82</td>
<td align="right">5.41</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="right">8.98</td>
<td align="right">8.12</td>
<td align="right">6.85</td>
<td align="right">4.27</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="right">6.31</td>
<td align="right">5.99</td>
<td align="right">4.97</td>
<td align="right">3.18</td>
</tr>
<tr class="even">
<td align="left">9</td>
<td align="right">4.60</td>
<td align="right">4.22</td>
<td align="right">3.49</td>
<td align="right">1.74</td>
</tr>
<tr class="odd">
<td align="left">10</td>
<td align="right">4.23</td>
<td align="right">4.04</td>
<td align="right">3.08</td>
<td align="right">1.59</td>
</tr>
<tr class="even">
<td align="left">11</td>
<td align="right">4.13</td>
<td align="right">3.91</td>
<td align="right">3.06</td>
<td align="right">1.36</td>
</tr>
</tbody>
</table>
<h2 id="plot-distribution-of-years-of-life-lost-by-age-and-comrobidity-count">Plot distribution of years of life lost by age and comrobidity count</h2>
<p>Plot distributions of YLL overall, then stratified by age, with colour indicating the comorbidity count.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>plot1_yll <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(yll_df, <span class="fu">aes</span>(<span class="at">x =</span> yll,  <span class="at">fill =</span> comorbidity_count)) <span class="sc">+</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">&quot;Number of simulated patients&quot;</span>) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>plot1_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>plot2_yll <span class="ot">&lt;-</span> plot1_yll <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_cat) </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>plot2_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="crude-approach-to-obtain-95-credible-interval">Crude approach to obtain 95% credible interval</h2>
<p>The following approach uses empirical bootstrapping to calculate an uncertainty interval around the mean YLL. This</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, <span class="sc">~</span>  <span class="fu">mean</span>(<span class="fu">sample</span>(yll, <span class="dv">404</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(res, <span class="at">xlab =</span> <span class="st">&quot;Mean Years of Life Lost&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAAAyVBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZmYAZpAAZrY6AAA6ADo6AGY6OgA6Ojo6OmY6OpA6ZpA6ZrY6kLY6kNtmAABmADpmAGZmOgBmOjpmZgBmkJBmkLZmkNtmtrZmtttmtv+QOgCQOjqQZgCQZjqQkGaQkLaQtpCQttuQtv+Q2/+2ZgC2Zjq2ZpC2kGa225C229u22/+2/7a2/9u2///T09PbkDrbkGbbtmbbtpDb27bb29vb2//b////tmb/25D/27b//7b//9v///9fYHGxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAUUklEQVR4nO2de2PbthVH6Sze7DZr19ldu2e8tntY3SNbpj42y5H0/T/UCIKUqAcFwiDxuxLP+SNxJF5A5D0BSYi+KNYAhinUHwDgFAgKpkFQMA2CgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMA2CgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMA2CgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMA2CgmkQFEyDoGAaBAXTICiYBkGPsnoorp/83zebf7Te/tv7oTv89rYoPhu40UsAQY9yWtAPX7waWtBFUXI3cKOXAIIeZUfQA2bF4ILOi6vHgZu8DBD0KMdG0O/eFMXVL945P0ucoj98WRQ/+W01uK6+LYrXj5W5pWt//qJ49W79wxfldp+U3i3vi5sf3hRXf1h/d1tute1m00DVZK3oJt61efVZ1fym78mBoEc5Iui8KGoxG0HrV9yG5SbOsDfbl6+fFv7tUrtSUM+bRm3PtoFdQf2LddTr9+tW35MDQY/ihauoBXWj4NP6++pC0Z/in29rb++qS8ibp1WpmRf0+t36v2XUz57cRneVoHcutvhDvX1Fu4HWKb6Od72828Rv+p4aCHqUQ0FLU17/s37XC1pfic78oOp+LkXygr6tN/zx729cA+XrpYn+z8q4djPr5rqgJaiLLze/q/716n2776mBoEc5FNS/4q84K6WaqwCnVvPzjmurr5sG3Ai4rv/cCtpuYFfQ6sdyw+Yaod331EDQoxy5Bv3whdflr7WH3rfq7P62+bktqLPq9Z9+vO8UtN3AEUEXxUbQdt9TA0GPckTQ9frDN2+aW5oeI6g3cdktaHgEfbv9QJu+pwaCHuWooO7fX22vOLuvQZsR8O16e5NzKGj3NWj1YzPAbj/TV1O8jUfQoxwKWvr2y+o8X914O4W67+KbEfD66cND9zVo9128/3HmJk4/3O/1PTUQ9ChHRtBvN1eE1eXhqXnQzTXoyZuk9jzoMUHreVD3j1bfUwNBj3LsFP+9uwr8xH2bU31t9K7+Iuh3PqB86dN3B3fxr//ipom6BG01cETQ9Yevyxt5//XRtu+pgaBDMpviSXhcEHQQZtWzcuXoeOTREkgBQQehmbSc4lXiuCDoMHz48naqzxuNC4KCaRAUTIOgYBoEBdMgKJgGQcE0CAqmQVAwDYKCaRAUTIOgYBoEBdMgKJgGQcE0CAqmQVAwDYKCaRAUTIOgYJo4QZtiBBMswQIaogSdNzUHFlMspQoKYgRdPWyLtlCgALIQI+jyflMPcMFJHrLACAqmibwGrYdQrkEhE3F38c16KoyfkAnmQcE0CAqmibuLd1eeCybqIR/Rglb3760JJ4AxiRW0VpNpJshDrKDPt5WgexP1xYZBPxzAwCMogsKwxAnqV1VpbpcSmwMIE2lU6ejV44kvkhAUhmVgoxAUhgVBwTQvMGpxYrUVBIVhiTNqVhR3z58+dU/UX6SgRSrqHThnog7ezK2VXo2ek5pmKv6TxkUelFxEP1H//FG1GHrHt/EXmQsEFRL/sMjqf2tGUATNRdwT9c24Oa2JegQVEnfw5v72fVF0Pcx0kblAUCHMg4ZBUCEIGgZBhSBoGAQVgqBhEFQIgoZBUCEIGgZBhSBoGAQVgqBhEFQIgoZBUCEIGgZBhSBoGAQVgqBhkgXlgeeXg6BhkgVNjVcfACUIGgZBhSBoGAQVgqBhEFTIwAt5XeSxRFAhAy/kdZHHEkGFDLwMzUUeSwQVMvBCXhd5LBFUCCNoGAQVMvBCXhd5LBFUyMALeV3ksURQIcyDhkFQIQgaBkGFMFEfBkGFMFEfBkGFMM0UBkGFDDNRf9nP1iKoEEbQMAgqhIn6MAgqhIn6MAgqhHnQMAgqBEHDIKgQFvIKg6BCWMgrDIIKYSGvMAgqhIW8wiCoEBbyCoOgQljIKwyCCmEhrzAIKoR50DAIKgRBwyCoEAQNg6BCEDQMggpB0DAIKgRBwyCoEAQNg6BCEDQMggpB0DAIKgRBwyCoEAQNg6BCEDQMggpB0DAIKgRBwyCoEAQNg6BCEDQMggqhPmgYBBVCfdAwCCqE6nZhEFQIC3mFQVAhjKBhEFQI9UHDIKgQ6oOGQVAhzIOGQVAhCBoGQYXE12ZaMFGPoPmIFrS6f6c+KIJmIlbQWk2mmRA0D7GCPt9WgrKQF4LmgRE0DIIKiRPUjZE3a+qDImg2Ine+dPTqsfuLJARF0IFhHjQMggpB0DAIKiSyBHh5DepvknjcDkGzEPc0U3n9ubx3d0kIiqB5iH8edPVw/YSgCJqJlzxRP7t+QlAEzcOLnqif3SAogubhRQt5Le+7nme6yGOJoEJi7+L9SX71gKAImgXmQcMgqBAEDYOgQhA0DIIKQdAwCCoEQcMgqBAEDYOgQhA0DIIKQdAwCCoEQcMgqBAEDYOgQhA0DIIKQdAwCCoEQcMgqBAEDYOgQhA0DIIKQdAwCCpks/PL+6qozVDNXRIIKqS18+6X3rtK2tSw0hyCZmZ35wOOstIcguZmf+fnJ8ZH1klC0Ozs7PyiqmxTVWY4BivNIWh2tjvvqn96M7vsYwRF0Oy07uKvHkMbs9IcguaGlebCIKiQ1s7PSu26aydHN3c5IKiQ7c7PqmHRV1ccoLkLAkGFtK5B/fVl1x1SBRP1CJqZzc43t+hddeuq95ioR9DMbHfe36I/33ZfhDLNhKDZae3882158j4119Q9Uc9Kcwg6Ei8qYMsIiqC5iCtgy0Q9gmZmu/PBO/Q1E/UImp3WPOgpM+ObuyAQVEhrHjTtO6S95i4JBBVyMFF/ElaaQ9DMtCbqw99xstIcguZmu/OLIjSEstIcgman/Vudobt4VppD0Oyw0lwYBBXCSnNhEFRIa+dL7a6fZicnm1hpDkEz07pJunqcXz8lTode5LFEUCE7z4POT9yfRzZ3SSCokJ2JeifoySfq+zd3SSCokIMRdNb5IEhUc5cEggrZvwadB6frezZ3QSCokN27+NNP1Mc1dzkgqBAK2IZBUCEIGgZBhcR8Fx/T3CWBoEL2dz5tlglBEXRgDnZ+RumbfRBUyMHOM1F/AIIKOdh5vuo8AEGF7O881e0OQVAhB3fxSd90IiiCDgzzoGEQVEjczlMfFEEzczhRf8I/6oMiaG72f+341NNMVLdD0Oy0ngf1Znapt2YhLwQVsD3Ff+4ftDsxUc8IiqDZORhBTz1RT31QBM3NzhP1a19+qRvqgyJoZvafqE+bp7cpaJEKguqYwkS9XLDUePUBVBKz876ow+LsJurlgqXGqw+gkpjSN5Wg1f17Z7Vbk8dSLlhqvPoAKokpfePeq9U8q2kmuWCp8eoDqCSm9I0T9Pm2EvSsFvKSC5Yarz6ASmJK3zCCiuLVB1BJTOkbPwt6s153Lwli8ljKBUuNVx9AJZGlb0pHrx67v0hC0FHi1QdQyRRK38gFS41XH0AlTNRnECw1Xn0Alexcgw7YnCXkgqXGqw+gkriV5vo3Zwm5YKnx6gOopHWTFPyF+B6/FWLyWMoFS41XH0AlUcXDVl2Lexw2Zwm5YKnx6gOoJPa3OgNlHUweS7lgqfHqA6gkcudDC3qaPJZywVLj1QdQid/5Ye6Q1gg6Trz6ACppCTrERJPJYykXLDVefQCVIGgGwVLj1QdQCYJmECw1PhV1AlJA0AyCqePVCUgBQTMIoo5XJyAFBM0giDpenYAUGkGDX2LGNGcMuSDqeHUCUuBxuwyCqOPVCUgBQTMIoo5XJyAFBM0giDpenYAUEDSDIOp4dQJSQNAMgqjj1QlIAUEzCKKOVycgBQTNIIg6Xp2AFBA0gyDqeHUCUkDQDIKo49UJSGEKC3nJBVHHqxOQQtSHP9OFvOSCqOPVCUgh5sOf6zI0ckHU8eoEpBBXAvw8F/KSC6KOVycgBUbQDIKo49UJSCHyGvQsF/KSC6KOVycghbgPf54LeckFUcerE5AC86AZBFHHqxOQAoJmEEQdr05ACkzUZxBEHa9OQApM1GcQRB2vTkAKTDNlEEQdr05ACsNM1NsuYiEXRB2vTkAKjKAZBFHHqxOQAhP1GQRRx6sTkAIT9RkEUcerE5AC86AZBFHHqxOQAoJmEEQdr05ACgiaQRB1vDoBKSBoBkHU8eoEpBA3DxqsgWfyWMgFUcerE5BC1IdfsZDXWcarE5ACC3llEEQdr05ACizklUEQdbw6ASlwk5RBEHW8OgEpIGgGQdTx6gSkgKAZBFHHqxOQAoJmEEQdr05ACgiaQRB1vDoBKSBoBkHU8eoEpICgGQRRx6sTkAKCZhBEHa9OQAoImkEQdbw6ASkgaAZB1PHqBKSAoBkEUcerE5ACgmYQRB2vTkAKCJpBEHW8OgEpIGgGQdTx6gSkgKAZBFHHqxOQAoJmEEQdr05ACgiaQRB1vDoBKSBoBkHU8eoEpICgGQRRx6sTkAKCZhBEHa9OQAoImkEQdbw6ASlQoz6DIOp4dQJSoEZ9BkHU8eoEpECF5QyCqOPVCUhhmBr1L2ouG3JB1PHqBKTACJpBEHW8OgEpUKM+gyDqeHUCUqBGfQZB1PHqBKTAPGgGQdTx6gSkMMyHZyEv0/HqBKQQdxfvrjwXTNSfW7w6ASlEC1rdv7cmnF7eXDbkgqjj1QlIIVbQWk2mmc4pXp2AFGIFfb6tBGWi/pzi1QlIgRE0gyDqeHUCUohfhuZm3dwuJTaXDbkg6nh1AlKI/PClo1eP3V8kIajJeHUCUmCiPoMg6nh1AlJA0AyCqOPVCUgBQTMIoo5XJyAFBM0giDpenYAUEDSDIOp4dQJSQNAMgqjj1QlIAUEzCKKOVycgBQTNIIg6Xp2AFBA0gyDqeHUCUkDQDIKo49UJSOEcBC1SUQuijh8jKbk4C0HVCT73+DGSkgsEnUD8GEnJBYJOIH6MpOQCQScQP0ZScoGgE4gfIym5QNAJxKcyRlJ7J990c3Wj6gRPPX6MpPZOvunm6kbVCZp6/BhJ7Z18083VjaoTNPX4MZLaO/mmm6sbVSdo6vFjJLV38k03VzeqTtDU48dIau/km26ublSdoKnHj5HU3sk33VzdqDpBU48fI6m9k2+6ubpRdYKmHj9GUnsn33RzdaPqBE09foyk9k6+6ebqRtUJmnr8GEntnXzTzdWNqhM09fgxkto7+aabqxtVJ2jq8WMktXfyTTdXN6pO0NTjx0hq7+RHbb168I+35F1EQZ6gqcePkdTeyY/ZWLTasTxBU48fI6m9kx+xrWqtTnmCph4/RlJ7Jz9i2+7Vjk8/25r8wCycNy9008sTsW2PERRgWCKvQUOrHQMMS9zwG1ztGGBYzvo3/uDyQVAwDYKCaRAUTIOgYBoEBdMgKJgGQcE05yCo8mtkKC6qeNgoqD8j/U+1856oPyP9T7Xznqg/I/1PtfOeqD8j/U+1856oPyP9T7Xznqg/I/1PtfOeqD8j/U+1856oPyP9T7Xznqg/I/1PtXOAEAgKpkFQMA2CgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMA2CgmkQFExjXNDnj12p8dVDUWhK5vr+1/OiuHoU9l8yk9Rk9f37srA3gv6tC7q8d7XwVw+lHXPFAfL9r+flnwuFoXX/a1fTWiFo3f/zR5L/nRWmBV0U1YpMz7eu8vi8c3Gmsftf3t+5/yX5/4PU/a+rMUwgaNP/Iv+h32BZ0EVx1zo0+Yewnf4Fgrb6n19/lV/QTf9zzdm9wrKg653/uzPFf+Nt/3PJRWjdf3mO1VyD+v5nP1fdA5yRoJqFRZr+F6IE+f7d+j9CQZf3ru+ZxtBzEXShuYlsn+IVhtSn2LJr5Qi6/2NOzkRQ1cJM0mvgpv/qJlouqL9Vzc55CDpXXQGpE1T1P6+rIKr694jmms5C0LkiN9v+vZqSU9y2U+EIKtz/8xD0+Va28GJ9F1vK0VqoNHv/67X2FD9z1//cJB2jfYqTXQOWydGcYK0Iqtt/84LC1EFQMA2CgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMA2CgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMA2CgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMA2CgmkQdJ/VQ13rMbiwRrMGxm1cbd15Xa25qba0vH+7fXFDdy2mharUnwQE3acU1LsxCy6s4cvqRi4/Uq0ZUrXfan7z4oZOQSufpwOC7rN6+Onnro7e8le/DhaUcws7HLp1mo1gu4LuW4egHgTdZ/VwU5XCXPiVX+bNAhd1CcLl/e/vN7UIXeXSeV1jd2+zz78pXr1/vm3VLVxUm7iX6pqG21N8/eKmkXVb0EX9qm/M/SmpxCgCQfcpBV34VS2cI271maqArivi6v6xvHfL3jW1Smev/lUNoEc2K4Or0sSL2lD39/L+5nAEdS/469Cmkfa7m7imMUbQiVMK6laoXH7uliby5+/Fq/dLd9p3jlSvbOrVl+OZE6ljs3bVbF+heXH12CnoppGddzdxzRsIOnFKQVcPb8sz/FPpiF/ao/ZxURT1WLeVxJfP79xsfw2G8s9OQXca2bzbivONIejEcWsezm9cSXYn6GaBjfL68NU/bg8E9VZ1bOaXafabetHKl7sF3VnMY1dQ937dGIJOHCfo88f//uPjejOCrmtPnjsFPb5Zxcy/13cEbTgYQZvGEHTiOEFXD78pL0Ora9DahuoKcHF4ivdWdWxWUf/U5xq0bd7BNWizLYJOnGpZ45lbebG5i3fjlh8Vi7vjgnZsVr3ZuNXvLr4ZcA/v4pvGYuddzxwE3acStJobmjXzoPVaOFePzRn2QNDjm1WXlZsTdz2fuRXUX3LebUfPppH2u9t50Kax8DdclwSCgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMA2CgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMA2CgmkQFEyDoGAaBAXTICiYBkHBNAgKpkFQMM3/AW3owu8oHE9KAAAAAElFTkSuQmCC" /><!-- --></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>est <span class="ot">&lt;-</span> <span class="fu">mean</span>(res, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>lci_uci <span class="ot">&lt;-</span> <span class="fu">quantile</span>(res, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">paste</span>(<span class="at">collapse =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>est</span></code></pre></div>
<pre><code>## [1] 13.5</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>lci_uci</span></code></pre></div>
<pre><code>## [1] &quot;12.5-14.4&quot;</code></pre>
<p>The mean and (95% credible interval) for the years of life lost using this approach was 13.5 (95% CI 12.5-14.4).</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="ot">&lt;-</span> <span class="fu">list</span>(est, lci_uci, mean_age_restricted, mean_age_whole,</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>               plot_ages1, plot_ages2, plot_ages3, plot_surv, plot1_yll, plot2_yll,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>               who, yll_df, yll_mean_who_restricted, yll_mean_who_whole, yll_smry)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mylist, <span class="fu">paste0</span>(<span class="st">&quot;Output_rmd/&quot;</span>, </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation_como, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sd_como_age,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;.Rds&quot;</span>))</span></code></pre></div>

</body>
</html>

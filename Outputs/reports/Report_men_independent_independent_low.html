<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="combine-component-models-to-estimate-years-of-life-lost">Combine component models to estimate Years of Life Lost</h1>
<p>David McAllister 17 December, 2020</p>
<h1 id="years-of-life-lost-for-men-assuming-age-and-comorbidity-are-independent-the-correlation-between-comorbidities-was-estimated-assuming-that-the-association-between-comorbidities-was-independent">Years of Life Lost for men assuming age and comorbidity are independent. The correlation between comorbidities was estimated assuming that the association between comorbidities was independent.</h1>
<p>This document combines the comorbidity, age and survival model outputs to estimate years of life lost. It can be rendered for men and women, and assuming that age and comorbidity are associated or independent. This particular report is for men and assumes that age and comorbidity are independent.</p>
<p>It also allows for sensitivity analyses on the correlation between comorbidities. This analysis is</p>
<p>one where comorbidities are assumed independent .</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<h1 id="functions">Functions</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>SurvGomp <span class="ot">&lt;-</span> <span class="cf">function</span>(t, start, ...) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is a modified version of the summary function (survival part)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># from flexsurv::summary.flexsurvreg, only difference is triple colon as </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># workhorse function undereath (written in c++) is hidden from users</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  ret <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">-</span> flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(t, ...))<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(start, ...))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  ret[t<span class="sc">&lt;</span>start] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  ret</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> <span class="co"># example of this function</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> <span class="dv">41</span><span class="sc">:</span><span class="dv">130</span>, <span class="at">start =</span> <span class="dv">50</span>, <span class="at">shape =</span> <span class="fl">0.10345</span>, <span class="at">rate =</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">11.0345</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<h1 id="inputs-to-synthesis">Inputs to synthesis</h1>
<p>Read in simulated patients from comorbidity model, age-sex distribution from the Istituto Superiore di Sanit√† (ISS report), the WHO global burden of disease life tables and the age distributions from the age models.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;converged&quot;</span>)   italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesConverged.Rds&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;unconverged&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesUnconverged.Rds&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;maximal&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/highest_cor_como.Rds&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/independent_como.Rds&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(italy) <span class="ot">&lt;-</span> <span class="fu">str_to_lower</span>(<span class="fu">names</span>(italy))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>italy <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(italy)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>age_sex <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/age_distribution_italian_deaths.txt&quot;</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>) {</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_coef.csv&quot;</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_0_5.Rds&quot;</span>)}</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_1.Rds&quot;</span>)}</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_male.Rds&quot;</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_men.csv&quot;</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>) {</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_coef.csv&quot;</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_0_5.Rds&quot;</span>)}</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_1.Rds&quot;</span>)}</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_female.Rds&quot;</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_women.csv&quot;</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>my_vcov <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(my_vcov)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(my_vcov) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(my_vcov)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>my_coef_vect <span class="ot">&lt;-</span> my_coef[,<span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_coef_vect) <span class="ot">&lt;-</span> my_coef[,<span class="dv">1</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>my_coef <span class="ot">&lt;-</span> my_coef_vect</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(my_coef_vect)</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/who_mortality_table.txt&quot;</span>)</span></code></pre></div>
<h1 id="who-life-tables-based-yll">WHO life tables based YLL</h1>
<p>The following uses the proportions in each age who died and the WHO GBD 2010 life tables to estimate the YLL.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>age_sex <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>age_point) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(sex, n) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">age_bands</th>
<th align="right">men</th>
<th align="right">women</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30-39</td>
<td align="right">14</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">40-49</td>
<td align="right">49</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">50-59</td>
<td align="right">190</td>
<td align="right">53</td>
</tr>
<tr class="even">
<td align="left">60-69</td>
<td align="right">607</td>
<td align="right">154</td>
</tr>
<tr class="odd">
<td align="left">70-79</td>
<td align="right">1847</td>
<td align="right">556</td>
</tr>
<tr class="even">
<td align="left">80-89</td>
<td align="right">1808</td>
<td align="right">894</td>
</tr>
<tr class="odd">
<td align="left">90+</td>
<td align="right">274</td>
<td align="right">334</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>age_sex_whole <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>age_sex_restr <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex, age_point <span class="sc">&gt;=</span><span class="dv">50</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Mean age</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>mean_age_whole <span class="ot">&lt;-</span> age_sex_whole <span class="sc">%&gt;%</span> </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>mean_age_restricted <span class="ot">&lt;-</span> age_sex_restr <span class="sc">%&gt;%</span> </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="do">## estimate yll using WHO life expectancy and age distribution alone ----</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(map2italy) <span class="sc">%&gt;%</span> </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">expected_remain =</span> <span class="fu">mean</span>(expected_remain)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_whole <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_whole <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_restricted <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_restr <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<p>The mean age for the ISS deaths was 77.4 overall and 77.9 when people who died aged &lt;50 were excluded from the calculation.</p>
<p>The estimated years of life lost obtained by applying the age distributions from the ISS report to these tables was 14.4 per person using the whole cohort and 14 after excluding those aged under 50.</p>
<h1 id="combining-samples-from-survival-models-age-models-and-comorbidity-models">Combining samples from survival models, age models and comorbidity models</h1>
<p>The following combines 10,000 samples from survival models, age models and comorbidity models to estimate the age, sex and comorbidity specific life expectancy and subsequently years of life lost.</p>
<h2 id="age-distributions">Age distributions</h2>
<p>The following shows the modelled age-distribution of the ISS data (based on the published counts of patients in each age band). The grey bars are for the simulated data and the coloured bars are the original data (assuming a uniform distribution within each age-band).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Sum conditions to Calculate comorbidity count</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>italy_count <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(italy)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>age_tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">comorbidity_count =</span> italy_count, <span class="at">age =</span> age_smpls)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="do">## spread ages along range of possible values to allow comparison</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age_bands, age_point, n) <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age_bands) <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>()</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>data, <span class="sc">~</span> <span class="fu">rep</span>(.x<span class="sc">$</span>age_point, .x<span class="sc">$</span>n))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>age, <span class="sc">~</span> .x <span class="sc">+</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">4</span>, <span class="at">length.out =</span> <span class="fu">length</span>(.x)))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> iss <span class="sc">%&gt;%</span> </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age) <span class="sc">%&gt;%</span> </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(age)) </span></code></pre></div>
<pre><code>## Adding missing grouping variables: `age_bands`</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>plot_ages1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">data =</span> iss, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> age_bands), <span class="at">alpha =</span> <span class="fl">0.9</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plot_ages1</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Here the above histogram is broken down by the comorbidity count.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plot_ages2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>))) </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plot_ages2</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="comorbidity-counts">Comorbidity counts</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>como_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> italy_count) <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">length</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Percentage =</span> <span class="fu">round</span>(<span class="dv">100</span><span class="sc">*</span> N <span class="sc">/</span><span class="fu">sum</span>(N),<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(como_tbl)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Comorbidity count</th>
<th align="right">N</th>
<th align="right">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">312</td>
<td align="right">3.12</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1670</td>
<td align="right">16.70</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">3065</td>
<td align="right">30.65</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">2722</td>
<td align="right">27.22</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1512</td>
<td align="right">15.12</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">558</td>
<td align="right">5.58</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">138</td>
<td align="right">1.38</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">20</td>
<td align="right">0.20</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">3</td>
<td align="right">0.03</td>
</tr>
</tbody>
</table>
<p>Here the above histogram is shown as small multiples having stratified by comorbidity count.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plot_ages3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> comorbidity_count) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Age (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Number of simulated patients (of 20,000)&quot;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>plot_ages3</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following is a check that the names of the comorbidities are the same in the samples from the survival models and comorbidity estimates. The comorbidity samples should have no differences (character 0) and the coefficients and variance-covariance matrix from the survival model shoudl be identical apart from the shape and rate parameters.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>name_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;copd&quot;</span>, <span class="st">&quot;demen&quot;</span>, <span class="st">&quot;diab&quot;</span>, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;h_fail&quot;</span>, <span class="st">&quot;hypert&quot;</span>, <span class="st">&quot;ihd&quot;</span>, <span class="st">&quot;renal&quot;</span>, <span class="st">&quot;liver&quot;</span>, <span class="st">&quot;stroke&quot;</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>name_cols_age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib:age&quot;</span>, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;cancer:age&quot;</span>, <span class="st">&quot;copd:age&quot;</span>, <span class="st">&quot;demen:age&quot;</span>, <span class="st">&quot;diab:age&quot;</span>, <span class="st">&quot;h_fail:age&quot;</span>, </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;hypert:age&quot;</span>, <span class="st">&quot;ihd:age&quot;</span>, <span class="st">&quot;renal:age&quot;</span>, <span class="st">&quot;liver:age&quot;</span>, <span class="st">&quot;stroke:age&quot;</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(italy), name_cols)</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">names</span>(my_coef), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(my_vcov), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<h2 id="design-matrix">Design matrix</h2>
<p>The following code multiplies the comorbidity samples, which is a prediction matrix by age to get age:comorbidity interactions</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>italy_ages <span class="ot">&lt;-</span> age_smpls <span class="sc">*</span> italy</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(italy_ages)</span></code></pre></div>
<pre><code>##      atr_fib  cancer copd   demen    diab  h_fail  hypert     ihd renal   liver stroke
## [1,] 75.1231  0.0000    0  0.0000 75.1231  0.0000 75.1231 75.1231     0 75.1231      0
## [2,]  0.0000  0.0000    0  0.0000 81.3903  0.0000 81.3903  0.0000     0  0.0000      0
## [3,]  0.0000 63.5433    0 63.5433 63.5433 63.5433 63.5433  0.0000     0  0.0000      0
## [4,]  0.0000  0.0000    0  0.0000  0.0000  0.0000 62.7283 62.7283     0  0.0000      0
## [5,]  0.0000  0.0000    0  0.0000  0.0000  0.0000 79.0432 79.0432     0  0.0000      0
## [6,]  0.0000  0.0000    0  0.0000 91.6941  0.0000 91.6941 91.6941     0  0.0000      0</code></pre>
<h2 id="sampling-from-survival-model">Sampling from survival model</h2>
<p>THe following code samples from the survival model to obtain 10,000 samples of the coefficients.</p>
<p>Check data are correctly aligned then obtain 10,000 samples.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">names</span>(my_coef) <span class="sc">==</span> <span class="fu">colnames</span>(my_vcov))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>surv_smpls <span class="ot">&lt;-</span> mvtnorm<span class="sc">::</span><span class="fu">rmvnorm</span>(<span class="dv">10000</span>, my_coef, my_vcov)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> (<span class="fu">colMeans</span>(surv_smpls) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">apply</span>(surv_smpls, <span class="dv">2</span>, sd) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">tibble</span>(<span class="st">&quot;_&quot;</span> <span class="ot">=</span> <span class="fu">names</span>(a), <span class="st">&quot;est&quot;</span> <span class="ot">=</span> a, <span class="at">se =</span> b))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">_</th>
<th align="right">est</th>
<th align="right">se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">shape</td>
<td align="right">0.097</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">rate</td>
<td align="right">-11.044</td>
<td align="right">0.048</td>
</tr>
<tr class="odd">
<td align="left">atr_fib</td>
<td align="right">-0.123</td>
<td align="right">0.101</td>
</tr>
<tr class="even">
<td align="left">cancer</td>
<td align="right">1.520</td>
<td align="right">0.076</td>
</tr>
<tr class="odd">
<td align="left">copd</td>
<td align="right">2.132</td>
<td align="right">0.080</td>
</tr>
<tr class="even">
<td align="left">demen</td>
<td align="right">1.717</td>
<td align="right">0.146</td>
</tr>
<tr class="odd">
<td align="left">diab</td>
<td align="right">0.935</td>
<td align="right">0.071</td>
</tr>
<tr class="even">
<td align="left">h_fail</td>
<td align="right">1.279</td>
<td align="right">0.109</td>
</tr>
<tr class="odd">
<td align="left">hypert</td>
<td align="right">-0.176</td>
<td align="right">0.065</td>
</tr>
<tr class="even">
<td align="left">ihd</td>
<td align="right">0.407</td>
<td align="right">0.107</td>
</tr>
<tr class="odd">
<td align="left">renal</td>
<td align="right">0.146</td>
<td align="right">0.084</td>
</tr>
<tr class="even">
<td align="left">liver</td>
<td align="right">4.059</td>
<td align="right">0.168</td>
</tr>
<tr class="odd">
<td align="left">stroke</td>
<td align="right">0.808</td>
<td align="right">0.094</td>
</tr>
<tr class="even">
<td align="left">atr_fib:age</td>
<td align="right">0.005</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">cancer:age</td>
<td align="right">-0.016</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">copd:age</td>
<td align="right">-0.020</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">demen:age</td>
<td align="right">-0.009</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">diab:age</td>
<td align="right">-0.010</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">h_fail:age</td>
<td align="right">-0.011</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">hypert:age</td>
<td align="right">0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">ihd:age</td>
<td align="right">-0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">renal:age</td>
<td align="right">0.001</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">liver:age</td>
<td align="right">-0.047</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">stroke:age</td>
<td align="right">-0.006</td>
<td align="right">0.001</td>
</tr>
</tbody>
</table>
<h2 id="estimating-the-linear-predictor-for-each-of-the-10000-iterations">Estimating the linear predictor for each of the 10,000 iterations</h2>
<p>Note that these multiplications are not matrix multiplications. They are element-wise multiplications of identically positioned elements in each matrix. Each part of the linear predictor is calculated separately, these are then summed to obtain the linear predictor based on the age and comorbidity distributions of the simulated patients.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="do">## shape parameter</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>shpe       <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;shape&quot;</span>]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Intercept (rate parameter)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>cept_lp    <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;rate&quot;</span>]</span></code></pre></div>
<p>The following shows the linear predictor for covariates without interactions by age. These are mostly positive, reflecting the fact that almost all of the comorbidites are associated with increased hazard rates for death.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="do">## This multiplies the covariate level (binary) with the simulated coefficeints</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> italy[,name_cols] <span class="sc">*</span> (surv_smpls[, name_cols])</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="do">## This adds these together to get the non-age dependent part of the linear predictor</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(non_age_lp)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(non_age_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following shows the linear predictor for covariates with interactions by age. All are negative, reflecting the fact that there is attenuation in the hazard ratios for the comorbid diseases with increasing age, as is common in chronic disease epidemiology.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Part of lp dependent on age</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ensure_matrices_match</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">paste0</span>(name_cols, <span class="st">&quot;:age&quot;</span>) <span class="sc">==</span> name_cols_age )</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Loop through the different age groups to get the part of the LP with age interactions</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>ages_lp <span class="ot">&lt;-</span>  <span class="fu">rowSums</span>(italy_ages[, name_cols]  <span class="sc">*</span> surv_smpls[, name_cols_age])</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(ages_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following sums the components of the linear predictor.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="do">## total lp</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>tot_lp <span class="ot">&lt;-</span> cept_lp <span class="sc">+</span> non_age_lp <span class="sc">+</span> ages_lp</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(tot_lp, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">12</span>, <span class="sc">-</span><span class="dv">5</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following transforms the linear predictor onto the rate scale.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>tot_rat <span class="ot">&lt;-</span> <span class="fu">exp</span>(tot_lp)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="dv">10000</span><span class="sc">*</span>tot_rat, <span class="at">breaks =</span> <span class="dv">500</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>), <span class="at">xlab =</span> <span class="st">&quot;Rate per 10,000 person-years&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAAAwFBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZpAAZrY6AAA6ADo6AGY6OgA6Ojo6OmY6OpA6ZpA6ZrY6kLY6kNtmAABmADpmOgBmOjpmOmZmkJBmkLZmkNtmtrZmtttmtv+QOgCQZgCQZjqQkGaQkLaQtpCQttuQtv+Q27aQ2/+2ZgC2Zjq2ZpC2kGa2tpC225C229u22/+2///T09PbkDrbkGbbtmbbtpDb25Db27bb29vb////tmb/25D/27b//7b//9v///+c9Io/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAR4klEQVR4nO3dD3/axgGHcTmNZ7q0a2aS7l/trms7K+vWxEq7zjjA+39Xk3SnfwgJHTodP9Dz3WctpiAJ8+SQDoKiLSAsOvUGAH0IFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNLmEOjmPrp+Mv++KX+o/ed/ffC9wneLKHpd/hjbNW7eRdHVX4ZdzCVXDz1bOWS7/T+20Aj009sXvp/EVZS6LdaeVlesPnMz5GK+lNe/vPj3nz50beWQ7Z7gsYU2u0Bb4sj7k5hE1dD369vIBppe+8P2YxTdDbhoNixT/rC7lUO2e4LHFtrsArU/fHyVvpp+9d5mkD2Nv34dRZ9VL7UvH/JnN43m+7fRi/cmtC/T7tbL6ObXV9HVN9uPi/RW1WrKBeSLtIkm6aVFvkbzx6PYhv6LZrPTVX71s7nc3srymlJ7U9u3OT8zDTTJR6fsySueRHuNTSkr7FV19fXTyvznNLs0UONV8+mvFtAM9OXPZvXp/bJX/WyH9ODFYomvipG4vZX7At3dVAI9D3bfzuzf5YFmo+DT9pd8R9G8DD4vbLe3+S7kzdMmLoq4fr/9X3qv3z1lN7rNA73N7ht9Y2+fqy+g9hL/8fWT/fOR39ms7uBFu8Tr/y6KWNtb2Xr5bm8qL/HnoR1o+vS9tC+e9km0T2VsBtXschqiCdTuBW5/++lVtoD0+jQS80/bVLWYbbFf8NBY/VGBbj/+uP3pQ2Px7a2saW8qgZ6HdqDmGrPHmT+JxV5AllZxudHa5u/FArLRd2v/WQVaX4CvQOtaW7kv0N1NJdDzsGcf9NNbs5/2o30STW/5q/tdcbkeaFb0y3/8tuwMtL6AyQJtrKQr0NqmEuh52DsP+um7V8XRxoAR1MSz7g708AjqfpBUN3wErW0qgZ6Hron6zbfVvlz3Pmj+rOdjVnmQtCfQw/ug5l+1bei52DZoH3R3Uwn0PLQDTZ/EP+av8/kxcfa8dh/FF8PS9dOn++590K6j+G1jcP2mmpLvv9jS3srmSrbbPZvavs35mWeg23flXGH+vmTfPGi5Y9d7kFSfB+0I1PWtzob2Vq72TNTvbGr7NudnpoFuf8n2QL98v7VvG72379H81dwhveoP71tH8S9/SNKrugKtLWB/oPlnSMqPhRy42HoMra0srim1N7V9m/Mzh0CPtP9oBWERaFucf1YuHR33vtgiKAJts29mn8EBRrGlZ7GxxyHQPT59vbCfdRJHoMBpESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESikESiknSLQKOKPBQY6SaCPBIqBCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSCBTSThUoHxjBICcLlFEUQxAopBEopJ0o0IhAMciJAn0kUAxCoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJBGoJDmlsnmPsq9+DBqnQSKoZwySaJbc2FVXDhunQSKoVwy2dyXWSbXTyPWSaAYyiWT9fKuuLga8yJPoBiMERTSHPdB7RDKPigCcctkvTRH8WPGTwKFA+ZBIY1AIY2Jekhjoh7SmGaCND8T9VFp0DoJFEN5HkEJFH55nqgnUPjleaKeQOGX50wIFH4RKKS5ZRJH0U0+WX/XcQMChV9uB0npvmcc3WT7ohwkIQjnaabV1cOWaSaE4jxRb6bouz5RT6DwixEU0o7bB629p3TE4ggUg3EUD2nMg0IagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagUIagULaCQMd9oX2mLcTBkqiOOykgfIyj0MIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNIIFNLc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" /><!-- --></p>
<h2 id="estimate-the-survival-at-each-time-point-3-monthly">Estimate the survival at each time-point (3-monthly)</h2>
<p>The following uses a function from the flexsurv package called by summary.flexsurv to obtain survival probabilities at each follow-up time. Where the time is before the patients age at baseline (in this case the age at death in the ISS data) the survival probability is by definition one.</p>
<p>In this function all notional patients have the same shape parameter, but have patient-specific rate parameters. This function is not vectorised with respect to the rate and shape parameters, but it is nonetheless very fast.</p>
<p>For one simulated patient in the ‚Äúlow‚Äù SD age group the rate and age variables are such that the function returns a missing value, this is the only sample that does so. Presumably there is a numerical reason in the internals of the function. Give a warning and drop from the summary function at the end. Return an error if there is more than one missing. Only occured in most recent set of simulated patients which is a fresh simulation.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>times_vect <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="fl">0.25</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>tot_surv <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>){</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> times_vect, <span class="at">start =</span> age_smpls[i], <span class="at">shape =</span> shpe[i], <span class="at">rate =</span> tot_rat[i],</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  tot_surv[i,] <span class="ot">&lt;-</span> <span class="fu">t</span>(a)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">is.na</span>(tot_surv), <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(tot_surv_na)</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">any</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">sum</span>(tot_surv_na)</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>) <span class="fu">warning</span>(<span class="fu">paste0</span>(<span class="st">&quot;The SurvGomp function returned NaN for &quot;</span>, tot_surv_na, <span class="st">&quot; simulated patients&quot;</span>))</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">5</span>) <span class="fu">stop</span>()</span></code></pre></div>
<h3 id="the-following-plots-show-the-survival-distribution-for-a-random-sample-of-3-notional-patients">The following plots show the survival distribution for a random sample of 3 notional patients.</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">1</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(times_vect, tot_surv[i,], <span class="at">xlab =</span> <span class="st">&quot;age&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;survival&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;Age &quot;</span>, age_smpls[i] <span class="sc">%&gt;%</span>  <span class="fu">round</span>(), <span class="st">&quot; years&quot;</span>))</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<h2 id="survival-distribution-for-all-patients-stratified-by-age-and-comorbidity-count">Survival distribution for all patients stratified by age and comorbidity count</h2>
<p>The following figures show this for all patients according to age, and comorbidity.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tot_surv)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(surv_all) <span class="ot">&lt;-</span> times_vect</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all[ , times_vect <span class="sc">%in%</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">120</span>, <span class="fl">2.5</span>)]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pt =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span>  surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> italy_count,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> age_smpls) <span class="sc">%&gt;%</span> </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="st">&quot;times&quot;</span>, <span class="st">&quot;survival&quot;</span>, <span class="sc">-</span>pt, <span class="sc">-</span>comorbidity_count, <span class="sc">-</span>age) <span class="sc">%&gt;%</span> </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">times =</span> <span class="fu">as.integer</span>(times),</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">comorbidity_count =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(pt, times)</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&lt;=</span> times, times <span class="sc">&lt;=</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_bands =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>))) </span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>plot_surv <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(surv_all, <span class="fu">aes</span>(<span class="at">x =</span> times, <span class="at">y =</span> survival, <span class="at">colour =</span> comorbidity_count, <span class="at">group =</span> pt)) <span class="sc">+</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_bands)</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>plot_surv</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="calculate-life-expectancy-mean-survival-for-each-patient">Calculate life expectancy (mean survival) for each patient</h2>
<p>The following sums over the distribution of survival on time to obtain the mean survival, which is the life expectancy.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x <span class="sc">*</span> times_vect)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>le_check <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(le_check <span class="sc">==</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(le,  <span class="fu">paste0</span>(<span class="st">&quot;Data/&quot;</span>, params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation_como, <span class="st">&quot;_le_pre_offset.Rds&quot;</span>))</span></code></pre></div>
<h2 id="offset-life-expectancy-to-allow-for-the-fact-that-the-le-in-wales-is-lower-than-the-who-levels">Offset life expectancy to allow for the fact that the LE in Wales is lower than the WHO levels</h2>
<p>The following corrects for the fact that the intercept-only life expectancy from the models in Wales are slightly lower than those in the WHO GBD life-expectancy tables. The Wales life expectancies are multiplied by between 1.07 and 1.02 depending on the age.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>who <span class="ot">&lt;-</span> who <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">who_ratio =</span> who_remain<span class="sc">/</span>expect_remain_years,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">who_le_ratio =</span> (who_remain<span class="sc">+</span>age)<span class="sc">/</span>(expect_remain_years <span class="sc">+</span> age))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(who<span class="sc">$</span>who_le_ratio)</span></code></pre></div>
<pre><code>## [1] 1.050812</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>){</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.07</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.06</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>){</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.03</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.01</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> le <span class="sc">*</span> who_offset</span></code></pre></div>
<h2 id="years-of-life-lost">Years of life lost</h2>
<p>The following calculates the years of life lost from the age, sex and comorbidity defined survival and the age and comorbidities at death from the ISS data.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>yll <span class="ot">&lt;-</span> le <span class="sc">-</span> age_smpls</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(age_smpls, yll, <span class="at">xlab =</span> <span class="st">&quot;Age (years)&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(yll, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlab =</span> <span class="st">&quot;Years of life lost&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Number of simulated patients&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="compare-yll-using-who-tables-and-comorbidity-based-assesment">Compare YLL using WHO tables and comorbidity-based assesment</h2>
<p>Among those over 50 for which both methods were used, the WHO tables based estimates of YLL, and our estimates which additionally accomodate comorbidity, yielded similar per capita YLL; the values were 14 and 11.47 respectively.</p>
<h2 id="yll-by-age-and-comorbidity">YLL by age and comorbidity</h2>
<p>The following shows the distribution of YLL by age, sex and comorbidity by age categories.</p>
<h3 id="table-yll-per-capita-by-comorbidity-count-and-age">Table YLL per capita by comorbidity count, and age</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>yll_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">yll =</span> yll) <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> <span class="fu">factor</span>(italy_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> <span class="fu">round</span>(age_smpls),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">age_cat =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>)))</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>yll_smry <span class="ot">&lt;-</span> yll_df <span class="sc">%&gt;%</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(comorbidity_count, age_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">yll =</span> <span class="fu">mean</span>(yll) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> comorbidity_count) <span class="sc">%&gt;%</span> </span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(age_cat, yll)</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;comorbidity_count&#39; (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(yll_smry)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Comorbidity count</th>
<th align="right">[ 50, 60)</th>
<th align="right">[ 60, 70)</th>
<th align="right">[ 70, 80)</th>
<th align="right">[ 80,110]</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">35.46</td>
<td align="right">25.99</td>
<td align="right">17.49</td>
<td align="right">8.97</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">32.12</td>
<td align="right">23.37</td>
<td align="right">15.75</td>
<td align="right">8.04</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">26.88</td>
<td align="right">20.40</td>
<td align="right">13.75</td>
<td align="right">7.28</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">21.52</td>
<td align="right">17.08</td>
<td align="right">11.61</td>
<td align="right">6.37</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">17.51</td>
<td align="right">13.33</td>
<td align="right">9.79</td>
<td align="right">5.40</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="right">14.70</td>
<td align="right">10.25</td>
<td align="right">8.04</td>
<td align="right">4.57</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="right">9.77</td>
<td align="right">8.25</td>
<td align="right">6.59</td>
<td align="right">3.90</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="right">9.19</td>
<td align="right">8.87</td>
<td align="right">4.43</td>
<td align="right">3.71</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">4.92</td>
<td align="right">3.24</td>
</tr>
</tbody>
</table>
<h2 id="plot-distribution-of-years-of-life-lost-by-age-and-comrobidity-count">Plot distribution of years of life lost by age and comrobidity count</h2>
<p>Plot distributions of YLL overall, then stratified by age, with colour indicating the comorbidity count.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>plot1_yll <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(yll_df, <span class="fu">aes</span>(<span class="at">x =</span> yll,  <span class="at">fill =</span> comorbidity_count)) <span class="sc">+</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">&quot;Number of simulated patients&quot;</span>) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>plot1_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>plot2_yll <span class="ot">&lt;-</span> plot1_yll <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_cat) </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>plot2_yll</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAABYlBMVEUAAAAAADoAAGYAOpAAZrYZGT8ZGWIZP4EZYp8aGhohkIwnrYEsco4zMzM6AAA6ADo6AGY6OmY6OpA6kNs7Uos/GRk/GT8/GWI/P4E/gb1EAVRHLXtNTU1NTW5NTY5NbqtNjshdyGNiGRliGT9iGWJiP4Fin9lmAABmADpmAGZmOgBmOpBmkJBmtrZmtv9uTU1uTW5uTY5ubo5ubqtuq+SBPxmBPz+BP2KBYhmBgZ+Bn4GBvdmOTU2OTW6OTY6Obk2OyP+QOgCQOjqQOmaQZgCQkDqQkGaQtpCQ27aQ29uQ2/+fYhmfYmKf2dmq3DKrbk2rbm6rbo6ryKur5OSr5P+2ZgC225C22/+2/9u2//+9gT+92dnIjk3I///Zn2LZvYHZ2Z/Z2b3Z2dnbkDrb/7bb///kq27k///r6+vy8vL95yX/tmb/yI7/25D/27b/29v/5Kv//7b//8j//9v//+T///+yzp16AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2di3/cxnWFVzb9kK1QqqUkfqzkKElFpw/Kcei0qdyadBu7pSLLscWmkvXkWrJdiikpcv//4uK1AHYGGAAz987snPOztQRmLzjnzscZPAeTOQR5rIl0BSCoTQAU8loAFPJaABTyWgAU8loAFPJawwDdj0DxWfVSAFSn+Kx6KQCqU3xWvRQA1Sk+q14KgOoUn1UvBUB1is+qlwKgOsVn1UsBUJ3is+qlAKhO8Vn1Uv4B+vDsa98mH/fOnj376q39x7/MFlM9+fjsKzf283WP3v5Wuw0b4rNas5WJ3J89e22f1aqX8hDQ19OPm9fo3ycfX9u/93pRlKx7+Nq3xbp777isBgugpdWKrUUpt1Uv5SugT35/gz4e//rW/qOf38pKaKGyLl90JTarDVuFHv/qBrNVL+UroMnYRkMcDW7UUqkevf3PNBaW67JO1pXYrDZt5aKek9eql/IV0Ec/u0G9aDLMVQD9aUpsuc7twMdntWErU/ojr1Uv5SugqW5ea/Sg6UK5blUAbdjKy+iAideql/Ic0Po+6N+mzVWuWxFAm7Yy3SRzvFa9lK+AUgfy5J9uPfn4nfpRfNKnlOtWZB+0aStVdpDIa9VL+QoonQmsnPPMepZk4dVb5QnDVTmK36/ZKqxmgz2rVS/lLaB1/UnRQCtzHrQuOateykNAK5eOCj35w/L3VudKUk2CVr2Uf4D6oviseikAqlN8Vr0UANUpPqteahigP+Qqf1iStiSYkFCsWtiYPZzsC4DqCkKxCkAV4siadEgoVgGoQhxZkw4JxSoAVYgja9IhoVgFoApxZE06JBSrAFQhjqxJh4RiNV5An02n0ysP5i8+mb7//bz4yMSRNemQUKzGC+j9bfr39Pb2/Nkvio9cHFmTDgnFarSAnn51hz5e/NuD+dFvH+QfeRlH1qRDQrEaLaDJmD6dbs+Pfvf9/MW/3sk/kvU/ScRXPyhy6QE9+vAO9aLP30/JzD/yMo4/a+mQUKxG24Omur+91IOSOLImHRKK1dgBxT6oZCV4NuYSsLHSA0qD+umfH5ze3sqO4rdwFM9fCZ6NuYZsjNrPg16+M8d5UMlK8GzMMWOjhCtJuoJQrAJQhTiyJh0SilUAqhBH1qRDQrEKQBXiyJp0SChWAahCHFmTDgnFKgBViCNr0iGhWAWgCnFkTTokFKsAVCGOrEmHhGIVgCrEkTXpkFCsAlCFOLImHRKKVQCqEEfWpENCsQpAIUhO6EF1BaFYRQ+qEEfWpENCsQpAFeLImnRIKFYBqEIcWZMOCcUqAFWII2vSIaFYBaAKcWRNOiQUqwBUIY6sSYeEYhWAKsSRNemQUKwCUIU4siYdEopVAKoQR9akQ0KxCkAV4siadEgoVgGoQhxZkw4JxSoAVYgja9IhoViNGVCatRYzi0hWgmdjTgkbqVZAn023McOyaCV4NuaUsJFqA/Too0+3McOyaCV4NuaYsVFqAfT0q29uY4ZlSFZts9tt0biOGZYlK8GzMdeQjVHLFOC/+/5U1YOSOLImHRKK1WgBpdckTadb2AeVrATPxpxTNkKdp5kww7JkJXg25pSwkcJ5UF1BKFZjBlQrjqxJh4RiFYAqxJE16ZBQrAJQhTiyJh0SilUAqhBH1qRDQrEKQBXiyJp0SChWAahCHFmTDgnFKgBViCNr0iGhWAWgCnFkTTokFKsAVCGOrEmHhGIVgCrEkTXpkFCsAlCFOLImHRKKVQAKQXJCD6orCMUqelCFOLImHRKKVQCqEEfWpENCsQpAFeLImnRIKFYBqEIcWZMOCcUqAFWII2vSIaFYBaAKcWRNOiQUqwBUIY6sSYeEYhWAKsSRNemQUKwCUIU4siYdEopVAKoQR9akQ0KxCkAV4siadEgoVuMF9Pl0euUBJm4QrQTPxhwzNkotk4f99kFl5lpMYCtSCZ6NuYZsjNqH+MWsYZg8TKQSPBtzSthItQOa9JmYwBaSVOsU4Ncv38EEtqKV4NmYY8ZGqb0HXXSdmMBWpBI8G3NK2Eh1nGa6v419UMlK8GzMJWBjpQc0H9Qxga1kJXg25hqyMWp7icJ0muyD4jyoZCV4NuaYsVHClSRdQShWAahCHFmTDgnFKgBViCNr0iGhWAWgCnFkTTokFKsAVCGOrEmHhGIVgCrEkTXpkFCsAlCFOLImHRKKVQCqEEfWpENCsQpAFeLImnRIKFY9APTw/G7t8+Clu/TjX//Se0vLIQBUVxCKVY8ALZQAqlg7YENzAKovCMUqAIUi1cnOZLK2+Dw8/8X6ZHLxMPlnc7Hywh8nL/33+c8nk5efpnwdb0zOfE5DfPrlPYqfrek3uZv+k317kzZ9sVEJ9KC6glCsOutBT3bWEtw200/6/3A9YXBGIM5eurtYSZwlJenC+d3jjYtJULoPSvRRX3qys6ndZAHoerZVDPEAVFWibuTKIU923LO+SSxupiXKlcX6WQko0Xh44a52kyWg5QYAqGlBKFadAZrtSSafSe9W0lP8U19JCCYsJguzdP2FAlAa3isjvG6TtU8AalYQilW/AT288D+LER6A2gwJxar7If7Mbm08zgBVrawO/TltJzv/sBjhtZsEoANCQrHq9CCp+n+NxfrK6kHSWnGQRPufyRg/WdNvkg6pTnbOlIBmIQDUqCAUq+7Og2rOCWX/1Fd+Xi6Up5l253vpuvVN/SbndGLpHz9Y7D3sVXEGoK0FoVh1B6gVVY7hBwmA6gpCseo5oLPmmfeeAqC6glCseg1oegY+HchJZ3pf+wSg+oJQrHoN6HgBUF1BKFYBqEIcWZMOCcVqvIAeXZ9OtzGziGgleDbmmLFRqgF6vLF5vDHJL0fRXHZHH97BDMuSleDZGB9u/VUDdG+NbkTJL+4/Jxwxu51sJXg2pkbjR7XccKhVFdCkA6XrT8UV/bl6flDMsByJfnxXJWFA6eLoAlCacxEzLEtWgmdjajT8A/Rk5yLdZrJXXA598cnWfHmOehJH1qRDQrEaEaB0xn9tvkfn/klH15Nj+Dn2QSUrwbMxNRoeAlpTxuccMyxLVoJnY2oA/AM0vxsv3wd9NiVt4zyoZCV4NqZGw3dA28SRNemQUKxGA+hsUqh5z+iyOLImHRKK1WgALXtQA3FkTTokFKtSgB5vTIrDaZfCzSK6glCsCgFK0zHMusfa0WqeZiJhHzRdDsSqEKDHv7k7+nEOE9VP1Jv+RXBkTTokFKtCgB6+9XR+/MGAW+R7CvuguoJQrAoBSnMvcANameWpQxxZkw4JxWpEPajJGdBMHFmTDgnFakT7oMcbExwkLZYDsSp2FH+R/yjeWBxZkw4JxaoQoH6fB4UikH9XktLLnZszg78Ljj9r6ZBQrEr1oEyqP5P08nfZUx9d4siadEgoViMCNH3kYxN3M+XLgVgFoApxZE06JBSr7gD17qnO+YyGeHpurkscWZMOCcVqTIDOD+g0qMF8eRxZkw4Jxao7QN9TyZ9nktrEkTXpkFCsAlCFOLImHRKK1VgAzeZlwqXOxXIgVmMBtJc4siYdEorViADFU5215UCsAlCFOLImHRKK1WgAxWPHjeVArEYDqOKRj3QyJswsIlgJno2p0egElON+5daDpOfTKw/mmGFZshI8G1M3fxegBwane8ar5bHj+5e/TnpQzG4nWQmejanR6AB078wX3D3oyc7Fk53NykBPRGKGZUei1lYveCL/hnhCc+9i9jLvVAQoZlh2VAlq7XJFsRBQDyoE6Kw6R72yByVxZE06xLXVGqCXEhUI0DLdedlnYwN+f3VRKf8Apcm/EzpntR4U+6COKkFMlisAqE41QOlR0r3KKz+JSMyw7KgSBZPpiiag9FmHFIAqhPOgDqwSiwDUWLhZRFfgymoV0HKYDxJQFi09djyZGEzQxJE16RBXVrWAVrvUKqyWf7+iRN3IHgI6o+N3PJOULzuwWnCoBbTakwJQEu5m0hW4sKoCdEkAtCoAqiuwbbXg71wiamn/AfXvqU56ESKG+GLZstUqoFo4AWhTqukXux9L4siadIhtqwWc4QCqrB2eSfIlxKLVsucEoL0FQHUFFqwWLJ5rqhXQKqRWHWlL1I0MQP0OsWB1CcwqoK2gAtBCAFRXYMFqJ6BaSGuAppeUAChkXUaAasd9ArSc9VCg9iED2vtvdMCftXSIBavjACWlcBakjnWkLVE3smeAmp9jmgNQwy2+kYjQe6P4oVVtQ31jh3SYI22JupE9A5SUX4vvvlukdwoGZE06ZIRVwu2HHNBSqwYoPWFp+uK3EcKlTl3BCKsxAEpvmTs8L/KuTgCaLQ+3Sjz+YBfQ6sJQR9oSdSO3A3pA88/sue9CcbudrmCEVSWgnaAaA9o4YJLbB2V/V2c2BThuWM6Wh1utHRy5AbQCqRig9Aibc+E0k65ghFUlmKOG+iViPQDUZKgdLwCqKxhotRXOwT2pElJrSVA3cudRPMMxfDivQlQfxXoK6Ju5HAOaj/MygDLxGcyrECk37n9LbXmY1SqgwyGtgdqk1gtAs+lkeY/ifX7TXJGfcmXapXb9ljEnZQZYbcI5DtCSSx2g+TgvdxTPIY8ApXaofpY/UDu0divVrbzXVHE1u2/FBlhtwmkEaQ9SVUN945C+zZG2RN3I/gHa+ipE6zOLlGgV+aeGqn7WbkhTAlqItlI9H7PcjE4BLTHTAWpGKTnRwqoFtOUy0+oB2vIqxPEzLFMjVTvJEq1m4ygbqVjZZLPcSg1cbTMWBCuadjigV0lUQfokm8Vn8+c3C4qH9aZKYOICVK9Bs9uVLUQLXyZqttxVVcspm7ParCWx2iYtO+FLBk9RkqjGzQs0RlavqlRYrUnVo7bCqgW15sghoB4+1am/Fo8ZlqNTWIBihmWRSvBsTI3Gj8qu29f3JGGGZZFK8GxMjYZvgLbfqowZlkUqwbMxdZP7B2ibMMOySCV4NqZucg8Brb8nqS7MsCxRCZ6NqdHwD9Cl9yRpxZE16ZBQrEYE6NJ7krTiyJp0SChWIwO09p4kKGb5B+jSe5KgmNUB6IHJBArj1fqeJChmtQNK76CZdd85PFqYmwnSqHuI53hREgCFNOoGlLUH7TU3ExSBugA9XOfYGUQPCmnU3YPyT9wAQaUMTjMxT31TjPLdQ/x+BIrPakPtgNLlHJke1OS3SmeUQ/FZbaijB51NWE5IKoZ4g0ud0hnlUHxWG/LwSlImg0ud0hnlUHxWG/IW0D30oKT4rDbkH6D5QZLBnoV0RjkUn9WG/APUXNIZ5VB8Vhvy76lOc0lnlEPxWW3IQ0DbHvmoyWW2Hp597dv9/XtnSdf2H/8yXcz06KdnX721n6979Pa3+o1YkHOrmdG6qUyPfn6r/EjXP/k4SYU7qRv5R+V0ErKPfJhe/HeYrP2Hr5c/Uctc279XrHj8qxv79xbr7r3jshoMgKa+GqbSgpTY7KNYfxOAmr0hKZPDZC0ApaZ7/OtbRX+yn/aZyYpiHX06lHOrmdGGqUQ3X/kX+iH7KNYD0Dn1oF4BSh1H2nwJqKnyzqZc57TRmHvQmtHKEF+sB6Ak46eRHCarBDRtrmSUX7TbfrafVq5zO8Y7t5obbZgiVQAt1gNQkh8HScWeGB0z1DuWn93Yf/jqrXLdSgDaNJWuQw9aqvFcvGGUw2SVgN4k/Gr7oHlvUq5bCUCbpkgVQLEPWvnZq4OkJ7+n7uTJx+8sjuLzzqZctxL7oE1T6boFoMV6ADr37CApH+/yc55Ziz08e/aVG+Upw9U4iq+byowunQf1E1BzXkaovg9q+pSew2RVzoNW9CcFi6txHrQhlVGSj4DO+F/H7cMd9Q8rl44KPfnD8vdW5UpSTSqjtNrHK0mHf/N33D2osRwmyxvFZ7WhDkBPPvsv9iHeWNIZ5VB8VhvqAHR2kXcfNH2Llw9DvC+Kz2pD7YAevvWU/yDJWNIZ5VB8VhtqBzR7pYH7F3Ljddy6glCsupsftOsonr8HzYZ5gwvyHFmTDgnFakyA7q3NZy/dNZgSiiNr0iGhWJUDlEWNS510z7KXr+PmDwnFalyA0quOAWi2HIjViAA92bl4cGaXBvoucWRNOiQUqxEBSveDrpnM2+B/qwHQPiHqRvbwqc66nk2n0ysPijd44UVeEpXg2Zi6/b0H9P42/Xt6e5vegZh/5OLImnRIKFbdAdp8w30qfwA9/Sp9t3H+Flm8TFa/xXdJbirBszE1AL4Dmozp0+l28R7uxeu4f5KIr34hKAVUuhL25TugRx/eoV70+fspmflHXsbxZy0dYm4VPahD1e9mWrp0dX97qQclcWRNOsTcKgB1qE5AsQ/auUUA6lCLIX7WeE8SDeqnf35wensrO4rfwlG8JvA9kptK8GxMjYZvgC49dvxsOr18Z47zoJ1bBKAOhftBdQXmVuMEdMbzTsI6oDPDu6Q5siYdYm41TkAZXuJFqgE6o78IuqGpSxxZkw4xtxoloCef8by1XbEPitvtsmVjq1ECmj5hyT5xAwCtLBtbjRLQw/O7LL0ohnhdgZlVOgUaJaCpmF8mi4Ok2rKRVQDqWDjNpCsws/peITeV4NmYupHbAaU3up78O/dpJlNxZE06xMxqtIAKvu3YQBxZkw4xsxovoEwCoLoCM6sA1LGGAQoVKgGVroh9+Qeo+VQmHH/W0iFmVtGDOtawlyhwZE06xMzqKgPq31OdM4NH4lNxZE06xMwqAHWsYXPUc2RNOsTM6ioDelWlMA6SOLImHWJmFYA6FgDVFZhZBaCOtXQtftNkR5Qja9IhZlYBqGPVJ7B9+btsitAucWRNOsTMKgB1rKX5QTdxP2i+bGSV2LxEUjx6DEAtCIDqCsysAlDHapwH/S6bZLlLHFmTDjGzeqmQYpgHoBZUP0g6wA3Li2Ujq/ECerIjf7sdTQqKiRta4+IFdG8zvWnZtVoBfTbdxgS27XHRAnr8G/d305MUQ3x5x8jRR59uYwLb9rhoAT186z/4h/j6U52nX31zGxPYdqgGqHRl7KoD0PVNeqGs81q0PBf/bIvGdUxg2xoXcQ/6dH78Ae9z8XVAkz7zVNWDkjiyJh1iZjVaQI//nh/QDM3itmV6C810uoV90Na4aAGlo3jWIb64GbR6Pyj1oJjAtjUuXkDN3os9WjgPqiswsxovoEzC/aC6AjOrANSxmu/qxCMf5bKRVQDqWPXHjrvvBM3EkTXpEDOrANSx8NixrsDMKgB1LEzcoCsws7rKgHr32LHJrcqZOLImHdJtle5RXmVAv1QJB0m+hHRbBaAMqg/xBvcqp+LImnRIt1UAyiAcJOkKuq2WzyMBUHfCQZKuoNsqAGVQfR/0Ag6SFsudVgEog4ZNHgaRlgCVrpBd+QeouTj+rKVDuq2iB2UQANUVdFuNGtD0lVoM70LE/KC6gm6rUQNKknns2OQ+fo6sSYd0W60BSrJfCZ6NqRu5E1COJz5UQ7zB3wVH1qRDuq3GDujM9Oa3MVIBiiE+Xe60GjmgLB2oCtA99KDpcqfVyAHl2ANVHiQZzBfBkTXpkG6rkQO6Z3rnxijhNJOuoNtq3ICefMYxwgNQbUG31SVAq5PYaqYF71mJUSVuAeXZBW1/Ll4ra1mrNikADQpQJi33oHsGM9hayxoANSwAoLmON0zm1LOWtWozBgfopaYAqH01AD2YLM4dPJ9OrzxwN7PI0gtcACgAXVYd0L3J4uIATRW2mFrZ/gzLKwho4abl3Un26x0RoCc7zbtTFtPa2ZvdrtmKAHRcvd0B6ttjx4frS4fvSZ9pfYbl4s7eEtAxGxOVElAqCN5Zqh//VyU5QGeT5rX/o+uX79ifYbloybB70KUj+BXsQf0CVHkedNF12pthebUAPZdoCdDqz87rHQugat3ftr4PugRocewLQAHosvSA5oO69RmWIwJU8f5O+/WOFlCapD7ZB7V+HnTFAS2mGwGgdsR/s0jRepeazQhAAeiyeAEtmrUGaDEwrgagVYva/VAAaixeQKstueKAth4orQKgh+vyb/nQamjWAKj9egsBSreDzqTfdqzV0KxdagqAjq63EKDpqxAZ3njsCaB0OAFAQwI0sh4UgA6ut9Q+6PHGhOOxTgCqK2i3Gj2gh+d3zd9pMEIAVFfQbrUwsARo053zegsBSk/Fs7/t2FhDswZA7dcbPahCQ7O2moCeKyiNCdD5gdEUH6M1DNCh0gJKYq3JWBkDKl3R4Yr5SpIa0NE9gdWQdqvoQZkEQHUF7VYBKJMAqK6g3SoAZZIwoFVIASgAXRYA1RW0W40BUN8eO+6hoVkDoPbr7QxQP8QLaO20dvCAnqtK96fnvN4AVKGhWQOg9usNQBUamrUIAK3+DEDHC4DqCtqtAlAmAVBdgd5q8eAmAGUQP6BLkAYHaHGwDkAZxAcotRYAtV/veAE9uj6dbtubWaTapADUXr2jBZTmsjv68I61GZZXB9AqiwDUsVomDyMcLc5uB0Dd1DtaQEmq+UGHzrDcDWgo6gWodGVDVyugNOeitRmWV6sHPdcUelA3agP0xSdb8+U56klDsqYFtOxrRifaaojeKgBlVOtRfHIMP3e/D1o0Zf/JCn0CtLAFQO1KD2jG59zaDMsRAVr8DEDHSw/osylp2/15UAA6qt7RAtqmIVkDoG7qDUAVGpK1ZksCUDv1BqAKDclahICSlK4AqLF4AK3eKKIFtH9/A0DtbMweTvbFA2izSQGovXoDUIX6pqAT0GF7bADUzsbs4WRfAFRXoLdadfNGIgDqUABUV6C3CkAZBUB1BXqrVScA1LE8BfTdarsGDajyzw6AGstTQGuH9AB0WEnEgPZVE1AlpMXtvcUpJ2/v9e0NqHSFQ5ZMD6oFlL5cAsrReegL9FbRgzKKB9AmnEpKASgAXRYA1RXorQJQRvkMaHEkHwygKmcAdJw8A5SYBKCWSgBo5IC+kQuAOpRngNYEQMeVAFAACkBdC4DqCvRWASijPAS0/BmAjisBoOMBbTYlALVYAkCNUkCtBEDd1RuAKtQnBVVAlc2pBbRo2yABLZwB0HFqBTSdjGnEzCKXmnBGCui7zbuWAaix2gB9Pr3yYD5mhuVaaxkBunRE77pt9AV6q1U3ANSxWgC9f/nrpAcdM7tdP0CVp5xct42+QG8VgDKqc4gfM8OyBUDHO7SvN1TqBFS61oGqE9AxMywvwdkf0LRpHXYe+gK9VS2gTXvoQcerfw9KMkwBAAWgY9UJqJV90NUBlOrUG9Byb9pFvWMHdMwMy+aAKkH1EVCqVy9AS0hd1Tt2QMecB7UAaHqg5LBt9AVqq1pAVRYB6Hg5vZJU61oAqJt6A1CFDFMAQAHoWHkAaLM5AagjR9oSezjZFwDVFaitAlBmuQdU13oA1E69AahChilYQUCb4wEAdSwAqitQWwWgzOIHVAspAAWgy3IGaGtLmgFatK2vgL6ZCIA6FgDVFaitAlBmeQSodpjXvoLOA0CVkAJQe3I2w7IWzmGAuqpmXw0HVLrmgcpZD9oKqJZU9KAOHWlL7OFkX04BVTdfV1fqNaDVytcArVoFoPYEQHUFaqtVFgEog9wDWm1OAGq/3gBUoY4UNMfAEYC2QyoHaFUA1KGEAVVBGj6ghSsAOl4eAtpjmAegVjZmDyf7cgZosxX1B0zBA6q0twSo0dtHAWhTTgDVtqASUmrKJqhLgDb7IFttoy9QWzW2VnUCQIcLgOoK1FarTq4mMgI0FQAdJH5AlZCuBqBVawDUjqwDWm29q8omNAF0+SyNR4AWrvoBWnUAQI1lDKjpxA3V1tMCqoTUe0CpTjVrVasA1I1MATWewPZqU4OHeS8BVblTAroEKQAdJFNAjScP+zLREqStsHZC6gug1d7zy1xKewDUnkwBHTSBLQSNlSmggyawHfVnLR0SilX0oKkGTWA7KmvSIaFYBaCpBk1gOypr0iGhWAWgqQZNYDsqa9IhoVgFoJmGTGA7KmvSIaFYBaAKcWRNOiQUqwBUIY6sSYeEYhWAKsSRNemQUKwC0BYNOGMfaogXlZD8NUICoIYhXlRC8tcICYAahnhRCclfIyQAahjiRSUkf42QnE0eBkE2BEAhrwVAIa8FQCGvBUAhrzUC0NrtI0aqvj3ZLOD6dLrdL+T5dHql52/JnrhqC/HTqhuvnmk4oPXH6Ez0nNLZJ4zukD768E6fEAIjfb19r8o9S9hoCfHTqhuvvmk4oPVbmA10//LXydf7hD2nHN7f7vubku/2Czn66NPttor5a9W+V980HND6QyBmIUlO+oYl3+0bkvQNvUJOv/om6VFaQvy1at+rbxoOaP0xOiNRq/UMozv5+4UcXb98p1/Isy0a8lpCfLXqwqtv8rwHffHJVv/f1LMnSr576kEPOsiqfa++iXEfNGu1XmFH17eH/KZ++3LPpqQtm/ugfFate/VNY47it/oeCVJO+oRljdYrJB+8elaOepWWED+tuvHqm7w+D5r9vW/3+k1JTLJfFtx50CFW3Xj1TLiSBHktAAp5LQAKeS0ACnktAAp5LQAKea1oAD3Zeelu8nG4vmYeM5uc2aWY87vJf8VSIVrV1F//MraaUEPRAJqgeTH5d+/lp8YRxxubWWSKYrFUbm8ZUBWz0DjFA+h8lnShh+ub3V8sVPCWfTbpA6AsigjQ4421+R4N8Cc7kwmN94frk8nk4vzwwh+TxXQhp5e+sJYWp/sD6RD/RbpUhGZr8y/mW9qkfy8KmVtZRQTo/ODMF9TFnewkTM1efpqO2TNCcy3v/PL+lb5A/1d60Hw3tAjN19a+mASjB7WvmABN+jvq4A6oC0zo/D/ijMgjLA8v3C2/l34h+WcZ0CI0X1t+8cKiU4XsKiZAM76So/FUCasHyceZ3QyrvXw8p69RF5kjSVoAugjNAM2/WAQDUPuKEdD8QP5448xulcPjjXz3sgXQyjmAKqB5MAC1rwgBPchPZ6Z4HZzZXWCVD97pF9RDfOVMKAGaf55UfSsAAAB+SURBVLEIBqD2FSGgJzsJmQlbhNfheg5oWpQD1naQlIXma4svFsHNU6XQeEUIaHpyiCBL9hzP/GfR72X7o9n38rNHy4CWofP6aaYieG/S4zoVZKKoAIXCEwCFvBYAhbwWAIW8FgCFvBYAhbwWAIW8FgCFvBYAhbwWAIW81v8DZf//PpIYqrYAAAAASUVORK5CYII=" /><!-- --></p>
<h2 id="crude-approach-to-obtain-95-credible-interval">Crude approach to obtain 95% credible interval</h2>
<p>The following approach uses empirical bootstrapping to calculate an uncertainty interval around the mean YLL. This</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, <span class="sc">~</span>  <span class="fu">mean</span>(<span class="fu">sample</span>(yll, <span class="dv">404</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(res, <span class="at">xlab =</span> <span class="st">&quot;Mean Years of Life Lost&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>est <span class="ot">&lt;-</span> <span class="fu">mean</span>(res, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>lci_uci <span class="ot">&lt;-</span> <span class="fu">quantile</span>(res, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">paste</span>(<span class="at">collapse =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>est</span></code></pre></div>
<pre><code>## [1] 11.5</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>lci_uci</span></code></pre></div>
<pre><code>## [1] &quot;10.9-12.1&quot;</code></pre>
<p>The mean and (95% credible interval) for the years of life lost using this approach was 11.5 (95% CI 10.9-12.1).</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="ot">&lt;-</span> <span class="fu">list</span>(est, lci_uci, mean_age_restricted, mean_age_whole,</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>               plot_ages1, plot_ages2, plot_ages3, plot_surv, plot1_yll, plot2_yll,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>               who, yll_df, yll_mean_who_restricted, yll_mean_who_whole, yll_smry)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mylist, <span class="fu">paste0</span>(<span class="st">&quot;Output_rmd/&quot;</span>, </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation_como, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sd_como_age,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;.Rds&quot;</span>))</span></code></pre></div>

</body>
</html>

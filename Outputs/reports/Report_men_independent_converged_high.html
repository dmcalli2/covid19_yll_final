<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="combine-component-models-to-estimate-years-of-life-lost">Combine component models to estimate Years of Life Lost</h1>
<p>David McAllister 17 December, 2020</p>
<h1 id="years-of-life-lost-for-men-assuming-age-and-comorbidity-are-independent-the-correlation-between-comorbidities-was-modelled-and-the-model-didwas-converged-">Years of Life Lost for men assuming age and comorbidity are independent. The correlation between comorbidities was modelled and the model did/was converged .</h1>
<p>This document combines the comorbidity, age and survival model outputs to estimate years of life lost. It can be rendered for men and women, and assuming that age and comorbidity are associated or independent. This particular report is for men and assumes that age and comorbidity are independent.</p>
<p>It also allows for sensitivity analyses on the correlation between comorbidities. This analysis is</p>
<p>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<h1 id="functions">Functions</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>SurvGomp <span class="ot">&lt;-</span> <span class="cf">function</span>(t, start, ...) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is a modified version of the summary function (survival part)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># from flexsurv::summary.flexsurvreg, only difference is triple colon as </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># workhorse function undereath (written in c++) is hidden from users</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  ret <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">-</span> flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(t, ...))<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>flexsurv<span class="sc">:::</span><span class="fu">pgompertz_work</span>(start, ...))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  ret[t<span class="sc">&lt;</span>start] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  ret</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> <span class="co"># example of this function</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> <span class="dv">41</span><span class="sc">:</span><span class="dv">130</span>, <span class="at">start =</span> <span class="dv">50</span>, <span class="at">shape =</span> <span class="fl">0.10345</span>, <span class="at">rate =</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">11.0345</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<h1 id="inputs-to-synthesis">Inputs to synthesis</h1>
<p>Read in simulated patients from comorbidity model, age-sex distribution from the Istituto Superiore di Sanit√† (ISS report), the WHO global burden of disease life tables and the age distributions from the age models.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;converged&quot;</span>)   italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesConverged.Rds&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;unconverged&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/SimulatedProfilesUnconverged.Rds&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;maximal&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/highest_cor_como.Rds&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>correlation_como <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) italy <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/independent_como.Rds&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(italy) <span class="ot">&lt;-</span> <span class="fu">str_to_lower</span>(<span class="fu">names</span>(italy))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>italy <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(italy)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>age_sex <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/age_distribution_italian_deaths.txt&quot;</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>) {</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/male_coef.csv&quot;</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_0_5.Rds&quot;</span>)}</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_male_1.Rds&quot;</span>)}</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_male.Rds&quot;</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_men.csv&quot;</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>) {</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  my_vcov <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_vcov.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  my_coef <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/female_coef.csv&quot;</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;associated&quot;</span>) {</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) {age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_0_5.Rds&quot;</span>)}</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(params<span class="sc">$</span>sd_como_age <span class="sc">==</span> <span class="st">&quot;high&quot;</span>){age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_female_1.Rds&quot;</span>)}</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(params<span class="sc">$</span>correlation <span class="sc">==</span> <span class="st">&quot;independent&quot;</span>) age_smpls <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Data/age_selection_no_comorbid_female.Rds&quot;</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  who <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/sail_outputs/who_compare_women.csv&quot;</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>my_vcov <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(my_vcov)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(my_vcov) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(my_vcov)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>my_coef_vect <span class="ot">&lt;-</span> my_coef[,<span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_coef_vect) <span class="ot">&lt;-</span> my_coef[,<span class="dv">1</span>, drop <span class="ot">=</span> <span class="cn">TRUE</span>]</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>my_coef <span class="ot">&lt;-</span> my_coef_vect</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(my_coef_vect)</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;Data/who_mortality_table.txt&quot;</span>)</span></code></pre></div>
<h1 id="who-life-tables-based-yll">WHO life tables based YLL</h1>
<p>The following uses the proportions in each age who died and the WHO GBD 2010 life tables to estimate the YLL.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>age_sex <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>age_point) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(sex, n) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">age_bands</th>
<th align="right">men</th>
<th align="right">women</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30-39</td>
<td align="right">14</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">40-49</td>
<td align="right">49</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">50-59</td>
<td align="right">190</td>
<td align="right">53</td>
</tr>
<tr class="even">
<td align="left">60-69</td>
<td align="right">607</td>
<td align="right">154</td>
</tr>
<tr class="odd">
<td align="left">70-79</td>
<td align="right">1847</td>
<td align="right">556</td>
</tr>
<tr class="even">
<td align="left">80-89</td>
<td align="right">1808</td>
<td align="right">894</td>
</tr>
<tr class="odd">
<td align="left">90+</td>
<td align="right">274</td>
<td align="right">334</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>age_sex_whole <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>age_sex_restr <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex, age_point <span class="sc">&gt;=</span><span class="dv">50</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prp =</span> n<span class="sc">/</span><span class="fu">sum</span>(n), </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">age_mean =</span> prp<span class="sc">*</span>age_point)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Mean age</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>mean_age_whole <span class="ot">&lt;-</span> age_sex_whole <span class="sc">%&gt;%</span> </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>mean_age_restricted <span class="ot">&lt;-</span> age_sex_restr <span class="sc">%&gt;%</span> </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(age_mean) <span class="sc">%&gt;%</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="do">## estimate yll using WHO life expectancy and age distribution alone ----</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>who_reference <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(map2italy) <span class="sc">%&gt;%</span> </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">expected_remain =</span> <span class="fu">mean</span>(expected_remain)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_whole <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_whole <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>yll_mean_who_restricted <span class="ot">&lt;-</span> who_reference <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(age_sex_restr <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">map2italy =</span> age_point, prp)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">res =</span> expected_remain <span class="sc">*</span> prp) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(res) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;map2italy&quot;</code></pre>
<p>The mean age for the ISS deaths was 77.4 overall and 77.9 when people who died aged &lt;50 were excluded from the calculation.</p>
<p>The estimated years of life lost obtained by applying the age distributions from the ISS report to these tables was 14.4 per person using the whole cohort and 14 after excluding those aged under 50.</p>
<h1 id="combining-samples-from-survival-models-age-models-and-comorbidity-models">Combining samples from survival models, age models and comorbidity models</h1>
<p>The following combines 10,000 samples from survival models, age models and comorbidity models to estimate the age, sex and comorbidity specific life expectancy and subsequently years of life lost.</p>
<h2 id="age-distributions">Age distributions</h2>
<p>The following shows the modelled age-distribution of the ISS data (based on the published counts of patients in each age band). The grey bars are for the simulated data and the coloured bars are the original data (assuming a uniform distribution within each age-band).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Sum conditions to Calculate comorbidity count</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>italy_count <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(italy)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>age_tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">comorbidity_count =</span> italy_count, <span class="at">age =</span> age_smpls)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="do">## spread ages along range of possible values to allow comparison</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> age_sex <span class="sc">%&gt;%</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> params<span class="sc">$</span>sex) <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age_bands, age_point, n) <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age_bands) <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>()</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>data, <span class="sc">~</span> <span class="fu">rep</span>(.x<span class="sc">$</span>age_point, .x<span class="sc">$</span>n))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>iss<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">map</span>(iss<span class="sc">$</span>age, <span class="sc">~</span> .x <span class="sc">+</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">4</span>, <span class="at">length.out =</span> <span class="fu">length</span>(.x)))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>iss <span class="ot">&lt;-</span> iss <span class="sc">%&gt;%</span> </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age) <span class="sc">%&gt;%</span> </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(age)) </span></code></pre></div>
<pre><code>## Adding missing grouping variables: `age_bands`</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>plot_ages1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">data =</span> iss, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> age_bands), <span class="at">alpha =</span> <span class="fl">0.9</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plot_ages1</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Here the above histogram is broken down by the comorbidity count.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plot_ages2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>))) </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plot_ages2</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="comorbidity-counts">Comorbidity counts</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>como_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> italy_count) <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">length</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Percentage =</span> <span class="fu">round</span>(<span class="dv">100</span><span class="sc">*</span> N <span class="sc">/</span><span class="fu">sum</span>(N),<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(como_tbl)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Comorbidity count</th>
<th align="right">N</th>
<th align="right">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">110</td>
<td align="right">1.10</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1387</td>
<td align="right">13.87</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">2267</td>
<td align="right">22.67</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">2222</td>
<td align="right">22.22</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1747</td>
<td align="right">17.47</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">1165</td>
<td align="right">11.65</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">694</td>
<td align="right">6.94</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">294</td>
<td align="right">2.94</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">91</td>
<td align="right">0.91</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">22</td>
<td align="right">0.22</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">1</td>
<td align="right">0.01</td>
</tr>
</tbody>
</table>
<p>Here the above histogram is shown as small multiples having stratified by comorbidity count.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plot_ages3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_tibble, <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> comorbidity_count) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Age (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Number of simulated patients (of 20,000)&quot;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>plot_ages3</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following is a check that the names of the comorbidities are the same in the samples from the survival models and comorbidity estimates. The comorbidity samples should have no differences (character 0) and the coefficients and variance-covariance matrix from the survival model shoudl be identical apart from the shape and rate parameters.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>name_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;copd&quot;</span>, <span class="st">&quot;demen&quot;</span>, <span class="st">&quot;diab&quot;</span>, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;h_fail&quot;</span>, <span class="st">&quot;hypert&quot;</span>, <span class="st">&quot;ihd&quot;</span>, <span class="st">&quot;renal&quot;</span>, <span class="st">&quot;liver&quot;</span>, <span class="st">&quot;stroke&quot;</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>name_cols_age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;atr_fib:age&quot;</span>, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;cancer:age&quot;</span>, <span class="st">&quot;copd:age&quot;</span>, <span class="st">&quot;demen:age&quot;</span>, <span class="st">&quot;diab:age&quot;</span>, <span class="st">&quot;h_fail:age&quot;</span>, </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;hypert:age&quot;</span>, <span class="st">&quot;ihd:age&quot;</span>, <span class="st">&quot;renal:age&quot;</span>, <span class="st">&quot;liver:age&quot;</span>, <span class="st">&quot;stroke:age&quot;</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(italy), name_cols)</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">names</span>(my_coef), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">colnames</span>(my_vcov), <span class="fu">c</span>(name_cols, name_cols_age))</span></code></pre></div>
<pre><code>## [1] &quot;shape&quot; &quot;rate&quot;</code></pre>
<h2 id="design-matrix">Design matrix</h2>
<p>The following code multiplies the comorbidity samples, which is a prediction matrix by age to get age:comorbidity interactions</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>italy_ages <span class="ot">&lt;-</span> age_smpls <span class="sc">*</span> italy</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(italy_ages)</span></code></pre></div>
<pre><code>##          ihd atr_fib  h_fail  stroke  hypert    diab demen    copd  cancer   liver   renal
## [1,]  0.0000 75.1231  0.0000  0.0000 75.1231  0.0000     0  0.0000  0.0000 75.1231  0.0000
## [2,]  0.0000  0.0000 81.3903 81.3903 81.3903  0.0000     0  0.0000  0.0000  0.0000  0.0000
## [3,] 63.5433  0.0000 63.5433 63.5433  0.0000 63.5433     0 63.5433 63.5433  0.0000 63.5433
## [4,] 62.7283 62.7283  0.0000  0.0000  0.0000 62.7283     0 62.7283  0.0000  0.0000 62.7283
## [5,]  0.0000  0.0000  0.0000  0.0000 79.0432  0.0000     0  0.0000  0.0000  0.0000  0.0000
## [6,]  0.0000  0.0000  0.0000  0.0000 91.6941  0.0000     0  0.0000  0.0000 91.6941  0.0000</code></pre>
<h2 id="sampling-from-survival-model">Sampling from survival model</h2>
<p>THe following code samples from the survival model to obtain 10,000 samples of the coefficients.</p>
<p>Check data are correctly aligned then obtain 10,000 samples.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">names</span>(my_coef) <span class="sc">==</span> <span class="fu">colnames</span>(my_vcov))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>surv_smpls <span class="ot">&lt;-</span> mvtnorm<span class="sc">::</span><span class="fu">rmvnorm</span>(<span class="dv">10000</span>, my_coef, my_vcov)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> (<span class="fu">colMeans</span>(surv_smpls) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">apply</span>(surv_smpls, <span class="dv">2</span>, sd) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">tibble</span>(<span class="st">&quot;_&quot;</span> <span class="ot">=</span> <span class="fu">names</span>(a), <span class="st">&quot;est&quot;</span> <span class="ot">=</span> a, <span class="at">se =</span> b))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">_</th>
<th align="right">est</th>
<th align="right">se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">shape</td>
<td align="right">0.097</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">rate</td>
<td align="right">-11.044</td>
<td align="right">0.049</td>
</tr>
<tr class="odd">
<td align="left">atr_fib</td>
<td align="right">-0.122</td>
<td align="right">0.101</td>
</tr>
<tr class="even">
<td align="left">cancer</td>
<td align="right">1.521</td>
<td align="right">0.077</td>
</tr>
<tr class="odd">
<td align="left">copd</td>
<td align="right">2.134</td>
<td align="right">0.079</td>
</tr>
<tr class="even">
<td align="left">demen</td>
<td align="right">1.719</td>
<td align="right">0.146</td>
</tr>
<tr class="odd">
<td align="left">diab</td>
<td align="right">0.934</td>
<td align="right">0.071</td>
</tr>
<tr class="even">
<td align="left">h_fail</td>
<td align="right">1.279</td>
<td align="right">0.110</td>
</tr>
<tr class="odd">
<td align="left">hypert</td>
<td align="right">-0.177</td>
<td align="right">0.066</td>
</tr>
<tr class="even">
<td align="left">ihd</td>
<td align="right">0.409</td>
<td align="right">0.106</td>
</tr>
<tr class="odd">
<td align="left">renal</td>
<td align="right">0.147</td>
<td align="right">0.085</td>
</tr>
<tr class="even">
<td align="left">liver</td>
<td align="right">4.060</td>
<td align="right">0.169</td>
</tr>
<tr class="odd">
<td align="left">stroke</td>
<td align="right">0.808</td>
<td align="right">0.094</td>
</tr>
<tr class="even">
<td align="left">atr_fib:age</td>
<td align="right">0.005</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">cancer:age</td>
<td align="right">-0.016</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">copd:age</td>
<td align="right">-0.020</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">demen:age</td>
<td align="right">-0.009</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">diab:age</td>
<td align="right">-0.010</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">h_fail:age</td>
<td align="right">-0.011</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">hypert:age</td>
<td align="right">0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">ihd:age</td>
<td align="right">-0.003</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">renal:age</td>
<td align="right">0.001</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">liver:age</td>
<td align="right">-0.047</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">stroke:age</td>
<td align="right">-0.006</td>
<td align="right">0.001</td>
</tr>
</tbody>
</table>
<h2 id="estimating-the-linear-predictor-for-each-of-the-10000-iterations">Estimating the linear predictor for each of the 10,000 iterations</h2>
<p>Note that these multiplications are not matrix multiplications. They are element-wise multiplications of identically positioned elements in each matrix. Each part of the linear predictor is calculated separately, these are then summed to obtain the linear predictor based on the age and comorbidity distributions of the simulated patients.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="do">## shape parameter</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>shpe       <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;shape&quot;</span>]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Intercept (rate parameter)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>cept_lp    <span class="ot">&lt;-</span> surv_smpls[ , <span class="st">&quot;rate&quot;</span>]</span></code></pre></div>
<p>The following shows the linear predictor for covariates without interactions by age. These are mostly positive, reflecting the fact that almost all of the comorbidites are associated with increased hazard rates for death.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="do">## This multiplies the covariate level (binary) with the simulated coefficeints</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> italy[,name_cols] <span class="sc">*</span> (surv_smpls[, name_cols])</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="do">## This adds these together to get the non-age dependent part of the linear predictor</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>non_age_lp <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(non_age_lp)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(non_age_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following shows the linear predictor for covariates with interactions by age. All are negative, reflecting the fact that there is attenuation in the hazard ratios for the comorbid diseases with increasing age, as is common in chronic disease epidemiology.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Part of lp dependent on age</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ensure_matrices_match</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(<span class="fu">paste0</span>(name_cols, <span class="st">&quot;:age&quot;</span>) <span class="sc">==</span> name_cols_age )</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Loop through the different age groups to get the part of the LP with age interactions</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>ages_lp <span class="ot">&lt;-</span>  <span class="fu">rowSums</span>(italy_ages[, name_cols]  <span class="sc">*</span> surv_smpls[, name_cols_age])</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(ages_lp, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following sums the components of the linear predictor.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="do">## total lp</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>tot_lp <span class="ot">&lt;-</span> cept_lp <span class="sc">+</span> non_age_lp <span class="sc">+</span> ages_lp</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(tot_lp, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">12</span>, <span class="sc">-</span><span class="dv">5</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The following transforms the linear predictor onto the rate scale.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>tot_rat <span class="ot">&lt;-</span> <span class="fu">exp</span>(tot_lp)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="dv">10000</span><span class="sc">*</span>tot_rat, <span class="at">breaks =</span> <span class="dv">500</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>), <span class="at">xlab =</span> <span class="st">&quot;Rate per 10,000 person-years&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="estimate-the-survival-at-each-time-point-3-monthly">Estimate the survival at each time-point (3-monthly)</h2>
<p>The following uses a function from the flexsurv package called by summary.flexsurv to obtain survival probabilities at each follow-up time. Where the time is before the patients age at baseline (in this case the age at death in the ISS data) the survival probability is by definition one.</p>
<p>In this function all notional patients have the same shape parameter, but have patient-specific rate parameters. This function is not vectorised with respect to the rate and shape parameters, but it is nonetheless very fast.</p>
<p>For one simulated patient in the ‚Äúlow‚Äù SD age group the rate and age variables are such that the function returns a missing value, this is the only sample that does so. Presumably there is a numerical reason in the internals of the function. Give a warning and drop from the summary function at the end. Return an error if there is more than one missing. Only occured in most recent set of simulated patients which is a fresh simulation.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>times_vect <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="fl">0.25</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>tot_surv <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>){</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">SurvGomp</span>(<span class="at">t =</span> times_vect, <span class="at">start =</span> age_smpls[i], <span class="at">shape =</span> shpe[i], <span class="at">rate =</span> tot_rat[i],</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">lower_tail =</span> <span class="cn">TRUE</span>, <span class="at">give_log =</span> <span class="cn">FALSE</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  tot_surv[i,] <span class="ot">&lt;-</span> <span class="fu">t</span>(a)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">is.na</span>(tot_surv), <span class="at">nrow =</span> <span class="dv">10000</span>, <span class="at">ncol =</span> <span class="fu">length</span>(times_vect))</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(tot_surv_na)</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">any</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>tot_surv_na <span class="ot">&lt;-</span> <span class="fu">sum</span>(tot_surv_na)</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">1</span>) <span class="fu">warning</span>(<span class="fu">paste0</span>(<span class="st">&quot;The SurvGomp function returned NaN for &quot;</span>, tot_surv_na, <span class="st">&quot; simulated patients&quot;</span>))</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tot_surv_na <span class="sc">&gt;=</span><span class="dv">5</span>) <span class="fu">stop</span>()</span></code></pre></div>
<h3 id="the-following-plots-show-the-survival-distribution-for-a-random-sample-of-3-notional-patients">The following plots show the survival distribution for a random sample of 3 notional patients.</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">1</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(times_vect, tot_surv[i,], <span class="at">xlab =</span> <span class="st">&quot;age&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;survival&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;Age &quot;</span>, age_smpls[i] <span class="sc">%&gt;%</span>  <span class="fu">round</span>(), <span class="st">&quot; years&quot;</span>))</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<h2 id="survival-distribution-for-all-patients-stratified-by-age-and-comorbidity-count">Survival distribution for all patients stratified by age and comorbidity count</h2>
<p>The following figures show this for all patients according to age, and comorbidity.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tot_surv)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(surv_all) <span class="ot">&lt;-</span> times_vect</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all[ , times_vect <span class="sc">%in%</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">120</span>, <span class="fl">2.5</span>)]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pt =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span>  surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> italy_count,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> age_smpls) <span class="sc">%&gt;%</span> </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="st">&quot;times&quot;</span>, <span class="st">&quot;survival&quot;</span>, <span class="sc">-</span>pt, <span class="sc">-</span>comorbidity_count, <span class="sc">-</span>age) <span class="sc">%&gt;%</span> </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">times =</span> <span class="fu">as.integer</span>(times),</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">comorbidity_count =</span> <span class="fu">factor</span>(comorbidity_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(pt, times)</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>surv_all <span class="ot">&lt;-</span> surv_all <span class="sc">%&gt;%</span> </span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&lt;=</span> times, times <span class="sc">&lt;=</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_bands =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>))) </span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>plot_surv <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(surv_all, <span class="fu">aes</span>(<span class="at">x =</span> times, <span class="at">y =</span> survival, <span class="at">colour =</span> comorbidity_count, <span class="at">group =</span> pt)) <span class="sc">+</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_bands)</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>plot_surv</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAABX1BMVEUAAAAAADoAAGYAOpAAZrYZGT8ZGWIZP4EZYp8aGhohkIwiqIQqeI4zMzM1YI06AAA6ADo6AGY6OmY6OpA6kLY6kNs/GRk/GT8/GWI/P4E/gb1BRIdDv3FEAVRIJXZNTU1NTW5NTY5NbqtNjshiGRliGT9iGWJiP4Fin9lmAABmADpmAGZmOgBmOpBmkJBmtrZmtv9uTU1uTW5uTY5ubqtuq+R60VGBPxmBPz+BP2KBYhmBgZ+Bn4GBvdmOTU2OTW6OTY6ObquOyP+QOgCQOjqQOmaQZgCQkDqQkGaQtpCQ29uQ2/+fYhmfYmKf2dmrbk2rbm6rbo6rjk2ryKur5P+2ZgC225C22/+2/9u2//+73ye9gT+92dnIjk3I///Zn2LZvYHZ2Z/Z2b3Z2dnbkDrb///kq27k///r6+vy8vL95yX/tmb/yI7/25D/27b/5Kv//7b//8j//9v//+T////mJo2SAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2dib8rx5XXnzOexVVF2QEMzFSpnbDGrC8DUdgygD3ADA4eYPIA38RZ7JfQwX7YedH//6HOVkuru9WSuqWWVCfxXdRPV6rqr37nnNrOs121aiu2Z9d+A9WqjVkFtNqqrQJabdVWAa22aquAVlu1VUCrrdpOBvTzu7fHa+karQI6aI/X0jVaBXTQHq+la7QK6KA9XkvXaBXQQXu8lq7RKqCD9ngtXaNVQAft8Vq6RquADtrjtXSNVgEdtMdr6RptjYD+7K3f/0n49uO33nrr9z7+/Bd/l35F++z7b/3uDz7nx37+hz8Z+Stn2+VaWrSKDBr/1lvfuWxL12irBPQP8NsPvwNfP/v+dz7/8R/IpfDYz37/J/LYj/9owXdxEUBjS7NWpauXbukabb2AfvYvfwDffvH3P/7853/rY7oCv2SP8a8L2cVa2mmV2C/+3g8u3NI12noBDc4NfBx4N7hVaD//w38NzjA+RiK7kF2spd1WsYFyXrala7T1Avrzv/kDUNHg5zJA/wYSGx9b1PNdrqWdVpHhj5dt6RptvYCi/fA7HQXFX+JjdwJop1V8DRKmy7Z0jbZ6QMsY9B/g/YqP3Qeg3VaR/RDadtmWrtHWCygoyGf/6uPPvv9HZRYfRCU+dh8xaLdVaJQjXrala7T1AgpDgdmYJ0lL+OX3Po4jhneSxZetkpaSs79oS9doKwa0tP/ac4fuZRy0tOu1dI22SkCzqSOxz/7N/r+7m5mkwq7Y0jXaGgFdiT1eS9doFdBBe7yWrtEqoIP2eC1do50MaBsMvwzb+OXlrs70p6e3dAVv9qwXngelZawCOnh1ektX8GbPeuF5UFrGKqCDV6e3dAVv9qwXngelZawCOnh1ektX8GbPeuF5UFrGKqCDV6e3dAVv9qwXngelZawCOnh1ektX8GbPeuF5UFrGRgH96p//FL//5k/e+9v/J34jO6oHLnu1AnrkCy9G1ww2BuiX730bAf3tX3yw+9XfkW9sR/XAZa9WQI984QX5OttGAP30W39JCvqbf/9TEFP+xleP6oHLXq2AHvnCixJ2pk1x8V/9i/+z+82/+xF/Cw/8lWDpXznn6AfTwNemafhCs3sQc+Wvzeiv1Y6yKYB++beRTP7G19Jn0FoH1rbOBDjbhi38Dl+uqw3nXN3ttXTwOdD6NrYWG9/GtpuxXqgKesBOUlCw1ERrGVFjwpfGNo4Rta4ZQfSeAA0fRvw8UnNd+fEM/bH8mz3+6h0BeigGtY4YVc4gqOHW4BcidIjR+wK0DQ123FxqvHFOeB0ltAI6alMA/e1ffI+y+O8NZfGBzoCoQUIDrkSpg59dM8TonQGKEQ41V2WEhpaba4U6jwEo/Dc+DmrxCyCqLHp5QRQfcykmvULXn3N1v6XjzzEU47hGYagTAGVgITZf+s0ef/UeAB2zrImWvgYcA6HWI6OAqLcmE9HuTbo7QB14kPCBdEqB9zBCKATlI06+Ajpqs0x1Wv4WCDUGfD3FoiYAakhNexC9O0BDq5U1JKFBNpWxHJKPE1oBHbV55uKJUKMdSiggCllT+AJ8co7fJfQOAQ2EKvhwKgg7IWdsAE0HoA4TWgEdtZkWi1hA1GulhFAwj1GZdRySdhC9O0CV0QhncPNBPcHhR0IbJLQf0QroqM22mikQao0OmbxFL0/6adHRo4jaLqJ3B2hQUCbUKBhiA0IBzNAlwOkQoRXQUZsBUEOttK0NEhqiUJsQNejeLYmodcWg0z0CasjBW/DuDKiD8WHb7Ic4877Z468+DqCR0JC1q9YoE74Totrg4CgiWohoc6muP+dqT0tHnxOkUyGh4XMZIAVCYWQ0AEv50gChFdBRmxHQEIh63XqjEFAg1AOhEIqxghYJ/R0CqklDDUpocPMKYtEgoICr6ckTZ3yzx199IEAzQoOEBsHw3iCjCCgSal02gD8wcr9E159zta+lY8+BDB4/meF/IY+HIVEYGDUAqLM4KtrX7groqM0JqAKnjp7OYQIffL02vJTEGpfy+QmE3iagmkUUCYWptQZ6AyWUBu3dfrsroKM2TxZPhCqR0KChEIuFrJYk1MJ4vbFpTHR4hn7mrj/nam9LR57jldKQyGPIieOhQKih8SZnCU+3t8KrAjpqMw0zMaGeJdSESBQzBs6Tjif0NgEVCeVlCRZmPRtDMU5G6AJv9virDwkoSKiGKFR5QxEZ+XiLhFKixISOrcSbr+vPudrf0uHnwDQFSSgMBguhRmnlxgitgI7aXAP1SKhqRUIhYbBCqEZCZaRpGqE3CSjACJMVNJlEg6IBWlx/Z2nZDE0pbWZ/s8dffURAkdDwowcRadHTw/1iDSVIJxJ6i4D6XEIVfkBhFBQBbbDtptmf9KyAjtrJgHbNwBe1M3anwbvvYMAe5BPuF4RkSKilqfkC0bnewNVNi4Syj0cfEiRUQxoPhDaioffU6qVtvpNFQEODgoKThyQeBuwhi+cwFJdPWNdH6JLacM7VwZYOPAfSQkUNDoCihFr09Vo1SKgDQmntXebkq4KO2pyAaiAUBz+9FkJJSSAMzQl1Bwm9RUA1BN8soUaWxgZCSULjHpiLreqqgJY9YARQC96dAVV8p3BtKEajPYTOPEN9tWEmnSTU8CcT5uU1LrE3QmgnT6qAjtrsgDKhJKGGIlAeGbRHEHqDgIKEKpzvZAnVtLtAKZz5JEJtnJPflE9etCkHLs+D0jI25+l2MAQKgGpYq2xaXNwDbs+mwVBM6acQepOAIouaR+ujhOKcBQ2FhhTJdleNVEBHbQZAtbRTfLy3LaRJJKGYKWgTd4FkhLoRQm8RUM0SyvPxVvFXWNoEc/HG0nBTKaEV0FGbE1DKknyUUAEUhwRFQlWWKbkc0UW6/pyr+y0df07As1Uy0qRYQuGTqTG/h/2dfYRWQEdtEUB9i4SGn3Dg2uKIIM3FE6GuJLRnkc8tAurBxwcR1bhgJEmopuVMIQZFQtPOgs18b/b4q48DaCIUflA+hGDByQe3vsOIjNiM20Ac+/pEKE+u3Dyg5OE9A4pbX1hCMXVSPYTO92aPv/qAgAY0CVCQUBwOJQkF1dS0qIkllBL6uDyUvfwCXX/O1Z6Wjj5Hk4/XGvIkJWkSrkdQvFEpwKnyzVmb2d7s8VcfEVD08RolFAh98uDqIKdFQjXuzDGJ0CIM7RB6o4Cij2cXLxIKgIqE2qZRtLGAwppNBfSAzQ4oSWhw8l49eZxa4WkVIxLq+gm9fUCNRh+vcYJX4SAwAmq1xdVdSChs8Mz2Zm0qoOM2M6DBx3uvW5LQJ4OA8lw8jTjhUDUQ2tpsI90+oTcIaKsB0BDagI8vJFTDtg/D67ZhzUi+v7UCOmqzDNQzoTmg2gcXb2E4lCTU8pAoIElHb2BaP0joTQKaBaGkoDoCigeLkYQqGWkiJ18BHbVZAfUCKEgoAIo+XuGaZYVr73j/HE16FotD7wNQGGTyksYrw0oKQTjMdpYS2sQwdPGmHLg8D0rL2MyAtrmEPnmP58BoHq7HSSRlxcmzhPYTepOAGvLxngBNEiqA0pQn7KTjNGl4ueG8TTlweR6UlrE5Ac18fIjH2gAo+XgUT2UpCnWOlt0pw2eN9BN6k4BCekRpkjHi3A3NVeCxdxiKZhJKhI5KaAV0+FI8UPlX74F9gN+/3VsnaS8IRQl9srh02dCJBiihiqNQR9PyTGgxKz9r159zddfX0rHnaPgf+HitMS9iQA0Bquh0xkxC5QTm5Zty4PKihJ1pw4CWheWgBs2nH2SXiyYmQGFHkleeJVShjzeFhAqhKjtbbJ/QWwS01TiZFD6gKgtCcU2XJR9PhOJueR6tPyShFdDBK0VRDyg/89v/9qPsctHEPkB9kNCQMJCE4rJQS5jKHnmWUJsTOssE4LXGQVvUThwIlZFQ9vEaly3jCbe48M6JhDb7k7xLNOXA5YXYmsWGAS3KIoGUBpcPjn7XrTQXTNM3H34w4ZtX4SGTfPyO8tk+CY2nOWQHOizS0OVN7wKYO9wd3/XxmCXRRmSRUJtL6LXf+optGNC8sBx+/+qPcxUtPoOZguYS+mQVAhol1IindySjHIXmiRJL6G0qKC8YCYD6CCh5eiWAOpqrmCqhVUEHr+QK+mUsPxPj0LKJRKgXH68VDroAoLDuzrTo30RC2cGThEZCy210NwgohN0QfWIa72kRqIYVMxiRFhIKgMp00ngUWgEdvJLHoJ9+Tx49DCgsqRdAYUYeJZQGQy1Sao0MhrK7z46xD9aePQF4xSweAYWRelJN2neNc2k4MOoMFzuzvHCZJbQCOmhjWXwsLEeOHWT0t/+9vxx34eMDoEQoAWqjhMLqcgw8De5BRglNRzbZnNBbBdSoGITi8WlaglAFGoq4Oqn7MUVCK6DDl2gcFCvNkaf/1XvvfetHcrVsYg5oktAnrxlQ3j0ni5etEQlNTr4Yrj9rfuWKgHry8SWgFIQWEgob6KQ8TwV0zGba1bkHqFdBTp485EtAaMuA4unDTGiUUCG0Z7z+3K4/52p/S8eeozNAQUkNb/BkQOl4FcOH3U2T0AroqU/s9AAHofSdAG0R0B4JpW+OIRVCMwk9c37lioC25OMR0G3m43HgHgfrbfTxhjW0AjpmMwNKhMJkJ0goAGr3JNTygBNLqDWt7Y41HRi9Xieg2wxQ+LKl5SK8/yNJqGySB0IPSmgF9NQndnqgA2irGVBYfOZlZw7iqC0fheOMlEskQnMJbc+ZX7keoJQloY9XZkvjoLJwxNI5dyyhGIiKk6+ADtsigKKPbxW7+BCSmo6Emo6EpoJf0yR0xYB6CUJ9VFA+bXpYQkfWhVZAT31ipwf2AA0+foeAQpqUBaEioRyB4qImEyV0aIvSqV1/ztWBlg4+Z0tZkgShACgTyoBaLOkFc7wiobZJK5croL0229lMDGYEFCQUAbWZhKpcQuN0UqC0PU5C1wnotgOojkEoH7sM4kqng4uEukMSWgE99YndHuik8YYA1QnQXEJVIaHk5MuRpnFCVwloypI0Aqowjcdd8iyhNDRKEmpzCSVA+witgJ76xG4PdLIkAHSHQWgLPr6VLElZ29JUEgLqLMO67+RvFVDc+AGI+jjOJNuPwecrKv0hEmoPSGgF9NQndnugE4SCtyNAdZRQbdjHi4TSkbZKhp2KxfWjhK4VUNj14Q0pqMIgFKfjNQ004fomXFhvUhSaneLQR2gF9NQndntgL0sKgFIQ2mY+PkqoShJa5kmT0qTVAxqDUAaUivKAhMJIE5WhyyR0eINnBfTUJ+71QDdLMhFQm/n4UkLpJLFCQic5+RUDWmZJ0cdzFIonojur0ljoAQm9CUBfvfNR8f2Lb3wCP/6//3X0X9p/yvyAxqH64OcxS2rbwsdjydmOhLZ2QEIHCF01oJp9PA6EpiDUio9XRiTUJQl1A3nSTQEqFgDtefSEP7RbFFADgEYf3yehPNLEmz9EQic4+ZUCmmdJ4T+MQXnFCAWhMBuvFJWhixIKpzUNSmgF9NQ3tdcDnBylLCkB2rKP1zgymEso7qCLU/KukycNSug6AeUgVADVW8MSKrW9REIdnnWH+tmR0D1Crwno6w+fPXszfX/1zp+//ezZu6/Cl+fpwW/+52ff+J/v/NmzZ7/zS+Tr6/efvfFn4OLxH7+A5798c/hPfoRf6F8/hz/97mKAknK2UUJhqB4B1b7w8XsSGvMk0x1pOrGK0pUBlTQeSyMmQK0MBVMgOlFCrwjo6w/fDLg9x+/w36u3A4MvAcSX3/gkPQichSv4yzsfff3+u+FJGIMCfaClrz98PvgnBdC36a/OqaD7hls7vacfApc742m1SMiWbHgcziGE5RKFhBKgRGscaYqE7m5rj+cW6iFq3FCAQaiXvfFURN7yOAb5eA5BE6BM6LUbES1LeSjvefs5sPgcr/Q+KI+/jIACja+++cngn4yAxj/QfRczK2gRhGoA1ODKJlBSw2cVFRIqhCYJnZInrVlBPeRJACKdJSYSqklCKcbBIFRaWQzWdyX0igpKkWT4HtQt0iNfygcBwcBi+OUlPv5NARTce+bhh/5k8f2ygMIeZPDxNvl4kdA40jQioQN50soBNXQMuN6qAtAkoU5FCXV7ErpAUw5cXhDQV9/838nDrwVQjkYR0KCdCiSUALWaylrpPgmVGfkik+9fGLpeQNsEqNdbnwWhSUKV4gN9o4I2gxJ6RUCjP37jo8IfE6B9D+aun2l7/eE/TR5+8E9eBtC9LGlHgFIcmnx8HAuNEopT8rmPP+Tk1wponiVBoVKdBaFRQq1KPr5PQhdoyoHL/XdYMpluRoNfygfzJOlNSZIg/gw+/tmbw38SUqrXH74RAaWnXArQFhRUY6UPr5OE2iihdCz4voTmTr7tdfI3AKjaEqCKTwiF6IYl1NL2pEkSuqphpgzQzoN/Fn+Jw0wf7V7gY28/H/6TOxhY+mf/MEUPL3KclwMUfsIg9KlFOkFCTeHjeyQ0S5MODoauFFAZZ/IEqNdapc3HcnKFLgC1jlaFZhK6GkBnsSyHP8mWBbTw8VhfVkcJJUAHJPSAk18xoK2k8RmgNBDKEkqAjkno/E05cPksgg7Yy+7I+5E2P6DRxydAw21KEtqKhBo5bcThzDTto5PdSZmE9uRJtwIo+fgYhCo+/CcH1PJAU0bopu9Pn9WUA5fPQ2jMcAQeHTnYG0fPfS4FKEkongKuUEApTWIfHyVU8UEjLKG46m5SnrRqQCUI7QCq5ARKLPdl+dhpUlB3r4Ceb3MC2vXxCCjksxiUeTrAIUkon7o8IqHtUJ60WkDzLMmzj/c5oKWE0t4PWtLVT2gF9NQn9vVA4eO938HhNzpJKOgjpUmykJdURCQ0251Ubk/ac/JrB1RLlqQoutF80nIJqE0SWgEdsosBqtnHZ4k8r5JMEooLRPcldH8+ac2A0prQ0LYIqImAGkWHU2EMLifa9kjo3E05cHkelJaxhQBFQgnQVuEavMzHs4TaeCx4V0K7K5f3nPy6AfWeD7whQGkqydIsheVFdxFQy0HogIRWQE99Yl8P7GdJAqjG7+jjAUyaYEk+HipZcpqEP8U0aUBC1wpomwDFLEkkVOO2ubQqNOXxtOqOCu8lQlcB6K/77VRgTrQlAI0+HgA1QKaH89szQFlCAdB9CbX7EnpcLeRrA6o916MxCdAkoQKoST7eDPv4CuipT+ztAR0BhS1JJaDRx0cJzXw8SyidG0pOnop/9EvoqgFFCVWZj6csKZPQIgg1vCg0Elr4+AroqU/s7YEOoHC+nWEf3xKgmYSyjxcJ5bsUJZQH6xOhp3T9OVdHWzrwHMmSvAShOgFKMxMIKAahXPHEyFAonmnb9fEV0OFLsRSi1EBMD+zGARUfD4DSDwio+HgTR5oSoEp8/CQJvQVAMQjFI0bohCYElPcfY82PlMcXElqmSRXQwStZKUQq7VHWRuztgSwIxW3HcLRIkFAvQ9cMqNVZHp9JKCmoDDXxbFJ7q4Aa0M4EKJVEpI8k+XijUtEoY5OEVkAzm1KGhqt3FbURJwHqBdDMx5skoQBoJqEoI3x6fSahfWnSygH1AuiWglDaG88+3qgYhCYJxc9kn4RWQAevpEJeXAMxPbBXClEMt8vt6IveEaDwoN95KBIIgO6AT5FQHdfVWysT8nsSuouAzt762W27DV88DzTFIFSlIFTzxk6KRgsfLxLKgF67KasHNJVC5BqIeW3EIV0pglAAVPsWJLQtfTxJqOnz8alODW796Hfyq1VQTOMFUMiPYpaEQ0yioCmPTz4+k9DMyVcFHbxSFJOFOLR8oL8HMkDB02GW1GJFBU/rJwztnbM6+vhcQs2+hNobBVRREFoCaqjmHAWhhYQ6syehMzblwOV+AA4A+vX7sEV+cZtYjhsAnRCDloDuCkCNTgNNXGRVmXRskbU8m2SkEEhXQrMB7BUDuiVAfaagEoRqkFAa+4VhYKdckcf3SuhqAYXjGF5292csYFNKIXINxKw24u4QoOjjBVDQUipgGQElCaW0ViRUpaFQllCGdD9NWjegkiVhyQ+tJY3PfTxNpKGUZoBGCb0BQL/+R5+cvZ1jik0qhcg1EA+Pg8Y0Xnw8A1r4+Cih7OOThEp1BfH5gxJ6C4A+ZT5eRUANA4rHMCYJtYWEZrvnrgroZt8ioK/+2i93X//DE5bIH2nzziT1AQpaCnN+sA03AaqtJh9vMb2V1cqZhIp8JgltbwXQJ86StnxgvUybIaG8MhQZhd3WXQktffxqFRTOXrhBQEsfL4CWPp6PGKFEHgAVCRUf35HQtKopSuhNAppJKAahNkqopZoKNMyWfDwQulpAb1RBRwBtadFy4eNhoCmXUJskNKZJHQltjur6c64eaGn/X0yAKkJSlt5pKpiUfDymSVbm48nHcyX5zMevFtAVxKDjNtADuY/f0QGMLY04KQG0FQlVpYTmPj47qSkfalo/oDGN1wqCUAMH/yjJknwHUOv4EByTSSg1tGVCVwvo6w/fvXIWf8AGeiAC2noGVFMQ6jkIxaHQtGQkSSgR6pKEDkShzTFdf87VAy0d+IsRUMiSVPTxhrJ6kwWhmYSKj9+X0NUCev1x0AM20AN7gLZRQikINVFCaWWPFQktfbxhH98h9MYAJR+fBaEioRFQRYAWEtpkErpeQC9kCwPqM0BV3DlHEqotSkvQlFarNFa/J6H5sjuW0JUD2uK2OQLUY+ljBtTzLhcBdM/HGzkPQCS0AnrqE4d6IAtCGVDtC0BbAVRlPr5XQs2AhDarBxS2YumnJzim3odYVAmgefF4EyXUyOHnIKGuI6GLNfThAW39Ds63I0BbOGmZh+q9sZ6PaTK886PVKg2FioRyDaE+Cb0JQD0DCmPAsIReJDQPQkFCCx8fNycNF5+bqaEVUAJUE6BZEJr7eJVJKLt00/HxPUeJNTcAKAehdP6Nj0Fo5uN5KDQd4CAS6spEfqGGVkAF0Lbj4+F2mLaV6r840tQjobRqOZPQjNA1AwoLmgTQLfr0PEuiMSdW0NzH90hoWwFdCNCYJuE4U0s+Hg6/IUDFxyteWC87Iey4hLad0fpl7tu5gKKEPtFSQ66VxFkS+3gJQrmIkvj4JKG2lNClGloBpcmkCGgrQShLKPp4PsKBJdTYMgo1PNO5L6FTu/6cq4daOvAXZZxJsiSFp4soWdGEC+5sIaHk403u4ydKaAV02AZ7IB9oIkCRUAY0SegOg9ARCTXpDIdig+dhCb0+oJgloY8nQFMQGr7aNIQRHnR8BM6QhFZAT7PBHugC2oqEeoOTSS0OheLmpHSXLBUZgAU++xIqdT/aqRJ6dUAxjW8JUB8B5aFQBtRmPp73vPRL6EINvXdAB40Kzu3oK2ZJ4esOt5LtwMfvSEJ595zZHSGhuzxPWqvhvjnIknYYhHqUUJ/5eJxLolEmWlgvx6uQhJp06k+zu+b2uRsHdPAjmoLQnec0nny8jkEoIGppn7ji7Z20JTeXUCOrQvmgpiMk9LoKKml8KyvuKAjVycfH82xZQuMxqZmPTxI64uOrgg7bcA9EH7/z6OYSoAaDUPHxnMe36ZRsu5fI4/ZOWRc6fF7ojPdtRkDbAlCWUOgDK6eF4kng7ONFQl0uoQei0ArosPX0wJa+jQAaVzSBhCKghYTaLAqVwxjx65ESuhpA1VYnQHFvJ5ZItOLjrfh4Ocg3+niR0F0F9ETr6YEMUCR0h4ff6Db38QBoyz6egtAooejj266EuhMk9KqA0kAoAfpEmzopSxJAFQehLKE40ISPAKDxvOUsCl0roJdYr7wEoFFCCdB2z8d7TpNadOsiodHHZxJq4zE4R0no9QGF5Xa+xZF6XA+KWVL08VQeMZNQDL9FQl0hoaM+/qqAfvHsG/cDaBsBNSlNIh9vko8HGFskNNalSRIq+zubWwOUfbze8/Hw6SQJlV1ZfIRDVk+3GU2Trgnoizf+/NYUtBuEAqAtA4opvDdyfgOsurNYXTaTUPTxUUJNKaHlKSPjPv7KgIb/YZXSAGi7Bf184iwJJFTFgaY43Uk+Hg+25UQ+rY7pnAg+Y0MnANrs2027+K6E7uDrUys+HkUFjmpiCSUfb6OEmgEJbTsSetjHXx9QHKmHUbatBKFSTkFzEJr5eCs+3mRp0iQJrTHosPX1wAig0ccrkVDy8ZmEso/PJNSUEmoHjhKb9b7NCihMJT3hUhGVndEkQWguoTZKqIkSaiugCwHKm48JUF/4eK9AQj1JKPr4TEJpwQhJaBxpAoyPlNB1AKoZUKPjSKj4eJVLKAehuYS6JKHk4wcIrYAOW18P9AKq5ZgRDkIzH8/7j3nJiMZq8kikslJUYVBCbwDQEInq7VZ7zQIaJVQnH4+1PmwmoeLjJ0loBXTY+nogBxT2JOEapqe4RwlExYSfUULb6OOjhOKwaCahJu6Qly3yEyX0uoDKQCgAChLqUxAq5zBqkyS08PEm8/Eioc2whFZAh62vByKgJKFwOQWhuERSfDzt7rRtR0J5UWhHQu2xEnptQMP/AFBNgNJ6ZRV9PAehXR9fSKjLJXR4KLTOJA1bXw8MAZr7eJqjjitGRDbFx9uYJ3HtOZFQOetuysLlFQBKtcueyiBUdn7w1k6R0LhqOTtuOZfQdlBCK6DD1tsDZRDKgOrMx4cINJNQrqkQJdSUEkoT8bZNS+t5Le8hCV0XoDrPkuQs29LH2yShyceLhI7MJlVAh623B0oJ7QCKx23kEhp9vEiolShUts+lo+56zsEZ3rGzAkCJ0BCAa8mSfBoKlQ0fls5W2ZNQmo+fIKEV0GHr7YF9QGn3gwDa4h7PPArtSKjNJNR0JJRWoeEt240TugZAn3JAIT3yyceHINTu+fgooW5PQgcX3T02oOlA5a++C2VopOAcWW8PDAHKPh4BJQmNPl4lCTVRTllCuYa8HYhC1wqopPHg4wOgikt6efLxmktARngJcBcAACAASURBVAlVPNAkEmq6Ejq8e+6hAU2F5aC0B5SioYJzbL09kACFY7/xtxxQOQaHR5pkoClKKKCJOz+s3eUSmg5qkky+HSX06oBiGt/i8Tdc0itKqObDljMJtXsSSkuaOmc49Dj5hwY0FfX4EjD99AMuOMfW2wMFoEzlk898fOCykFBTSKjqkVAnEhqXhXZOGTn6zlwW0JZG5jMJpSDUJglFQG2UUDhpmgkVCR1y8g8NaFkWKfzEBed2I5XmtulHHXfOBRGBQnM7OEsM98/Bf1FCd4WE7jIJjWuaTCahkidlUegc3TCvbcP/nqDEXgB0hxvnoLUq+Xg4ECdJqPh42jyXfHzc+eFCG1FCL9qKtQNaFJaDEjRccI4v939ESx+P3zMJ9XIMjmpbBrQto1CbSSj6eCej9XIOTrprjrfI72voShQUdsajglK5DzyPiQp8kY8nCaXtnTaXUEyT7AQJrQrKgP7mT77Hj8Y4tL8HeoPQNge0zaJQLB4fo1BUkjZKqBzUFCU0O6jpQJ60BkCxukkbAN3yeSJJQqWqV5TQOB/PEhp9fJLQtpfQhwY0Kyz31XdjejQdUCzk1UZAYXqeg9BeCVX7EhrPcCii0FxC235Crw0op/EYhPqtZEk+rgolEU0SSj6eJdSIhEoU6oYl9KEBTYXlmE8uOMeX+3ugB1Dy8Z620uESCjiyPgIKEqpLCaXNSUlCneyRj1n8AQm9PqDJxzOgJKF4zp2mIDRKqOLCuiyh0cfzUJNMyPcR+tCApkpzMP4J6REXnCPr74F+QNsEqPh4JT4+SaiNqyJzCbV7Elpu8OwjdD2ABh+/9Zi1s4TqOBIqEpp8fJJQtS+hru1ZdvfYgI5bfw/kgNIiprbFQgqafTwNP4GEQv34lg8SG5BQJUsjbTrTQQZDizzpqDtzMUA9Ahp9PEeh0cezhIqP70go50kpCu2T0GsC+urtZ8+en0rPdFsU0C0RWgIqErqTojRJQqn+MVX+iD7epEQ+hAOTJHQdgGI7M0ALCcVyutlIkykk1OYSKsFMj4ReEVCoMvfqndurNFf4+G0uoSkIJQnFodBMQq3m+U5rjEhomSel3Z17edIxd+ZCgNLBk086AUqrRuJIqEio+Pg8kXdOCI1DFk0PoVcE9Aso4vVieQldEtBd4eNpmT1LqKYSbABo+IklFPZ5wlRgm0uoSxJK5VbTHPXgeaFXB1TS+BYLKXjKkpKEUhCaJBRrHycJtV0JzTP5SwLq9q2IQW+xVmc/oF4AJR/PUWjQS5LQ1uKmY0WzSXsSalMUWuZJdIjDvoSuAFAOQvGMUMmSFNTb25dQXUio4smkRKjlY0Z68qTrJklQDXFxWxZQCUJ98vHtIQlVhYQaW0hoOsIhSei+k18HoOLjtzIdr6TqHG3sjBJqREJVGYWmHchDEnpVQL9+/wJ8Lgtouy+hBCgO3ROgWBcxk9CW8qRMQjNC4yEO+3nS9DtzKUDFx29RQqmmrIzWA6CZhPKSJpFQ25HQNOjbli29bhZ/gRz+koCShPpcQsnHe5RQnSQUD7IdktChw+7mum8zAgoH/LQEqDdZFEpBaFdCcbV9JqFOJDTlhHsH2l4R0AvxeSlAWwFURwndZRLKhOKaplbJljK7T2iLv+d5Ut9ZYtcHVE6qb3FbEigoSaisuSslVFaFWlm4bKOT75HQdQD68hnYjWfx7VankdDk45OE4gb5NkqoxliMzoWxBCiuJ3FpLLSN1b1ctn+uQ+gaAQ2NagsJVR0JJSePElrkScVBTZ39c3UmadiGeiAjdNeOSmjLPr6U0DbEmcokCY2DoeLk29zJ294dnmsAVHz8kwShhYSyj+9IqFFJQm1HQm2fhFZAh22oBw4BGiVU0iQiVLU2SmgL6ylEQqOTzw/CceMSuhZAWwR0R0FoS4SShOpRCaVHhFBacpgNqSVCK6DDNtQDQ4DyGH2PhMY8icYEo5Pn0xiZ0ANOfp2Aoo/HoXpvcHkMLuHql1CdzmniKJScPDZvQEIroMM21AMloNs+CfWFhLZ4TlOQTZZQIjST0NZECXWwBbmNRzUNEboKQKOPB0CfPIzugmsQH59LqGYJNZmEWl7VRBKaE5pJaAV02IZ6YBDQOFafBuujhFKepE1y8iyhWRgaJTQe1ZRv/ijWjKwA0NzHh4zpKZdQOi4Ux510MSPPTj6ONNGMJ0loOqkpG2qqgA7b8I3Je2Db4+NZQncioXTUHRNqdVtKqIyGyjkjspQ5m/Dc24O8DkBJQiVL8kio0kyo3k/kYROWLaPQKKE2haG5hFZAj7dt5zfa2rl72u3Qx+MvsLMTd3qGm0ar7naQJ4mERkJNJNQUxzjs0hbPdNBIs64tnlvqCu8F0AAjLOCCTZ4qERr0M5uRZyefHeIgEmqzw+5wh+fyLbhxQAc/oklC4XJXQvHnIgo1VDgpd/JQyZMlNBFqSEfinuRsuD5z8s25wjKjgpKEwtkNcBA4EBoaC1oaJZTPC40SauIeeSMnNSlJ5MvjGElDq4IO22APjAMaCYVsIQCKfo+dPAFqZbg+RqHk5fkuWVccNNJL6MoAbTUGoVqcfDxzOUootZQr05CExuGnlMhbrp2U1tZXQIdtsAc6gLZxMilPk5KEtikM9QWhKKH0gEgorgWV8h9xg2ealBdC1wIoEvq0g0X1TzpJqPh4XtSkNB0wksoqBAm1WRhK65eJ0ZLQCuiwDfbAKKDs4+GnnSYJFUJJQpUQaiKhcb8Hb3LMR0PLcxyE0DUAWkgoLKpvhdBMQvEoB0+tlupzLKFWxppKCaW1oUJoBXTYhnsgEkqA9kto63caJ+eRUKVxtD4RauS4O5un8pzNpnMcBghdDaB4gAP6eJRQGFVrUUI1l1UgJ09RqGInz1Eobf6wmYQmJy+VFSqgwzbSA0IoA8qEdiV016KEAqFtKxJqOCCLTp53fpg8T+oltC009PT7tgCgLW6cQy6DhG4hT+J1yz5JqDZxvJ6HmqyEoY6OweGYJie0AjpsIz3QBZQIBUDblCbRj7i+yWROPiOUj7vjlaFy0kgktI1RaKGhIwcvT7pvswGaCG3Rx+P50rimSXy8gnLdRiQ0Egolym22qglPwskIdbmGnt7QcwH94tnNFZMtbw1fpvOZWgE0EbrzLKFIKDp5E1ImIpTCUFkZWhAah0ONdeVdm0jopQDlKJQBfQJCw2cQTrT1VJqG0DQkoZFQOh68INQhoeZYQhcFFGrQvHzzVHqm2yKAMqEJ0IzQVqaTdlFChVCPU/KBvQFCTec8seIkh7S8/hChFwW0hXn49mm71XgEOjp5cO0dQrWKmwrYyXcJpW/5QQ4HCV3cxV+iUNIygNK9yQDVPkmoENpGCY2EGizmaZhQdPK6INTlteRbOY2YTxpp560mP62lY1dRQuGTCBIKnQCnMBo4FFzjanpcNIJO3mrF80kIrCIcI6G0g64oTtOzAeS4hk4A1O5bAejtKugeoJFQz8tBw1UsPdd2CfV4xp2KBznQ3YqEYrYUN4C0NCsfJ1kmEXo5QJlQllDQUGgihKJeCKWxJnDy4QNphVDK6LNdyEpFQjMRdbszPolnK+irt99Yflv8UoDirckBbZOEIqIIKBKaeXl08iiiVnGilBdJTCKaLQ41BaFuAqEXBBSXjICrQEA17D9GQhXlTFQjEQnVQKhiQmmsKSPU0nCoiYTmm+hOeFsDLS3tsIu/xYMb8ltTANpGCWVCd1hUQeFta5FQDENBRDNCo5tPS+9wYWhce9dKhRomdL5KnlNbeuiDCoQ+bVtA9KklJy+E8nhoaJ0nRG1MlEhE46SnJREVQt0UQpcfZrrBo2/yW1MCmhMKgeiOyn4olUabmFCDBzYpXjciw02a1y8johmhfBiczWt8jWZKFwUUugFqkj8BqTSfpHGViOeRUSJUYe2kjFAR0e60PBNarg49qeDemYB+8Tu/vG0FFUALQp/oOxGKj3hCVHsmNIooEUqISv2PXETT4ruUzheIDg7ZXxzQliSUCVWejgQnPhOh6TAcIpSr0UGqRLX2MBI1GaIsooMfxWUV9OWzZ7ccg8Lt6AJaEIpTnR5/QUSBUFyGRsNN4QvelQJRHRF1adFIFFHbQbQZQPSygGI3hDwJ9yFjJBpCbZriRIteHhG1kVAjlROxhFJENIpobGkz1M46k3SoB7bZVzKY9+MfSES5tgId7xp+olMNoojiTRFE8WetTSminUX2ExC9MKC89eOJtsojoRyHKiZUU6bElbqVYkIjoi4diEMz8xMRvXdAUylE/ik9sJsE6I5VI3+MAeVIFOWyJUQ1DmTz+W9RRNOucdkIEe5pRDR39Ebul7V7jB5x3+YHFLoBzun3oSu2UUTxk6eiiNKIKPoInFXSMryEoxiIaDzQIY7aZ46+j9E7BzSVQuSf0gNg03qAEc0YfXrCYwkTolrI9BSAeoEUEfVWIMXV5uLqdXyUVzCLCZgjjF4cUOgBj+0Otn0SRD0lQ2RKGEVO42LQyGgy0U8j076D/uLOAU1laPinrC7NbiqgSCdZevxJbpYY3yT5IVJq+izdp9wEUGNMnst3bt5wvDZy2w63dMLVrYd1d5HSrbTTMJhCqc5skFG02Lbik5m38L4A/fr9Z2K0SCUV8uKf0gODpRAHbdu1p+nWT2TvTZvB5uvaHisoHTRdWu/H9JA1h+3Qm10ZoHuWSiHyT0VtxMkKeoWrM/3p3eSWruDNnvXC/QCsHdARBQU7qgcue7UCeuQL9wOwQkCh9E108TPFoFe4WgE98oX70VgfoK8/fPf1h8+/fp8mWFMpRP4pPQB2VA9c9moF9MgX7kdjfYACmi/exVlWsFgK8eRx0CtdrYAe+cL9aKwT0Jdv7r6YtNXkqB647NUK6JEv3H+H1wfo7gXS+ZIVdNyO6oHLXq2AHvnC/Xd4hYBCZaYXF1mjUm39tkJAq1VLdhDQkFEv/y4qoNUG7CCgLy9djvsyte2q3YgdAvTVX/3Hl1bQlxcpzVTtNuzXv+6Z40+Avv7T/3INF//iMgv5q63fDijoy3evFYO+uMSRO9VWb+OAvvprv7wKoC8ucyRUtfXbOKBUq3P5pKUcqD/Cv39+9/Z4LS1tfcNMskxkkl27U5e3x2tpaesD9Ci7dqcub4/X0tIOAnoRy7Z8PJddH5OC0Gt36vL2eC0tbWWAHmvX7tTl7fFaWloFdOX2eC0tbX2AHjXVee1OXd4er6WlrQ/Qo6Y6r92py9vjtbS0FQK6O2IodMH++tlbv/+Tzz//8Vtg3/n8F38XfyX7+d946/c+/pwf+/kf/mTsz5xri7eU2lm2ieznf+vj+A0f/+z7oScWs/47vE5Ad1OnOpfrrs9/9gfxJ7g13/n8x/LAL/7eDz7/cXrsx3+04Lu4AKDYrE6b8AISS9/k8R9WQNEmT3Uu110JULh3v/j7H4ugfI6aGR6Qx+D7crZ4S6mdnTYF++Hv/lv4gb7J4xXQ3WqmOiOgoBx4/wKoaKw28bEl79qFFbRoZ+bi5fEK6HqmOgVQvF/By6cbx4FafGxRH794S7mdnTaBZYDK4xXQI+dWl+uuCCjcm1JBf/43f/D5z37v4/jYPQDabRM+VhVUbM0K+kPAr4hBWU7iY/cAaLdNYBmgNQbNbNqOeLLluksA/exfgp589v0/Slk8q0187B5i0G6b8LEEqDxeAU1HhK5kmIkdHo950i372Vtv/e4P4pjhXWTxZZuonXvjoCsE9OVUUs6zNc7Fp3HQzP5rD4t3MQ7asb52gq0O0AsU8QJbJaDZ1JHYZ/9m/9/dyUxSYX3thIdXN5P0+k8vs7dyjS5+JfZ4LS3t17/uOSE9AoqwXGVF/cT6dtfu1OXt8Vpa2riCvnrno4uoaI+L/2JSLn/tTl3eHq+lpU3I4q9TTHba+aDX7tTl7fFaWtpqAX1Rzwelnya3dAVv9qwX7r/D44CCn339Hy87zMRJ0rT1Ikf1wGWvVkCPfOH+O3xAQW+/2vEauv6cq9NbuoI3e9YL99/hCS7+AlYBHbw6vaUreLNnvXD/HV4hoLQ3ftr81VE9cNmrFdAjX7j/Dq8Q0Bdv7l5+45OXb0554lE9cNmrFdAjX7j/Dq8P0CCgrz/My9BIXblaJ2n1b/asF+5HY5WAwtb4COiX730bAT2jXvxVrlZAj3zhfjTWB+jrD9/94o2PwNGjffqtvyQFrbU61/9mz3rhfjTWBygUk30zH6dnHGeoF3/YOuXL7dx//1as0w9q9OqitkJAu8aALlkvvpFfXVNctWf85ZtW0LIbWlf+qhZ54f67fzuALlkvPnJp8Yd4e+wooRXQWV+4/+7fDqBLxqBWCKUfmsjrowJqS0LHAZ3Jz/Tf/dsBdMl68Y0Q+uCAJtdRAS3sIKAL14u3AUy8JQoJtUKo7dyoE7v+nKvTWzoDoBHELqDlrxXQyXZUDwxftQ0TGgFlQX0wQGNzmw6RpYSqRVLJ/jtcAQVzQmiQ0kCoEwl1oz7+DgEVEBtsd+SwA6hdD6CvP3yI5XaBTtsAoQRoIxLqRiX0/gBtpLn0Q8SyA+hmPYC+eD5xc9B5dn1AmVAA1DXwy4MDiu2PoedRgOoTXhh/6rVxQL/+R5cpSHhtQE3gMjAJhDpklSXUhkc3J/7lWwQ0fEjp115AI4iXBVTvW1ar8z89hou3BggNaKKEBkA3eIvsqITeI6DcXPIggut1AR1T0FdvP4eCsqfiM9muDagJXIJaOgLUiYQ2DwZoIxIqzeerXUDLcaZrAhrgnHiEwlm2AkDZyYc75IBKi7cIAR308fcHqAUvAj80KKVxPNgo22bTFrbskmvGoP/kQQA1lsJQD5AClTjsFO5WHHE6+i/fKKC8GoEinAFAXQloUxJ6SUAhi38IFw8SCoQaizJqaVy0MeFn90CAQmSD3pw+lzFnYkClJ1YE6OTda+fZGgCFINQZz4ByTj/q4+8RUPbxrikAbTAI7SiokedeE9AL2fUBDT7eQX6EEqosj9xbcvcn/eVbBNRZKwNM8D3GN6YEVJWAmgrooB3VA8NXNUmoSYCCh3esoI8DqELPscHhi1FA4eEK6AQ7qgeGr2qU0JAnaQRSoYSGW2UsBqEDPv4OAaXpigxQ8vEE6EYIJUDj57YCOmxH9cDwVQLUkoQyoEioVSMSepeAQnM3bYNBqM0AtdnSGQZUJLQCurghoCihEIk2Fn28S4Burvz+LmWKfHyzw4/nDuYucIMcALrbhd/4n23gh8bws0y5t1DP+pZuHNCjPqLDVw0GoSShOBbYCKBNzBuO/cu3qKD4yYQPJALaWAlCjbJjClp2T1NK6GMr6FE9MHzVkI8Hzw4SamjOk0acQFL7o9D7A9SIjzcYhCrx8aFnAoTGCaA4lRQ/thXQYTuqB4avAp+YJTGgmYTSb70Seo+AGv5gNvzx7ABKhKqmAjrRjuqB4avKUBCqrAdCjVENSSj5+AEJvVNAaaKXAKUBewDU5YCqCuhEO6oHhq8q9vFGe5JQAhR0BJaHun4JvT9AXQCUpih4EMNtCFAcZwo9Q92gS0CtKf5UBTSzo3pg+GoCFAkFQJFQmotHZ98joXcIKEhowz6edRR8PADaVEBPsKN6YPiqAh8fHJjSIqFN9PEoKY8CKEgojmJgEBoBbXAg1EiW5BBQK2m8qoAO2lE9MHxVYxAaJFRDEBrui2mIUAa0X0LvElAbfTwAyj7eRUCRUIfjTBXQCXZUDwxf1VkQanFpqPj4FIQ+AqCGAIW4xqGLzwBt1gjoS6wIc5U6SdPsqB4YvqpRQgOREVCD+5PgB0vBWA+h9wkopkm2oUE2FwB1GIPaPUBj5tgBVF1YQR9h27EiQA0CCiuaaF9S5uP7JPQ+AbUEqEpZUsOAwjwb7cYuAW1KQNvLAnqJHR9XB9SmINRbXDYCy5cLQHsk9B4BRR9P+wkoS0IfT4AqAVQ7mEqKgAZ3k/8pMzOgft9yQKdV2zjTrg2oAUA1+Hhw8ZYllLeBULrwEIBqZ6KE2l5ALf0z6It4yoMrlzPNDei4gl5EQFcAKPt4I4Dy6noKQm2/hN4hoOzjrQShmCW5dgNTSRYBBRYJ0HCdfLtBQKOKXhbQS0SgqwEUCcUVIxZ3gEQfbx8TUEOeI+DoCFDTC6i9JqAv3j2VnWPs2oBqkwDVBKg4eedsktBj/vKtAkoLuSxuKJCBJlFQ9vFNF9DipLGLAvr6Ty/h4a8OKHCpIQglQAsJlSB0X0LvFFDDLsMioBiEqg0cnGokSwJAzR6gQuhFAb1MCDoGaDxQ+VfvgX2A37898xn1WwQ0KKimINQaLxLq5IbtjzTdJaCUJeGybViSAAPCjVMgoV1A0zG/JaAhAjj6hfGnXjs4zHQRGwa0LCwHNWg+/SC7fFQPDF/dShAKgJoooXybko+/d0BhRUL08TYFoRmgEITiAxVQtKKoB5Sf+e1/+1F2+ageGL66hSAUfDwAiiOBfBZOHoTuLbq7Q0AzH58HoT2ANq0rAW0eE9CiLBJIaXD54Oh3s1aa84qDUAYUJFQRmzTQZGh16L3vnouAalq1vAcoDDztdhYAxY11+Kzw78LXxslf0W7o759gawc0LyyH37/641xFj/qIDl/14uM1jDPhpLxIaO7jO0Ho/Sko5OlBJkMsnoJQaHcOKB2JYzetkywp/Lu2KuiOYCWLcehRPTB8NQDqebZTZYBy/m6Sj39UQA2k8QbHmQjQZg/QFIQ+FKB5DPrp9+TRuQFVPgtCNQLpIalPPt7SGfYFoXcJKPl4OmGlga0v4OMJ0IYAtf2AmscENCssR44dZPS3/33mYSaNQSj5+AAoRKGedzhCNj8gofcKqHEMKO4scEhmAtQKoE0E1JaAlgtC7xxQHgfFSnPk6X/13nvf+pFcPaoHhq92AEUfr1hCJVfAjR/3Dqj4eC1ZEvl4k0bqw+8ZoJjGPzag43ZUDwxfZUBxXb3mo+4EUFjAa/gI+3sH1GSA4oasDFAT03gC1OSAuj1AXfmXJ7yv/jtcAQVTfqsxPQpwhnAUZ549HuQATj76+I6E3i2gxmn28bS9FdKjjUlpvCsBdXuAugoo21E9MHw1AEo+3gugFgGV4NOwhN47oOg2XAdQDkLxYAsEFHZjB0AhYcoADZkSQ6kKQMfr0FVApw0zKS+AhiCUpNPD3ZLVyg8DKPt4XDIDgNLhFZQlMaC4aUsAhegTjmLBdfUV0D2b3PXjV30MQg2tvMMgFEBVtAtXCikVhN4noBaPF9G4bhsIxYInBGgDgDYUlm+aHNCmAtpvk7t+/CoC6nHrnMIsCXy8ikEobT3eS5PuD1AFbaYglBeMcBBKgOKKUAQ0COkGDhrpA9RfEtBXbz9ElQ9w8Rp9PKbxRKbKglAZq79zBS0AxTNG2MeHhzbkVHClPaXxAwpKgEZCFwUUloO+fIRtx16ypAJQRRLaGF7SdP+AWugBSHpo3bZtDAXhJaAbyZK4JAgCGv4pQXlJQLEU4gUqHl8fUMySaHu8pwPByaNREIqLl/ck9P4AdQqD0CCeCVCVA2rwODWXAEUUlwV0u28PqKAqBqEAaOHj4R5REPoogOLiwwaHgCHmZEAbTuMzQB0CClNtOaDt5RQUKs1dYlvntQH1kCXRUL3hvUlZEMo+3jX23gENfGoZZ2oopsHlISCdcSC0YUDxEqwTAWJbGKm/PKCv3vlo98UFsqTrA6q8SUEoFVRgH29lS1IMQjfFc8964cNXp7d0BkA1ZEkaPAZubk0+ngGFrfGwDTkBClmSGQV0N07oeYDCrvhHqHbcMqC44g5LfhCZAqgyvMmzySX0TgHFSQkCtAFAGwJUbRhQ8igIKI0zNQSoTCV52Ht3IUAfRUEZUA5Cg5ASoFpGQp0sDS0k9P4AVQWg+Imk8TUCNGZJGaAuA5Qk9JKA7r549uyNBzg8rPVaxSDUKE3r6dNIKESgSULvGFCncH4X0njbREBxJaiK40xY+MRtXA6og1SJAHX+goBeyK5eaU6lIFQARefOgMItIUCxwNXdbp0DQDWk8VaLjzdUU1d1FDSNM8F2uSCmsHXO7WC7HAK628Wdc3bkBQ/bjQM6WRvGr2pI4zkINYqDUE2AKvHxhs5qShJ6hwqqeC6JAUUJVezjN47nOiVLknEmh8uZmqZUUJHQx1bQyV0/flX7GIQioEoklGor4DEw1jgJQps7BzQ0MwM0C0JLQF0GqE2AthXQZJO7fvyqhiwJFjNxlpQDGtOkPI/fzPTCh69Ob+msgGKWhB9JHPlMQajhc+8E0ECow6mkpq2A7tvkrh+/qoOEel1mSSoFoZYGQU0KQu8dUJzrxOTQwr65HFBcPNIHqJXUCAFtKqBgk7t+/KrWvsySlOExUApC6V6lILS5W0BdD6CqB1AF/cBpPAEKQ6YV0K5N7voDV7VXcaieAC2CUJTOcBcsu3iS0PsDVKOEaiOAQtsNllPAlbIbHHnDiDwHtGFAYTSUAG0qoGyTu/7AVVZQCELhfLu9IJRuFldhEwm9V0A5S0IFhclO9PECqCFAscAuTSW5BKgRQI2rgKJN7voDVxFQxVlSIFXbDFATJTQGoSih9weoKgC1NHLBaRECCsuarAAKk/GOqiZCDNrEqaTwKXeuAgo2uesP3BgC1CRARUJN8vHx1HqR0HsG1GgbffweoArH7kEy9wAFLAnQpgK6mxFQyZJ6AQXXzjmSBKEgoXcLqAShNgtCYW98s7EKvLfCNN4lQOHslSFAbQV0StcfuDEBUB2zJN/JkooDHOgg2/sFFI5HzQGF00WwuCwDarHYl6NjGxjQhgBtCVBTAU02uesP3BhK47dKwbYP3IIM94UnOw2VZeGppOTj7xJQlQOKQajBufiGAMViSQSoybKkxoCXLwHlILQCOgMnW0WAmjxLMlh2rgCUyyOyhN4poDDOZChLUjEIBUADmxvc8tkBFPsGBvQJUNycADnSJQB9kG3HBwAlQi1HfAtXmwAAGt5JREFUoU4IvV9AtZwfxj4eT1pECY1pvHKGB0IZUNRS0wPo+KaP8wD9+v3nD7FpzkMa78s0nn28KSTU4A/ZYP2ZL3z46vSWzgCoz7IkikGtwiA0AgqiCmk8AApzR9Z1AG3dJQHFbccPsOXDc5YEiGrIklIQaoRQ8fHO3i+gOgtCNW3NMpwlSRCKU0mB2ACoIUBh5QhQ2+BIfQCU1tvNBujTvj0soFvaHI+c8jH1RqLQhuemMx9//gsfvjq9pTMpqKTxGnNE+FAmQAOhksaDssrpIqKgDGjrdWuay7n4C+z5uD6grQSheHoDAgrKoURCLa6MpCB0oo+/QUC3AuiWAYVAB7d2AIcQdmaANgWgaSA0eKAc0N14lnR+kvTXL1Cuc0opRKmBmB7YzZckQRAa/i9ZUgTU5z6ei89RperDEnqDgOoIKJzOBIDmQahqGFA4bgWqJEqWRICaDqDNJQANdt2jb7JSiFTao6yNOLnrx6/uA8pBaATURB/vXJLQs1/48NXpLZ0tBlUIqAShin08AapyQG0HUHtxQPHomzfP5u+gTSlDw9W7itqIMwNKWVII8RUO1Ye74yUIpaPeuMDsAwGagtCQuzcYhNKBVTmgCunM0vgAKJ/btLSCfvHsykffpEJeXAMxPTBjKUQAVDOgZRCaAYo+HteLNJHQmV5/LaZ5nMlGQLEWDyloAlRG6mFcNHSGNhmgux0AuoM1eryx0561rfOwi7+ETSmFyDUQ89qI8y2320IarwBQ3c2SjE0+XgaaJknoDSqokiA0B1RR3VIOQnGcCX5XDKgrARUFbSRLWjwGvYRNLCYLcWj5wOSuP3B1y2m8N8qnIBQisAJQCkJTmnS3gPJIPW7+ULRGhgB1NqXxwcVXQMuQMwC6TAwqWRIDStuTGFCoEaDkyFBX+PjRgaabBnSrII2nQ0bYxxuDPp4pDYAqQ+uZNE7MqzQQCkvqHwXQVAqRayBmtRF38wOKzt0nH69jlkT7Pfj4hkkSeruAGhlnMlASMgahDKhFPx+zpAbTeIPrmTJA2wcBNCuFyDUQFxkH7aTxKQgtAOUFkm5aHn+DgGpO443ngVATsyQYmKdTRzZBHSOgGx5nAkBxib1pDQCaRurvHdBxm9z141e33TQ++niPi0bibBJvQLaOJfTOAG17AVURUJh9VxtK42mkHgDFY5dNBbTPpnf96FWPgGqNWRIe4NAJQnWUUGdzCR0LQm8Q0K3SBaCeg1AGlIbqCdBmD1AlWRIBKgOhFdBZAM3SeA1iGoNQGlXJFNRM9fE3C2jwGgwo5u80n0RBKKwNDYTCOJPaNLgtHmvNNngECwFqK6DJJnf9+FUfsyTNgKKEGgKUzgllCXUkoa45mCXdMKCooAYLdnYBpSBUAHUV0HGb3PXjVxOgOMrE6Xzw8QpFAzdBHO3jbxlQExJF8fGwtSAGoTAGehhQRwOhBOj4po8K6LSB+iyNB0B1AlTjQvpMQo2kSQck9AYB1ZzGB0BVHoSaLEtqckAhCMXY1FIaT4C6fKS+AjoboLrVMtlJdWUBUJ+C0ARoLqHnvfDBq9NbOkcWv+2k8VhFlwGVIFTZgGb4fWMpS2oMTSVRGt8aBrStgO5mLEOTpfEIKPl4T+NMMNaSB6FUlOYOAfV7gOoIKNaLok8rZknKbegkW0uA2hLQOM5UAZ0HUEzjI6BGF0Go+HibSSj7+OEg9CYBLceZcO+xw49mzJIaALRhQDEIBUBpuwEBCgOhlwP01Tc/Wb7g3LoA9Sr38Qgobf3IgtAJEnq7gPqooMGH0OnSlmfjTQQ0ZUkFoDxSD3W96OgGtyygX8C++NcfPl923fK1AZU0Hqt9KPHxKUsiN5cAJQm9Q0B9BNRiw7WjxmtDa0FUA5/YgCYCankg1BCgnMb7CGizPKAv3vjzoKCw6wOVdClbC6AqZkns4xlQ8vFcmsaRhKKMjvn4GwT0SYJQAtTEIBQAlel45SwBikEoAQrBqC0BbR2NM50N6P/dt66LX3z38UoAzYJQxT4+yAVuTlKmDEKTj78vQGW5iLdYVNfRQcvGEqBGgtAeQC0D2pqZAZ0Qgy5esvP6gEIa72mcCWpRw/ENDCjcE1v6eHTyLjvn7vQXPnh1ekvnVFAE1IGPNxyEKhxootl4C+c3xDS+SYDiOfVwZBAOM10O0AdQ0AJQWNDkdQIU4zAdNTT5+DsENKbxDKhLgOKJNwio2hCgeHqDo6XMeHRVDqi5HKDrjUHnMkzjPbl4ransMfp4BlQOcMgHmlz08Xezd853ADV4+I+k8XB6LcWhBKh3G8qSEFDPgO4Q0J3ZAaDhb8K48RlvaRKgrz98986z+JjGo5BuwcWTj9/S6SKwjdFI4c6JEnqDCuqfyjQ+BKCa9rxwEIoHilCW1ACgFITSXGcaCKUl9VBklurQ1XHQ8+9bBBQlFFKF6ONp7zH5eFkwYoqBpnsCNAWhmMZnQailMxxgRh6zpAxQnkrKAQ0+nrKkpQG9iK0FUM2AchCqEqAooWnrnGMfP3ZI0w0Cuu0BVApBBt0k+WxALjcIqOPxJRqpx5NuewAdPT2sAjoRUMqSOAj1mpaGYhCqTObjlZ0soTcIqC7T+AioFUBBQQVQOA0cAd1YBNQDoHA4o6mARpvc9Yeu5mm8Dncp5vHKekzjTZ4ldQDtJ/Q2AS0HQpFQ2vOiaCS0Ayj4+AQoZkkZoDCVpCugU7r+4NVcQf3WUBCK60W8SKjKN3fabFn9PQEqaTwAyj4eNrlo2uYB/t3BCWIbGHXyCVA3CugIoRXQyYDGNF5TbW4BNPPxak9Cm2FCbxBQrzmNh7NSYxDqg3MHQJOPh7kkBNRtMEvqABp6DQBt0cVXQGcGFHQUlzNRyU4A1IuPVykIdQd9/A0Cmvl4bxBQQ0P1EoTa5OPDN49BKI4zZYAaAhSXLJ8P6DpsNYBKGg8+ngHFeXgcqHaUJblMQpsooSe/8IGr01s6RxZfZEkGV9RzEJoBagjQFIR2AbU5oLsK6JSuP3iVsyQGNPPxCoNQFfN4k0toM+Lj7wDQFIRCluTw5LCooLAh3rkEKKXxWFuBAcU0vgI6K6A8zqTwv3CvOEvCQ+5APoRPDkFjENojoXcBqDY00ASHWVjHc0kwNoxZkqEgdIODSxuQ0AioRUBbAHR0pL4COvW+FWm82koQSlmSYh+fglCq+DEmoTcIaItDbCpL4x0DCr+Ij3cKThCDsojeJECt+HhKklwFFGx61x+86rdtSuPRx3MQqnEkFNYvWwLU9Pn4fQm9RUC3ZRoPQSgQ6hQCanF7q2oIUPTxWOYDAW0qoD02vesPXi3SePTxVPVY0xZP9vEYgwqhuKp+UEJvFdAsjc98fPgeJBTHmXAgNAIKx6iVI/W4YtlZ3pVUAZ0TUMqSANAtAEo+nrfOYequGFBHgNoE6J6E3iCg2ywIZUBdBqillV0CaAPjGxiGlwOhCCgsDIUhKKd0BXSW+4aAtgyoN9HHa9rhybvjKQg1KU1q3NBI0x0Aikc3MKAe98ZjGh+C0NABG6qG7ATQEITySH0DCoqAugrobIC2BaBFEMo+vgB0X0K7Pv4WAQ0+ngGFU29w15yl3a3wC51Mj4CGTthgQQUTAYXtciCkCVBcEara+wY0Haj81XehDI0UnCOb3PUTrhZp/F4QyrLJK+5YQgnQAQm9RUC32zKNZx8fAWUfz4CSjw954oYGmHCcKQcUJFS1o6tFbh3QVFgOSntAKRoqOMc2uesnXJU03vMxjL4IQo1KPr4RCbV2xMffIKDg431M42308Q6DUAIUN8fD4PzGShDqmgSorLfDIxyg2lwQ3XsGNBX1+BIw/fQDLjjHNr3rD19FQEE3OQhFTBlQnkyKPl62dxYS2vHxNwpoSuOt+HgKQqELGFCHn1GYjscglADNxplwzwcFofcOaFkWKfzEBed2s1aaQ5M0ngDFxWbg4wFQ7WmYiX08S2g8hzEexTjn27mKdbIkANSQhOLCEdxe4JTpAAp6Cp1gJI0HQJ3bAaC7BqZIr92uc21Kpbkd1aThgnN8ebo2TLjKWZKnIBT2jMUgNPp4AjQNhdpCQk984bGru8ktnUFBn/IgFAGNPh4AtSShyqCPt82mCyin8aaBkXpU0PB/APSYlq7Rpinob/7ke/xojEMnd/2UqymNpyBUSRC6xckkE4NQU/r4KKGlj79FQNttkcZHH49Llg2MMmGWRIC6TRO6BRsfAZUs6WEAzQrLffXdmB4tDOhWfDwWpeGBJhxmYh+Pmxg5j3dDEnovgMIB04FQTXW4EVCDgCYJBRBBOz2svouA0mJRBHSY0FsHNBWWYz654Bxfntz1U65uOUvCM+4EUAxClbYpCLWFhAqgjo5wOOmFx67uJrd0jiTpCdP45OItNF4AVSChDKgDQN0mz5Jgx9weoA6D0DsGNFWag/FPSI+44BzZ9K6fcHUb03i9F4Qq8fFw0p1IKBf1ShJ6L4BiHu+N+HhPQagCCYVJJNyahEd+bxRV2M2zJBxn0qbluaR7B3Tcpnf9hKs+Zkng4zVKKALKY/UooSaXUNOR0ObmAUUfXwAavIdjQC0NNPHmTvTxEIRaDEKhA1IaXwElm971U65mgBY+nubjLZ0PWkqoHZbQ2wU0pvG4W5B8PBZGRAmNQWhDgBpczwSH1WeAQtFE8vGmAjqp66dcDYDiKaEK/JzHvfGKd46RhJKPt5Iv0YqRoTTpFgElHx+zJJTQfkChvejjJUsCTCVLIkDbCuj8gGo6xpaG7I0ufDwqKIyEOqxaFX08RWF7A003COhTBNSzgmKaBD5e40F3BgG1sDAUmguA0kl/BGgjWRIA2lYFnR/QlqaRAqCe1BN2ICuUUMWxp0hoQ2Xnhn387QLqI6DRx8NhjIokVAD1JKGGglBg0WaAthHQtqmAznTfJI1XIKGZjycJVXRIvbFjEtrcNKDtUwhCnzCPj4CKj3f0EYWppOjjm+jjG1pabygUbXABMwShTQs7k0dG6iugxwIKS+l99PECqBEfD0GoSGha0xQlNBsKvUlAg4Q+xTR+SxKqgUk8MFUk1EQJDS3GgSYBlLMkAtRWQKd3/ZSrWy9ZEiwK9TgCCr6OJNSLj0cJtXFZ6FAUequA4jiTygENEmrxw8oSSj5es4RyELqxOJnEgIKPp0IoFdBZAW0FUBgKVejjUxQafTzNybOPH5LQ2wbUwznLKvl4DEKpHDcB2rCPVxs8rwGKdrKPF0Bbx4CqCuhM902ypJZ8vCLZKCQUD8IBCcU0iYoBdyR0c/wLD1+d3tJ5hpmeeNeHZkCTj3c8FkwRTgCUJFSxj0+AWgK0ofEn11ZAZ7tvEVDUTlhSjxXkWUJh1TI6dVnWFCXUlRK6OfqFh69Ob+k8gFIQik7eY+V4XFcPPh4WJCjL67UVEOpFQjEI3Tj08ZIlIaC4ZBkeOqKla7T1AIpBqGcJ1TQbLxJqxMcXgDobnbwsrL99QCUIpeP9DAehliVUfLxIKDiREtAUhFZAZwU0ODcMQllCo4/HCgqUJeA5jFSgW0aajC0WLjOhNwlo8PEZoDIUCj5e40F/KgFqWELBx0MQCkpKNUDyILTZubYCOtd9i1mS9+zjNfl4pbs+XicJddHJN7mTv3FA0ccHCcVyXujjYYUoF40CHx/8uIMJeRUSeGw7SKhvJAj1OB1vCFB3REvXaOsCdIs+HhLZ5OOJUNLNJKENZ/G9EnqrgEKWRIji0QC5j1cU2zCg/HkUHx8kVHw8AdpWQOe2LW+c23n/hDcodLOHaZOOhFqapVZxZb0U+Goiodduyqn2tAMJ3dJIvUIJJR+PI6GQwtP5fjgEhc1lCTUgoVi8E3bVhZ7b8ZZkt2tuftvcahS09bRgl308MepFQilNsvsS6uS/PFG6TQUtg1CoCWlg/zGe3MASiku5FEqoh/YioA1LKI+EwlZtQ0Eo7I5Xg0HonSvoUV0/4ar4+BYJ9bS4yaOEek1pkomEsoQKobmEoobO8ramt3R+QDWO1rOEymSSSj7eaFzCpBqcRjLhGwShFiQUAG2Nodl4GAmd3tI12poA3fJ0/JPU9IIjcUhCde7jKVtqooMXCY2E3iyg7RMGoTjhq0hCjUioU3SKGgAa6NNNlFBEFXd4MqAgoQ4nOseC0ArocYDiCU1bkNAnSpPwVhkZatJKTgEXCbUdQptyrOnstzW9pTMBGgh9olJmChVTQyiJPt6IhHIQivVLJeqmU9RgxB4W18OeD2vbCuhxXX/4KgWhtO/4iY8RSxKaFkxg2Tk83K3h3Z6Oinu57mjouW9rekvnAzTz8R5jTY1pUtBPlFDNgIKCetzEGQGF4vEgoQFQOPAGttLTsQF2iNAK6EmAbhHQjoTiacOKCZWVTfLFZk5+tAjykW9rektnBpTqnBQSClGOU3x+A/v4KKHUbiwuiz7esYQyoO0AoRXQIwGlUxhBQp/4FmEyL4SSj8cbFCWUCHVyZug0QtcLaDYbb2hpfZRQIpQkFM+sd9oxoRve27pxMECvIDptfVrLrCqg89w3DEJb8fF4hAOWRjQmk1AgVEcJNaymLpPQw4SuGdCntKgeg06SUCwUpXGoDSVUOZgA9Yaj7g0sDYGyNJjH4/n0PjyB1os0Sg8QWgE9HlCYigcnDxL6FKNQkySUV6EpOkUsnTMS55Piwqbz39b0ls4JKC9ahmN8/ZYkVOPRi7jojhYtw7J6a5OENuTONzjHSYU+PG6JwQOa7AChFdAj79sW9na26OSftiShsKVTJjwLQnl1aIdQO4nQ1QOKg8CUyNOaJk1HOGhUTo5CLfh4WxDamCChCGhDEtrA/wLUbS+hFdCjAQUfz07e85omJDRKKNwZnfKknFBnpxK6YkAhTdrSOhkkNEkoE4oSioX3FFVSQkLNBjy7a0BC4SedAwpRaS+hFdBj7xsuuSNCn2IUqvWWjtQyKKEGj2yno8SUVOnuJ/TctzW9pXMC+kSbj7VsegEJ1UIo5ImKFzYhoejlXSSUJNQhoaahI+6cHSC0Ano0oO1Wg4ZucRqejrPFCU86D4Z3J/GiHqwCjCVATFozEhEdk9C1AwoSqjQRus0IVbDU01DVE0u+xNG6Jig5t0EnD4mTAUgbD8dQN1hUFgmtgJ5/38DHt0woTyd5CkN1tu4uLTujMvIjhPYjumZA2ccLobAsdAuAehwMdehCsAPgIDE4N1RW3jV2Q9UUsPYcrnDisfqmBULNPqEV0KPvG/h4DQc3wJQ8EUqJktHbuLheE6FRR7BMOgWjOaLDU0prBxRXheJmFy77jEuWNS6mhx7gRXdQUZYJpcWhqKFBQmEYDtY6BR+fNLTdJ7QCejygcA4jEIpOHic8CdFIaFy8jBrKR+GYSKggOjrruXJA5aBQxSvrNWfySCV2AAXeipqLC5adjNjDXhDtHB7JaOjoUNgwjwfddwmtgB5/31A94f4AoTSfBIhCJo+EEqKwHAKdHCGaDT0lK9aHnva2prd0VkB5Oint/dC4CtmShhKhjhCFCSWuOEdBjcXN8FpnhDZYSB7qIuK5oaMtXaNNqjTHP6UHdksB2rZAKC69A9+uBVHvpYYQTSpFT4daSiJqTM7o8NqRVQMKEkqJvMwoefxkOjrkDgjVNBdvcIoJRTQiCqmS22wAUZhJQvXELAr+SSC0ENFbBzRVmuOf0gNgx3f9lKuBUEIUKNUlooYJjYgqQtQyojQ8miAtJpZOOJxxekvnBhQG2UBEGdGtNBtFVGMur1BF8UAHhw3PEXWAKG2ca2ihExzBDCeK5SJ664CmKh/8U1b2Y7cYoGAtE1ogyhl9QtSYUjLjL/tCSnduc+Sm5N3kls4JKCMaAh0av4DxYK9Uzqj0CjoO+ZSGdjc84ATmcEwKj6/nT6nDZXoOT8Vx/S1do02pk8Q/pQfmrjTXsW00TzJCu3S6ZhaxBds13Z6eopBqzWoqpueyazdymk2pNMc/FaXnFlLQWa7O9Kd3k1u6gjd71gsvStiZdpKCgh3VA5e9WgE98oUXJexMW1kMOsvVCuiRL7wwY2fZlEpz/FN6AOyoHrjs1QrokS+8KGFn2pRKc5cbB53nagX0yBdeFrHzbF0zSfNcrYAe+cLzoLSMVUAHr05v6Qre7FkvPA9Ky1gFdPDq9Jau4M2e9cLzoLSMLXm63TmD+WdNBFz6hW/qzc7z5ItZBXSG597Um53nyRezCugMz72pNzvPky9mFdAZnntTb3aeJ1/M1nLCcrVqvVYBrbZqq4BWW7VVQKut2iqg1VZtywD6279471s/6qwumWpfffe9b//0tOfiYsC+lS1Tnxte+70PjnnuOQ09o6XnNPTEll7LlgH00w9gGX65y26iwZLoX5323C/hfvfu8Jv4XHjtr/74R0c894yGntHScxp6akuvZYsACkubd/mS5yMM1+3/+5+e8NxPv/WXsDSwb3X1xOd+Cffq0w+mP/echp7e0nMaempLr2aLAPrVv/gf4PnKPSITjXXlpOdCX/fuT5n4XH796c89p6HntPSchp7W0qvZMoB+9wPov3KX3VSjsOik50LX9+7wm/jcHe0emP7csxp6RkvPaehpLb2aLaSgJ3644bl//KPdl9/+6ZUU9Dd/8r3dEYJ4TkPPaekMCnpkS69my8Sg/wHbfVKEwx/q0+LX00MzyW1DZntESHlOQ89p6TkNPa2lV7PFsvjw4Sx32U001pXTnvvPf9q/w2/ic+muHfPcMxp6TkvPaeiJLb2WLQNoiK5OHcvcffneyUOL546D/uo9sA+OeO45DT2jpWePgx7f0mtZnUmqtmqrgFZbtVVAq63aKqDVVm0V0GqrtgpotVVbBTS3//e/dq/e+eja76JaZhXQzCqc67MKaGYV0PVZBTTZq7efPXs3QPrqnT/Hn8KX57vd6w+fPfvGJ3QVfq92UauAZgYKCoC+/Tu/3L18Bl++8cnrD9/c7V7+zi9RXV+9XQm9sFVAM4uAPmcWwy9fgHp+/f7zV9/85Npv7yGtApqZAIpiyV9ePkN7d/fi2bM3r/0GH9AqoJn1Aho8PdvX72MwWu2SVgHNrA/QL97IMvvg6q/37h7TKqCZAX9dQF9/GCQ0UIqxaB2HurhVQHN78ezNLqA4zAQq+sUz+l7tolYBrbZqq4BWW7VVQKut2iqg1VZtFdBqq7YKaLVVWwW02qqtAlpt1VYBrbZqq4BWW7X9f1tXXXSLpiwSAAAAAElFTkSuQmCC" /><!-- --></p>
<h2 id="calculate-life-expectancy-mean-survival-for-each-patient">Calculate life expectancy (mean survival) for each patient</h2>
<p>The following sums over the distribution of survival on time to obtain the mean survival, which is the life expectancy.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x <span class="sc">*</span> times_vect)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>le_check <span class="ot">&lt;-</span> <span class="fu">apply</span>(tot_surv, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>x</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate proportion who died in the interval</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">lag</span>(x, <span class="at">default =</span> <span class="dv">0</span>)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the expectation of death</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(x)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(le_check <span class="sc">==</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(le,  <span class="fu">paste0</span>(<span class="st">&quot;Data/&quot;</span>, params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, params<span class="sc">$</span>correlation_como, <span class="st">&quot;_le_pre_offset.Rds&quot;</span>))</span></code></pre></div>
<h2 id="offset-life-expectancy-to-allow-for-the-fact-that-the-le-in-wales-is-lower-than-the-who-levels">Offset life expectancy to allow for the fact that the LE in Wales is lower than the WHO levels</h2>
<p>The following corrects for the fact that the intercept-only life expectancy from the models in Wales are slightly lower than those in the WHO GBD life-expectancy tables. The Wales life expectancies are multiplied by between 1.07 and 1.02 depending on the age.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>who <span class="ot">&lt;-</span> who <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">who_ratio =</span> who_remain<span class="sc">/</span>expect_remain_years,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">who_le_ratio =</span> (who_remain<span class="sc">+</span>age)<span class="sc">/</span>(expect_remain_years <span class="sc">+</span> age))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(who<span class="sc">$</span>who_le_ratio)</span></code></pre></div>
<pre><code>## [1] 1.050812</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;men&quot;</span>){</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.07</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.06</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(params<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;women&quot;</span>){</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  who_offset <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">~</span> <span class="fl">1.04</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="fl">1.03</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">75</span> <span class="sc">~</span> <span class="fl">1.02</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  age_smpls <span class="sc">&lt;=</span> <span class="dv">85</span> <span class="sc">~</span> <span class="fl">1.01</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>le <span class="ot">&lt;-</span> le <span class="sc">*</span> who_offset</span></code></pre></div>
<h2 id="years-of-life-lost">Years of life lost</h2>
<p>The following calculates the years of life lost from the age, sex and comorbidity defined survival and the age and comorbidities at death from the ISS data.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>yll <span class="ot">&lt;-</span> le <span class="sc">-</span> age_smpls</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(age_smpls, yll, <span class="at">xlab =</span> <span class="st">&quot;Age (years)&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(yll, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">xlab =</span> <span class="st">&quot;Years of life lost&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Number of simulated patients&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="compare-yll-using-who-tables-and-comorbidity-based-assesment">Compare YLL using WHO tables and comorbidity-based assesment</h2>
<p>Among those over 50 for which both methods were used, the WHO tables based estimates of YLL, and our estimates which additionally accomodate comorbidity, yielded similar per capita YLL; the values were 14 and 11.05 respectively.</p>
<h2 id="yll-by-age-and-comorbidity">YLL by age and comorbidity</h2>
<p>The following shows the distribution of YLL by age, sex and comorbidity by age categories.</p>
<h3 id="table-yll-per-capita-by-comorbidity-count-and-age">Table YLL per capita by comorbidity count, and age</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>yll_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">yll =</span> yll) <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comorbidity_count =</span> <span class="fu">factor</span>(italy_count, <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">age =</span> <span class="fu">round</span>(age_smpls),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">age_cat =</span> Hmisc<span class="sc">::</span><span class="fu">cut2</span>(age, <span class="at">cuts =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">10</span>)))</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>yll_smry <span class="ot">&lt;-</span> yll_df <span class="sc">%&gt;%</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(comorbidity_count, age_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">yll =</span> <span class="fu">mean</span>(yll) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Comorbidity count</span><span class="st">`</span> <span class="ot">=</span> comorbidity_count) <span class="sc">%&gt;%</span> </span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(age_cat, yll)</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;comorbidity_count&#39; (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(yll_smry)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Comorbidity count</th>
<th align="right">[ 50, 60)</th>
<th align="right">[ 60, 70)</th>
<th align="right">[ 70, 80)</th>
<th align="right">[ 80,110]</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">34.65</td>
<td align="right">24.45</td>
<td align="right">17.38</td>
<td align="right">9.35</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">33.95</td>
<td align="right">25.14</td>
<td align="right">16.60</td>
<td align="right">8.25</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">30.15</td>
<td align="right">21.49</td>
<td align="right">14.43</td>
<td align="right">7.25</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="right">24.84</td>
<td align="right">18.75</td>
<td align="right">12.24</td>
<td align="right">6.37</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="right">20.95</td>
<td align="right">15.74</td>
<td align="right">10.50</td>
<td align="right">5.34</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="right">17.29</td>
<td align="right">13.23</td>
<td align="right">8.83</td>
<td align="right">4.44</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="right">14.32</td>
<td align="right">10.75</td>
<td align="right">7.34</td>
<td align="right">3.82</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="right">12.38</td>
<td align="right">8.74</td>
<td align="right">6.21</td>
<td align="right">2.93</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="right">5.51</td>
<td align="right">6.68</td>
<td align="right">4.98</td>
<td align="right">2.67</td>
</tr>
<tr class="even">
<td align="left">9</td>
<td align="right">6.02</td>
<td align="right">5.19</td>
<td align="right">3.09</td>
<td align="right">2.90</td>
</tr>
<tr class="odd">
<td align="left">10</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">0.92</td>
</tr>
</tbody>
</table>
<h2 id="plot-distribution-of-years-of-life-lost-by-age-and-comrobidity-count">Plot distribution of years of life lost by age and comrobidity count</h2>
<p>Plot distributions of YLL overall, then stratified by age, with colour indicating the comorbidity count.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>plot1_yll <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(yll_df, <span class="fu">aes</span>(<span class="at">x =</span> yll,  <span class="at">fill =</span> comorbidity_count)) <span class="sc">+</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">&quot;Number of simulated patients&quot;</span>) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">&quot;Years of life lost&quot;</span>)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>plot1_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>plot2_yll <span class="ot">&lt;-</span> plot1_yll <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> age_cat) </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>plot2_yll</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<h2 id="crude-approach-to-obtain-95-credible-interval">Crude approach to obtain 95% credible interval</h2>
<p>The following approach uses empirical bootstrapping to calculate an uncertainty interval around the mean YLL. This</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">map_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, <span class="sc">~</span>  <span class="fu">mean</span>(<span class="fu">sample</span>(yll, <span class="dv">404</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(res, <span class="at">xlab =</span> <span class="st">&quot;Mean Years of Life Lost&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>est <span class="ot">&lt;-</span> <span class="fu">mean</span>(res, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>lci_uci <span class="ot">&lt;-</span> <span class="fu">quantile</span>(res, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">paste</span>(<span class="at">collapse =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>est</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>lci_uci</span></code></pre></div>
<pre><code>## [1] &quot;10.4-11.6&quot;</code></pre>
<p>The mean and (95% credible interval) for the years of life lost using this approach was 11 (95% CI 10.4-11.6).</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="ot">&lt;-</span> <span class="fu">list</span>(est, lci_uci, mean_age_restricted, mean_age_whole,</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>               plot_ages1, plot_ages2, plot_ages3, plot_surv, plot1_yll, plot2_yll,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>               who, yll_df, yll_mean_who_restricted, yll_mean_who_whole, yll_smry)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(mylist, <span class="fu">paste0</span>(<span class="st">&quot;Output_rmd/&quot;</span>, </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sex, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>correlation_como, <span class="st">&quot;_&quot;</span>, </span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>                       params<span class="sc">$</span>sd_como_age,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;.Rds&quot;</span>))</span></code></pre></div>

</body>
</html>
